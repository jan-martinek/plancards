{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","global","factory","define","amd","mod","autosize","this","assign","ta","changeOverflow","value","width","style","offsetWidth","overflowY","getParentOverflows","el","arr","parentNode","Element","scrollTop","push","node","resize","originalHeight","height","overflows","docTop","document","documentElement","endHeight","scrollHeight","heightOffset","clientWidth","forEach","update","styleHeight","Math","round","parseFloat","computed","window","getComputedStyle","actualHeight","boxSizing","offsetHeight","cachedHeight","evt","createEvent","dispatchEvent","err","nodeName","map","has","pageResize","destroy","removeEventListener","Object","keys","key","bind","overflowX","wordWrap","addEventListener","set","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","init","methods","get","Map","values","indexOf","delete","index","splice","name","Event","bubbles","initEvent","options","Array","prototype","x","2","decodeComponents","components","split","decodeURIComponent","join","left","slice","right","concat","decode","input","tokens","match","singleMatcher","customDecodeURIComponent","replaceMap","%FE%FF","%FF%FE","multiMatcher","exec","result","entries","replace","RegExp","encodedURI","TypeError","3","self","docCookies","getItem","sKey","cookie","encodeURIComponent","setItem","sValue","vEnd","sPath","sDomain","bSecure","test","sExpires","constructor","Number","Infinity","String","Date","toUTCString","removeItem","hasItem","aKeys","nLen","nIdx","4","exprEval","Instruction","type","undefined","unaryInstruction","IOP1","binaryInstruction","IOP2","ternaryInstruction","IOP3","simplify","unaryOps","binaryOps","ternaryOps","n1","n2","n3","nstack","newexpression","item","INUMBER","IVAR","hasOwnProperty","pop","IEXPR","shift","IMEMBER","substitute","variable","expr","j","replitem","expritem","evaluate","functions","v","IFUNCALL","argCount","args","unshift","apply","expressionToString","toJS","escapeValue","JSON","stringify","contains","array","obj","getSymbols","symbols","withMembers","prevVar","Expression","parser","Token","TokenStream","expression","pos","current","consts","savedPosition","savedCurrent","getOptionName","op","optionNameMap","ParserState","tokenStream","nextToken","next","savedNextToken","allowMemberAccess","add","b","sub","mul","div","equal","notEqual","greaterThan","lessThan","greaterThanEqual","lessThanEqual","andOperator","Boolean","orOperator","inOperator","sinh","exp","cosh","tanh","asinh","log","sqrt","acosh","atanh","log10","LOG10E","neg","not","trunc","ceil","floor","random","factorial","gamma","isInteger","isFinite","NaN","res","PI","sin","twoN","threeN","fourN","fiveN","pow","E","GAMMA_P","GAMMA_G","stringLength","hypot","sum","larg","arguments","arg","abs","condition","cond","yep","nope","Parser","cos","tan","asin","acos","atan","ln","lg","-","+","!","*","/","%","^","||","==","!=",">","<",">=","<=","and","or","in","?","fac","min","max","pyt","atan2","if","true","false","toString","parse","vars","variables","filter","toJSFunction","param","Function","TOP","newToken","save","restore","isWhitespace","isComment","isRadixInteger","isNumber","isOperator","isString","isParen","isComma","isNamedOp","isConst","isName","parseError","charAt","startPos","quote","rawString","substring","unescape","c","toUpperCase","toLowerCase","str","isOperatorEnabled","hasLetter","codePointPattern","buffer","codePoint","fromCharCode","parseInt","backslash","radix","validDigit","valid","resetPos","foundDot","foundDigits","acceptSign","validExponent",":","optionName","operators","getCoordinates","column","line","newline","msg","coords","tokenMatches","token","isArray","accept","expect","parseAtom","instr","parseExpression","parseConditionalExpression","parseOrExpression","trueBranch","falseBranch","parseAndExpression","parseComparison","COMPARISON_OPERATORS","parseAddSub","ADD_SUB_OPERATORS","parseTerm","TERM_OPERATORS","parseFactor","parseExponential","parsePostfixExpression","parseFunctionCall","parseMemberExpression","parseArgumentList","parserState","sharedParser","5","saveAs","view","navigator","userAgent","get_URL","URL","webkitURL","save_link","createElementNS","can_use_save_link","click","event","MouseEvent","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","ex","setImmediate","setTimeout","revoke","file","revokeObjectURL","remove","dispatch","filesaver","event_types","listener","auto_bom","blob","Blob","FileSaver","no_auto_bom","object_url","force","dispatch_all","readyState","INIT","createObjectURL","href","download","DONE","FileReader","reader","onloadend","url","open","location","readAsDataURL","fs_error","FS_proto","msSaveOrOpenBlob","abort","WRITING","error","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend","content","6","LZString","getBaseValue","alphabet","character","baseReverseDic","keyStrBase64","keyStrUriSafe","compressToBase64","_compress","decompressFromBase64","_decompress","compressToUTF16","decompressFromUTF16","compressed","charCodeAt","compressToUint8Array","uncompressed","compress","buf","Uint8Array","TotalLen","current_value","decompressFromUint8Array","decompress","compressToEncodedURIComponent","decompressFromEncodedURIComponent","bitsPerChar","getCharFromInt","ii","context_dictionary","context_dictionaryToCreate","context_c","context_wc","context_w","context_enlargeIn","context_dictSize","context_numBits","context_data","context_data_val","context_data_position","resetValue","getNextValue","w","bits","resb","maxpower","power","dictionary","enlargeIn","dictSize","numBits","entry","data","val","position","7","moment","hooks","hookCallback","isObject","isObjectEmpty","k","isUndefined","isDate","fn","hasOwnProp","extend","valueOf","createUTC","format","locale","strict","createLocalOrUTC","utc","defaultParsingFlags","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","getParsingFlags","m","_pf","isValid","_isValid","flags","parsedParts","some$1","isNowValid","_d","getTime","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","copyConfig","to","from","prop","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","momentProperties","Moment","config","updateInProgress","updateOffset","isMoment","absFloor","number","toInt","argumentForCoercion","coercedNumber","compareArrays","array1","array2","dontConvert","len","lengthDiff","diffs","warn","suppressDeprecationWarnings","console","deprecate","firstTime","deprecationHandler","stack","deprecateSimple","deprecations","isFunction","mergeConfigs","parentConfig","childConfig","Locale","addUnitAlias","unit","shorthand","lowerCase","aliases","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","addUnitPriority","priority","priorities","getPrioritizedUnits","unitsObj","sort","makeGetSet","keepTime","set$1","mom","zeroFill","targetLength","forceSign","absNumber","zerosToFill","substr","addFormatToken","padded","ordinal","callback","func","formatTokenFunctions","localeData","removeFormattingTokens","makeFormatFunction","formattingTokens","output","formatMoment","expandFormat","formatFunctions","invalidDate","localFormattingTokens","lastIndex","longDateFormat","addRegexToken","regex","strictRegex","regexes","isStrict","getParseRegexForToken","unescapeFormat","regexEscape","matched","p1","p2","p3","p4","addParseToken","addWeekParseToken","_w","addTimeToArrayFromToken","_a","daysInMonth","year","month","UTC","getUTCDate","handleStrictParse","monthName","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","monthsShort","months","indexOf$1","setMonth","dayOfMonth","monthsParse","date","getSetMonth","computeMonthsParse","cmpLenRev","shortPieces","longPieces","mixedPieces","_monthsRegex","_monthsShortRegex","_monthsStrictRegex","_monthsShortStrictRegex","daysInYear","isLeapYear","createDate","y","d","h","M","ms","getFullYear","setFullYear","createUTCDate","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","resDayOfYear","dayOfYear","weekOfYear","resWeek","weekOffset","weeksInYear","weekOffsetNext","parseWeekday","weekdaysParse","parseIsoWeekday","handleStrictParse$1","weekdayName","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","day","weekdaysMin","weekdaysShort","weekdays","computeWeekdaysParse","minp","shortp","longp","minPieces","_weekdaysRegex","_weekdaysShortRegex","_weekdaysMinRegex","_weekdaysStrictRegex","_weekdaysShortStrictRegex","_weekdaysMinStrictRegex","hFormat","hours","lowercase","minutes","matchMeridiem","_meridiemParse","normalizeLocale","chooseLocale","names","loadLocale","oldLocale","locales","globalLocale","_abbr","getSetGlobalLocale","getLocale","defineLocale","baseConfig","abbr","_config","parentLocale","localeFamilies","checkOverflow","MONTH","DATE","YEAR","HOUR","MINUTE","SECOND","MILLISECOND","_overflowDayOfYear","_overflowWeeks","WEEK","_overflowWeekday","WEEKDAY","configFromISO","allowTime","dateFormat","timeFormat","tzFormat","string","extendedIsoRegex","basicIsoRegex","isoDates","isoTimes","tzRegex","configFromStringAndFormat","configFromRFC2822","dayFormat","timezone","timezoneIndex","timezones"," GMT"," EDT"," EST"," CDT"," CST"," MDT"," MST"," PDT"," PST","basicRfcRegex","momentDay","getDay","configFromString","aspNetJsonRegex","createFromInputFallback","defaults","currentDateArray","nowValue","now","_useUTC","getUTCMonth","getMonth","getDate","configFromArray","currentDate","yearToUse","dayOfYearFromWeekInfo","_dayOfYear","_nextDay","setUTCMinutes","getUTCMinutes","weekYear","temp","weekdayOverflow","GG","W","createLocal","_week","curWeek","gg","ISO_8601","RFC_2822","parsedInput","skipped","totalParsedInputLength","_meridiem","meridiemFixWrap","hour","isPm","meridiemHour","isPM","configFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromObject","minute","second","millisecond","createFromConfig","prepareConfig","preparse","configFromInput","isUTC","pickBy","moments","isDurationValid","ordering","unitHasDecimal","Duration","duration","years","quarters","quarter","weeks","days","seconds","milliseconds","_milliseconds","_days","_months","_data","_bubble","isDuration","absRound","offset","separator","utcOffset","sign","offsetFromString","matcher","matches","parts","chunkOffset","cloneWithOffset","model","diff","clone","setTime","local","getDateOffset","getTimezoneOffset","isUtc","createDuration","ret","diffRes","aspNetRegex","isoRegex","parseIso","momentsDifference","inp","positiveMomentsDifference","base","other","isAfter","isBefore","createAdder","direction","period","dur","tmp","addSubtract","isAdding","monthDiff","adjust","wholeMonthDiff","anchor","newLocaleData","addWeekYearFormatToken","getter","getSetWeekYearHelper","weeksTarget","setWeekAll","dayOfYearData","preParsePostFormat","get$1","field","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","addSubtract$1","absCeil","daysToMonths","monthsToDays","makeAs","alias","as","makeGetter","substituteTimeAgo","withoutSuffix","isFuture","relativeTime","relativeTime$1","posNegDuration","thresholds","ss","toISOString$1","abs$1","Y","D","total","asSeconds","some","fun","keys$1","defaultCalendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","defaultLongDateFormat","LTS","LT","L","LL","LLL","LLLL","defaultDayOfMonthOrdinalParse","defaultRelativeTime","future","past","mm","hh","dd","MM","yy","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchTimestamp","matchWord","monthsShortRegex","monthsRegex","MONTHS_IN_FORMAT","defaultLocaleMonths","defaultLocaleMonthsShort","defaultMonthsShortRegex","defaultMonthsRegex","parseTwoDigitYear","getSetYear","defaultLocaleWeek","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","defaultWeekdaysRegex","defaultWeekdaysShortRegex","defaultWeekdaysMinRegex","kInput","_isPm","pos1","pos2","defaultLocaleMeridiemParse","getSetHour","calendar","dayOfMonthOrdinalParse","meridiemParse","prototypeMin","prototypeMax","invalid","subtract","defaultFormat","defaultFormatUtc","lang","isoWeekYear","_dayOfMonthOrdinalParse","_ordinalParse","_dayOfMonthOrdinalParseLenient","getSetDayOfMonth","getSetMinute","getSetSecond","getSetMillisecond","proto","time","formats","sod","startOf","calendarFormat","asFloat","that","zoneDelta","delta","endOf","inputString","postformat","humanize","fromNow","toNow","invalidAt","localInput","isBetween","inclusivity","isSame","inputMs","isSameOrAfter","isSameOrBefore","parsingFlags","prioritized","isoWeekday","toArray","toObject","toDate","toISOString","inspect","zone","isLocal","prefix","suffix","toJSON","unix","creationData","isoWeek","isoWeeks","weekInfo","isoWeeksInYear","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","parseZone","tZone","hasAlignedHourOffset","isDST","isUtcOffset","zoneAbbr","zoneName","dates","isDSTShifted","_isDSTShifted","proto$1","_calendar","_longDateFormat","formatUpper","_invalidDate","_ordinal","_relativeTime","pastFuture","source","isFormat","_monthsShort","_monthsParseExact","firstDayOfYear","firstDayOfWeek","_weekdays","_weekdaysMin","_weekdaysShort","_weekdaysParseExact","_fullWeekdaysParse","isLower","langData","mathAbs","asMilliseconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","proto$2","monthsFromDays","withSuffix","toIsoString","version","setHookCallback","updateLocale","relativeTimeRounding","roundingFunction","relativeTimeThreshold","threshold","limit","myMoment","8","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","test1","getOwnPropertyNames","test2","test3","letter","shouldUseNative","target","9","root","req","Pikaday","hasMoment","hasEventListeners","sto","addEvent","capture","attachEvent","removeEvent","detachEvent","trim","hasClass","cn","className","addClass","removeClass","isWeekend","getDaysInMonth","setToStartOfDay","setHours","compareDates","overwrite","hasProp","fireEvent","eventName","ev","createEventObject","adjustCalendar","bound","reposition","defaultDate","setDefaultDate","firstDay","formatStrict","minDate","maxDate","yearRange","showWeekNumber","pickWholeWeek","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearSuffix","showMonthAfterYear","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","numberOfMonths","mainCalendar","container","blurFieldOnSelect","i18n","previousMonth","nextMonth","theme","events","onSelect","onOpen","onClose","onDraw","renderDayName","opts","renderDay","ariaSelected","isEmpty","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","renderWeek","onejan","renderRow","isRowSelected","reverse","renderBody","rows","renderHead","renderTitle","instance","refYear","randId","monthHtml","yearHtml","_o","isMinYear","isMaxYear","html","prev","renderTable","_onMouseDown","_v","srcElement","prevMonth","setDate","getAttribute","hide","blur","_c","preventDefault","returnValue","_onChange","gotoMonth","gotoYear","_onKeyChange","isVisible","keyCode","adjustDate","_onInputChange","firedBy","show","_onInputFocus","_onInputClick","_onInputBlur","pEl","activeElement","_b","_onClick","onchange","setAttribute","trigger","createElement","appendChild","body","insertBefore","nextSibling","defDate","gotoDate","disableWeekends","disableDayFn","nom","setMinDate","setMaxDate","fallback","toDateString","getMoment","setMoment","preventOnSelect","draw","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","adjustCalendars","newDay","difference","gotoToday","setStartRange","setEndRange","_y","_m","render","innerHTML","focus","adjustPosition","viewportWidth","viewportHeight","top","clientRect","innerWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","after","isWeekSelected","dayNumber","monthNumber","yearNumber","dayConfig","removeChild","10","encoderForArrayFormat","arrayFormat","encode","parserForArrayFormat","accumulator","strictUriEncode","keysSorter","objectAssign","decodeComponent","extract","formatter","create","reduce","val2","decode-uri-component","object-assign","strict-uri-encode","11","Sortable","nodeType","_extend","expando","group","disabled","store","handle","scroll","scrollSensitivity","scrollSpeed","draggable","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","animation","setData","dataTransfer","dragEl","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","_prepareGroup","nativeDraggable","supportDraggable","_on","_onTapStart","touchDragOverListeners","_onDragOver","_cloneHide","sortable","state","lastPullMode","cloneEl","_css","revertClone","rootEl","nextEl","_animate","_closest","selector","ctx","_matches","_getParentOrHost","parent","host","_globalDragOver","dropEffect","captureMode","_off","_toggleClass","classList","R_SPACE","defaultView","currentStyle","_find","tagName","iterator","list","getElementsByTagName","_dispatchEvent","targetEl","fromEl","startIndex","newIndex","onName","oldIndex","_onMove","toEl","dragRect","targetRect","originalEvt","willInsertAfter","retVal","onMoveFn","onMove","dragged","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_silent","_ghostIsLast","rect","lastElementChild","clientY","clientX","_generateId","src","_index","previousElementSibling","tag","re","_throttle","_this","dst","_clone","$","Polymer","dom","cloneNode","_saveInputCheckedState","inputs","idx","checked","savedInputChecked","parentEl","ghostEl","lastDownEl","scrollEl","scrollParentEl","scrollCustomFn","lastEl","lastCSS","lastParentCSS","activeGroup","putSortable","tapEvt","touchEvt","moved","autoScroll","R_FLOAT","win","jQuery","Zepto","supportCssPointerEvents","cssText","pointerEvents","_autoScroll","vx","vy","scrollOffsetX","scrollOffsetY","sens","speed","winWidth","winHeight","scrollFn","scrollWidth","clearInterval","pid","setInterval","scrollTo","scrollLeft","toFn","pull","fromGroup","originalGroup","checkPull","checkPut","put","touch","touches","originalTarget","shadowRoot","path","button","criteria","_prepareDragStart","dragStartFn","ownerDocument","_lastX","_lastY","_disableDelayedDrag","_triggerDragStart","_onDrop","_dragStartTimer","clearTimeout","pointerType","_onDragStart","selection","getSelection","removeAllRanges","_dragStarted","active","_nulling","_emulateDragOver","elementFromPoint","_onTouchMove","dx","dy","translate3d","_appendGhost","ghostRect","css","marginTop","marginLeft","useFallback","_offUpEvents","_loopId","effectAllowed","revert","activeSortable","isOwner","isMovingBetweenSortable","canSort","stopPropagation","animated","children","floating","cssFloat","display","isWide","isLong","halfway","nextElementSibling","elTop","tgTop","moveVector","prevRect","currentRect","handleEvent","order","items","id","closest","option","querySelectorAll","removeAttribute","defineProperty","passive","utils","on","off","find","is","throttle","toggleClass","12","13","getCode","_require","wrap","translate","assemble","block","./../translator","./util","14","acc","read","querySelector","write","hideEmpty","lastEmpty","_require2","header","totals","repeat","./../fields/fields","15","16","17","18","19","20","21","22","23","price","24","25","26","27","pollFieldType","wrapper","fieldName","allArray","fields","pollNames","pollFormulas","fill","fillFieldType","descriptions","fillNames","fillFormulas","formulas","all","bigtext","countlist","dateinput","dateoutput","doubletext","final","indicator","pricelist","note","subhead","nav","text","context","poll","dataset","./../util.js","./_bigtext","./_countlist","./_dateinput","./_dateoutput","./_doubletext","./_final","./_header","./_indicator","./_note","./_number","./_pricelist","./_separator","./_subhead","./_sum","28","tools","insertAdjacentElement","29","getName","nameEl","getTemplateName","createAddBlockTool","addBlockTool","blocks","navGroup","fragment","createDocumentFragment","section","setClasses","blockLink","pollData","cardExport","card","info","startAutosave","autosaveTimer","autosaveInterval","stopAutosave","workspace","updateFormulaResults","collectVariables","customFunctions","formula","findAncestor","getElementById","updateInterval","updateTimer","blockSort","blockActions","swap-blocks","previous","previousSibling","remove-block","add-block","add-block-type","newBlock","daysAfter","daysBefore","load","close","urlImport","query","cardurl","importFromUrl","cardjson","importFromEncodedString","fileImport","files","importFromFile","exportCard","downloadTemplate","triggerBlockToolAction","softUpdate","./blocks/blocks","./fields/fields","./store","./translator","./workspace","expr-eval","sortablejs","30","activate","31","32","decorate","_typeof","Symbol","pikaday","33","34","parseNumber","numeric","isFloat","35","36","bool","desc","checkbox","activeField","./_bool","./_checkbox","./_date","./_desc","./_text","37","createDescriptors","descriptors","createDescriptor","nameInput","appendFormula","labelHtml","descriptor","label","classNames","38","run","preventSubmit","ui","./ui","39","wrapExport","title","json","encodedJson","lzs","unwrapExport","titleFallback","contents","today","fileSaver","readAsText","onload","request","XMLHttpRequest","send","onreadystatechange","status","responseText","exportTemplate","file-saver","lz-string","40","app","plancards","editCard","editingNow","templateDownload","saveAndClose","home","improve","share","tips","purpose","privacy","shareHow","openButton","noneOpened","openFromFile","openFromFileHl","openFromUrl","openFromUrlPlaceholder","basic","footer","partners","pikadayNames","description","count","short","authorHeading","author","licenseHeading","license","activityName","goal","notes","isTrue","isFalse","util","blockNav","export","template","storedCard","storedCardLong","usage","usageLoc","quickLink","luck","depends","41","42","getLang","cookies","dictionaries","subkey","curr","cs","en","setLang","getLanguages","refreshTranslations","currentLang","tt","phrase","./translations/cs","./translations/en","doc-cookies","43","updateLangSelector","langs","translator","bindActions","clickActions",".mode-toggle","toggleMode","#close","closeCard","#save","#saveTemplate","#card","#workspace","triggerWorkspaceAction","elId","showDashboard","refreshWorkspace","openCard","setFillMode","setEditMode","initImport","queryString","search","highlightFileImport","removeUrlParams","createTextNode","workspaceEl","openedCard","mtime","cardName","templateName","./card","query-string","44","makeArray","nodelist","parentElement","displayValues","shown","hidden","toolbar","dashboard","none-opened","history","replaceState","pathname","45","localStorage","currentId"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*!\n\tAutosize 4.0.0\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['exports', 'module'], factory);\n\t} else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n\t\tfactory(exports, module);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod.exports, mod);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (exports, module) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : (function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t})();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function (name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = ta.clientWidth;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tvar originalHeight = ta.style.height;\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\n\t\t\tvar endHeight = ta.scrollHeight + heightOffset;\n\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\tta.style.height = originalHeight;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tta.style.height = endHeight + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that\n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight !== styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = (function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap['delete'](ta);\n\t\t}).bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function (el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\tmodule.exports = autosize;\n});\n},{}],2:[function(require,module,exports){\n'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n\n},{}],3:[function(require,module,exports){\n(function (global){\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.docCookies = f()}})(function(){var define,module,exports;\n/*\\\n|*|\n|*|  :: cookies.js ::\n|*|\n|*|  A complete cookies reader/writer framework with full unicode support.\n|*|\n|*|  Revision #1 - September 4, 2014\n|*|\n|*|  https://developer.mozilla.org/en-US/docs/Web/API/document.cookie\n|*|  https://developer.mozilla.org/User:fusionchess\n|*|\n|*|  This framework is released under the GNU Public License, version 3 or later.\n|*|  http://www.gnu.org/licenses/gpl-3.0-standalone.html\n|*|\n|*|  Syntaxes:\n|*|\n|*|  * docCookies.setItem(name, value[, end[, path[, domain[, secure]]]])\n|*|  * docCookies.getItem(name)\n|*|  * docCookies.removeItem(name[, path[, domain]])\n|*|  * docCookies.hasItem(name)\n|*|  * docCookies.keys()\n|*|\n\\*/\n\nvar docCookies = {\n  getItem: function (sKey) {\n    if (!sKey) { return null; }\n    return decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\n  },\n  setItem: function (sKey, sValue, vEnd, sPath, sDomain, bSecure) {\n    if (!sKey || /^(?:expires|max\\-age|path|domain|secure)$/i.test(sKey)) { return false; }\n    var sExpires = \"\";\n    if (vEnd) {\n      switch (vEnd.constructor) {\n        case Number:\n          sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; max-age=\" + vEnd;\n          break;\n        case String:\n          sExpires = \"; expires=\" + vEnd;\n          break;\n        case Date:\n          sExpires = \"; expires=\" + vEnd.toUTCString();\n          break;\n      }\n    }\n    document.cookie = encodeURIComponent(sKey) + \"=\" + encodeURIComponent(sValue) + sExpires + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\") + (bSecure ? \"; secure\" : \"\");\n    return true;\n  },\n  removeItem: function (sKey, sPath, sDomain) {\n    if (!this.hasItem(sKey)) { return false; }\n    document.cookie = encodeURIComponent(sKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\");\n    return true;\n  },\n  hasItem: function (sKey) {\n    if (!sKey) { return false; }\n    return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie);\n  },\n  keys: function () {\n    var aKeys = document.cookie.replace(/((?:^|\\s*;)[^\\=]+)(?=;|$)|^\\s*|\\s*(?:\\=[^;]*)?(?:\\1|$)/g, \"\").split(/\\s*(?:\\=[^;]*)?;\\s*/);\n    for (var nLen = aKeys.length, nIdx = 0; nIdx < nLen; nIdx++) { aKeys[nIdx] = decodeURIComponent(aKeys[nIdx]); }\n    return aKeys;\n  }\n};\n\nreturn docCookies;\n\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],4:[function(require,module,exports){\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.exprEval = factory());\n}(this, (function () { 'use strict';\n\nvar INUMBER = 'INUMBER';\nvar IOP1 = 'IOP1';\nvar IOP2 = 'IOP2';\nvar IOP3 = 'IOP3';\nvar IVAR = 'IVAR';\nvar IFUNCALL = 'IFUNCALL';\nvar IEXPR = 'IEXPR';\nvar IMEMBER = 'IMEMBER';\n\nfunction Instruction(type, value) {\n  this.type = type;\n  this.value = (value !== undefined && value !== null) ? value : 0;\n}\n\nInstruction.prototype.toString = function () {\n  switch (this.type) {\n    case INUMBER:\n    case IOP1:\n    case IOP2:\n    case IOP3:\n    case IVAR:\n      return this.value;\n    case IFUNCALL:\n      return 'CALL ' + this.value;\n    case IMEMBER:\n      return '.' + this.value;\n    default:\n      return 'Invalid Instruction';\n  }\n};\n\nfunction unaryInstruction(value) {\n  return new Instruction(IOP1, value);\n}\n\nfunction binaryInstruction(value) {\n  return new Instruction(IOP2, value);\n}\n\nfunction ternaryInstruction(value) {\n  return new Instruction(IOP3, value);\n}\n\nfunction simplify(tokens, unaryOps, binaryOps, ternaryOps, values) {\n  var nstack = [];\n  var newexpression = [];\n  var n1, n2, n3;\n  var f;\n  for (var i = 0; i < tokens.length; i++) {\n    var item = tokens[i];\n    var type = item.type;\n    if (type === INUMBER) {\n      nstack.push(item);\n    } else if (type === IVAR && values.hasOwnProperty(item.value)) {\n      item = new Instruction(INUMBER, values[item.value]);\n      nstack.push(item);\n    } else if (type === IOP2 && nstack.length > 1) {\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      f = binaryOps[item.value];\n      item = new Instruction(INUMBER, f(n1.value, n2.value));\n      nstack.push(item);\n    } else if (type === IOP3 && nstack.length > 2) {\n      n3 = nstack.pop();\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      if (item.value === '?') {\n        nstack.push(n1.value ? n2.value : n3.value);\n      } else {\n        f = ternaryOps[item.value];\n        item = new Instruction(INUMBER, f(n1.value, n2.value, n3.value));\n        nstack.push(item);\n      }\n    } else if (type === IOP1 && nstack.length > 0) {\n      n1 = nstack.pop();\n      f = unaryOps[item.value];\n      item = new Instruction(INUMBER, f(n1.value));\n      nstack.push(item);\n    } else if (type === IEXPR) {\n      while (nstack.length > 0) {\n        newexpression.push(nstack.shift());\n      }\n      newexpression.push(new Instruction(IEXPR, simplify(item.value, unaryOps, binaryOps, ternaryOps, values)));\n    } else if (type === IMEMBER && nstack.length > 0) {\n      n1 = nstack.pop();\n      nstack.push(new Instruction(INUMBER, n1.value[item.value]));\n    } else {\n      while (nstack.length > 0) {\n        newexpression.push(nstack.shift());\n      }\n      newexpression.push(item);\n    }\n  }\n  while (nstack.length > 0) {\n    newexpression.push(nstack.shift());\n  }\n  return newexpression;\n}\n\nfunction substitute(tokens, variable, expr) {\n  var newexpression = [];\n  for (var i = 0; i < tokens.length; i++) {\n    var item = tokens[i];\n    var type = item.type;\n    if (type === IVAR && item.value === variable) {\n      for (var j = 0; j < expr.tokens.length; j++) {\n        var expritem = expr.tokens[j];\n        var replitem;\n        if (expritem.type === IOP1) {\n          replitem = unaryInstruction(expritem.value);\n        } else if (expritem.type === IOP2) {\n          replitem = binaryInstruction(expritem.value);\n        } else if (expritem.type === IOP3) {\n          replitem = ternaryInstruction(expritem.value);\n        } else {\n          replitem = new Instruction(expritem.type, expritem.value);\n        }\n        newexpression.push(replitem);\n      }\n    } else if (type === IEXPR) {\n      newexpression.push(new Instruction(IEXPR, substitute(item.value, variable, expr)));\n    } else {\n      newexpression.push(item);\n    }\n  }\n  return newexpression;\n}\n\nfunction evaluate(tokens, expr, values) {\n  var nstack = [];\n  var n1, n2, n3;\n  var f;\n  for (var i = 0; i < tokens.length; i++) {\n    var item = tokens[i];\n    var type = item.type;\n    if (type === INUMBER) {\n      nstack.push(item.value);\n    } else if (type === IOP2) {\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      f = expr.binaryOps[item.value];\n      nstack.push(f(n1, n2));\n    } else if (type === IOP3) {\n      n3 = nstack.pop();\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      if (item.value === '?') {\n        nstack.push(evaluate(n1 ? n2 : n3, expr, values));\n      } else {\n        f = expr.ternaryOps[item.value];\n        nstack.push(f(n1, n2, n3));\n      }\n    } else if (type === IVAR) {\n      if (item.value in expr.functions) {\n        nstack.push(expr.functions[item.value]);\n      } else {\n        var v = values[item.value];\n        if (v !== undefined) {\n          nstack.push(v);\n        } else {\n          throw new Error('undefined variable: ' + item.value);\n        }\n      }\n    } else if (type === IOP1) {\n      n1 = nstack.pop();\n      f = expr.unaryOps[item.value];\n      nstack.push(f(n1));\n    } else if (type === IFUNCALL) {\n      var argCount = item.value;\n      var args = [];\n      while (argCount-- > 0) {\n        args.unshift(nstack.pop());\n      }\n      f = nstack.pop();\n      if (f.apply && f.call) {\n        nstack.push(f.apply(undefined, args));\n      } else {\n        throw new Error(f + ' is not a function');\n      }\n    } else if (type === IEXPR) {\n      nstack.push(item.value);\n    } else if (type === IMEMBER) {\n      n1 = nstack.pop();\n      nstack.push(n1[item.value]);\n    } else {\n      throw new Error('invalid Expression');\n    }\n  }\n  if (nstack.length > 1) {\n    throw new Error('invalid Expression (parity)');\n  }\n  return nstack[0];\n}\n\nfunction expressionToString(tokens, toJS) {\n  var nstack = [];\n  var n1, n2, n3;\n  var f;\n  for (var i = 0; i < tokens.length; i++) {\n    var item = tokens[i];\n    var type = item.type;\n    if (type === INUMBER) {\n      if (typeof item.value === 'number' && item.value < 0) {\n        nstack.push('(' + item.value + ')');\n      } else {\n        nstack.push(escapeValue(item.value));\n      }\n    } else if (type === IOP2) {\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      f = item.value;\n      if (toJS) {\n        if (f === '^') {\n          nstack.push('Math.pow(' + n1 + ', ' + n2 + ')');\n        } else if (f === 'and') {\n          nstack.push('(!!' + n1 + ' && !!' + n2 + ')');\n        } else if (f === 'or') {\n          nstack.push('(!!' + n1 + ' || !!' + n2 + ')');\n        } else if (f === '||') {\n          nstack.push('(String(' + n1 + ') + String(' + n2 + '))');\n        } else if (f === '==') {\n          nstack.push('(' + n1 + ' === ' + n2 + ')');\n        } else if (f === '!=') {\n          nstack.push('(' + n1 + ' !== ' + n2 + ')');\n        } else {\n          nstack.push('(' + n1 + ' ' + f + ' ' + n2 + ')');\n        }\n      } else {\n        nstack.push('(' + n1 + ' ' + f + ' ' + n2 + ')');\n      }\n    } else if (type === IOP3) {\n      n3 = nstack.pop();\n      n2 = nstack.pop();\n      n1 = nstack.pop();\n      f = item.value;\n      if (f === '?') {\n        nstack.push('(' + n1 + ' ? ' + n2 + ' : ' + n3 + ')');\n      } else {\n        throw new Error('invalid Expression');\n      }\n    } else if (type === IVAR) {\n      nstack.push(item.value);\n    } else if (type === IOP1) {\n      n1 = nstack.pop();\n      f = item.value;\n      if (f === '-' || f === '+') {\n        nstack.push('(' + f + n1 + ')');\n      } else if (toJS) {\n        if (f === 'not') {\n          nstack.push('(' + '!' + n1 + ')');\n        } else if (f === '!') {\n          nstack.push('fac(' + n1 + ')');\n        } else {\n          nstack.push(f + '(' + n1 + ')');\n        }\n      } else if (f === '!') {\n        nstack.push('(' + n1 + '!)');\n      } else {\n        nstack.push('(' + f + ' ' + n1 + ')');\n      }\n    } else if (type === IFUNCALL) {\n      var argCount = item.value;\n      var args = [];\n      while (argCount-- > 0) {\n        args.unshift(nstack.pop());\n      }\n      f = nstack.pop();\n      nstack.push(f + '(' + args.join(', ') + ')');\n    } else if (type === IMEMBER) {\n      n1 = nstack.pop();\n      nstack.push(n1 + '.' + item.value);\n    } else if (type === IEXPR) {\n      nstack.push('(' + expressionToString(item.value, toJS) + ')');\n    } else {\n      throw new Error('invalid Expression');\n    }\n  }\n  if (nstack.length > 1) {\n    throw new Error('invalid Expression (parity)');\n  }\n  return nstack[0];\n}\n\nfunction escapeValue(v) {\n  if (typeof v === 'string') {\n    return JSON.stringify(v).replace(/\\u2028/g, '\\\\u2028').replace(/\\u2029/g, '\\\\u2029');\n  }\n  return v;\n}\n\nfunction contains(array, obj) {\n  for (var i = 0; i < array.length; i++) {\n    if (array[i] === obj) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getSymbols(tokens, symbols, options) {\n  options = options || {};\n  var withMembers = !!options.withMembers;\n  var prevVar = null;\n\n  for (var i = 0; i < tokens.length; i++) {\n    var item = tokens[i];\n    if (item.type === IVAR && !contains(symbols, item.value)) {\n      if (!withMembers) {\n        symbols.push(item.value);\n      } else if (prevVar !== null) {\n        if (!contains(symbols, prevVar)) {\n          symbols.push(prevVar);\n        }\n        prevVar = item.value;\n      } else {\n        prevVar = item.value;\n      }\n    } else if (item.type === IMEMBER && withMembers && prevVar !== null) {\n      prevVar += '.' + item.value;\n    } else if (item.type === IEXPR) {\n      getSymbols(item.value, symbols, options);\n    } else if (prevVar !== null) {\n      if (!contains(symbols, prevVar)) {\n        symbols.push(prevVar);\n      }\n      prevVar = null;\n    }\n  }\n\n  if (prevVar !== null && !contains(symbols, prevVar)) {\n    symbols.push(prevVar);\n  }\n}\n\nfunction Expression(tokens, parser) {\n  this.tokens = tokens;\n  this.parser = parser;\n  this.unaryOps = parser.unaryOps;\n  this.binaryOps = parser.binaryOps;\n  this.ternaryOps = parser.ternaryOps;\n  this.functions = parser.functions;\n}\n\nExpression.prototype.simplify = function (values) {\n  values = values || {};\n  return new Expression(simplify(this.tokens, this.unaryOps, this.binaryOps, this.ternaryOps, values), this.parser);\n};\n\nExpression.prototype.substitute = function (variable, expr) {\n  if (!(expr instanceof Expression)) {\n    expr = this.parser.parse(String(expr));\n  }\n\n  return new Expression(substitute(this.tokens, variable, expr), this.parser);\n};\n\nExpression.prototype.evaluate = function (values) {\n  values = values || {};\n  return evaluate(this.tokens, this, values);\n};\n\nExpression.prototype.toString = function () {\n  return expressionToString(this.tokens, false);\n};\n\nExpression.prototype.symbols = function (options) {\n  options = options || {};\n  var vars = [];\n  getSymbols(this.tokens, vars, options);\n  return vars;\n};\n\nExpression.prototype.variables = function (options) {\n  options = options || {};\n  var vars = [];\n  getSymbols(this.tokens, vars, options);\n  var functions = this.functions;\n  return vars.filter(function (name) {\n    return !(name in functions);\n  });\n};\n\nExpression.prototype.toJSFunction = function (param, variables) {\n  var expr = this;\n  var f = new Function(param, 'with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return ' + expressionToString(this.simplify(variables).tokens, true) + '; }'); // eslint-disable-line no-new-func\n  return function () {\n    return f.apply(expr, arguments);\n  };\n};\n\nvar TEOF = 'TEOF';\nvar TOP = 'TOP';\nvar TNUMBER = 'TNUMBER';\nvar TSTRING = 'TSTRING';\nvar TPAREN = 'TPAREN';\nvar TCOMMA = 'TCOMMA';\nvar TNAME = 'TNAME';\n\nfunction Token(type, value, index) {\n  this.type = type;\n  this.value = value;\n  this.index = index;\n}\n\nToken.prototype.toString = function () {\n  return this.type + ': ' + this.value;\n};\n\nfunction TokenStream(parser, expression) {\n  this.pos = 0;\n  this.current = null;\n  this.unaryOps = parser.unaryOps;\n  this.binaryOps = parser.binaryOps;\n  this.ternaryOps = parser.ternaryOps;\n  this.consts = parser.consts;\n  this.expression = expression;\n  this.savedPosition = 0;\n  this.savedCurrent = null;\n  this.options = parser.options;\n}\n\nTokenStream.prototype.newToken = function (type, value, pos) {\n  return new Token(type, value, pos != null ? pos : this.pos);\n};\n\nTokenStream.prototype.save = function () {\n  this.savedPosition = this.pos;\n  this.savedCurrent = this.current;\n};\n\nTokenStream.prototype.restore = function () {\n  this.pos = this.savedPosition;\n  this.current = this.savedCurrent;\n};\n\nTokenStream.prototype.next = function () {\n  if (this.pos >= this.expression.length) {\n    return this.newToken(TEOF, 'EOF');\n  }\n\n  if (this.isWhitespace() || this.isComment()) {\n    return this.next();\n  } else if (this.isRadixInteger() ||\n      this.isNumber() ||\n      this.isOperator() ||\n      this.isString() ||\n      this.isParen() ||\n      this.isComma() ||\n      this.isNamedOp() ||\n      this.isConst() ||\n      this.isName()) {\n    return this.current;\n  } else {\n    this.parseError('Unknown character \"' + this.expression.charAt(this.pos) + '\"');\n  }\n};\n\nTokenStream.prototype.isString = function () {\n  var r = false;\n  var startPos = this.pos;\n  var quote = this.expression.charAt(startPos);\n\n  if (quote === '\\'' || quote === '\"') {\n    var index = this.expression.indexOf(quote, startPos + 1);\n    while (index >= 0 && this.pos < this.expression.length) {\n      this.pos = index + 1;\n      if (this.expression.charAt(index - 1) !== '\\\\') {\n        var rawString = this.expression.substring(startPos + 1, index);\n        this.current = this.newToken(TSTRING, this.unescape(rawString), startPos);\n        r = true;\n        break;\n      }\n      index = this.expression.indexOf(quote, index + 1);\n    }\n  }\n  return r;\n};\n\nTokenStream.prototype.isParen = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === '(' || c === ')') {\n    this.current = this.newToken(TPAREN, c);\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isComma = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === ',') {\n    this.current = this.newToken(TCOMMA, ',');\n    this.pos++;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isConst = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos || (c !== '_' && c !== '.' && (c < '0' || c > '9'))) {\n        break;\n      }\n    }\n  }\n  if (i > startPos) {\n    var str = this.expression.substring(startPos, i);\n    if (str in this.consts) {\n      this.current = this.newToken(TNUMBER, this.consts[str]);\n      this.pos += str.length;\n      return true;\n    }\n  }\n  return false;\n};\n\nTokenStream.prototype.isNamedOp = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos || (c !== '_' && (c < '0' || c > '9'))) {\n        break;\n      }\n    }\n  }\n  if (i > startPos) {\n    var str = this.expression.substring(startPos, i);\n    if (this.isOperatorEnabled(str) && (str in this.binaryOps || str in this.unaryOps || str in this.ternaryOps)) {\n      this.current = this.newToken(TOP, str);\n      this.pos += str.length;\n      return true;\n    }\n  }\n  return false;\n};\n\nTokenStream.prototype.isName = function () {\n  var startPos = this.pos;\n  var i = startPos;\n  var hasLetter = false;\n  for (; i < this.expression.length; i++) {\n    var c = this.expression.charAt(i);\n    if (c.toUpperCase() === c.toLowerCase()) {\n      if (i === this.pos && c === '$') {\n        continue;\n      } else if (i === this.pos || !hasLetter || (c !== '_' && (c < '0' || c > '9'))) {\n        break;\n      }\n    } else {\n      hasLetter = true;\n    }\n  }\n  if (hasLetter) {\n    var str = this.expression.substring(startPos, i);\n    this.current = this.newToken(TNAME, str);\n    this.pos += str.length;\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isWhitespace = function () {\n  var r = false;\n  var c = this.expression.charAt(this.pos);\n  while (c === ' ' || c === '\\t' || c === '\\n' || c === '\\r') {\n    r = true;\n    this.pos++;\n    if (this.pos >= this.expression.length) {\n      break;\n    }\n    c = this.expression.charAt(this.pos);\n  }\n  return r;\n};\n\nvar codePointPattern = /^[0-9a-f]{4}$/i;\n\nTokenStream.prototype.unescape = function (v) {\n  var index = v.indexOf('\\\\');\n  if (index < 0) {\n    return v;\n  }\n\n  var buffer = v.substring(0, index);\n  while (index >= 0) {\n    var c = v.charAt(++index);\n    switch (c) {\n      case '\\'':\n        buffer += '\\'';\n        break;\n      case '\"':\n        buffer += '\"';\n        break;\n      case '\\\\':\n        buffer += '\\\\';\n        break;\n      case '/':\n        buffer += '/';\n        break;\n      case 'b':\n        buffer += '\\b';\n        break;\n      case 'f':\n        buffer += '\\f';\n        break;\n      case 'n':\n        buffer += '\\n';\n        break;\n      case 'r':\n        buffer += '\\r';\n        break;\n      case 't':\n        buffer += '\\t';\n        break;\n      case 'u':\n        // interpret the following 4 characters as the hex of the unicode code point\n        var codePoint = v.substring(index + 1, index + 5);\n        if (!codePointPattern.test(codePoint)) {\n          this.parseError('Illegal escape sequence: \\\\u' + codePoint);\n        }\n        buffer += String.fromCharCode(parseInt(codePoint, 16));\n        index += 4;\n        break;\n      default:\n        throw this.parseError('Illegal escape sequence: \"\\\\' + c + '\"');\n    }\n    ++index;\n    var backslash = v.indexOf('\\\\', index);\n    buffer += v.substring(index, backslash < 0 ? v.length : backslash);\n    index = backslash;\n  }\n\n  return buffer;\n};\n\nTokenStream.prototype.isComment = function () {\n  var c = this.expression.charAt(this.pos);\n  if (c === '/' && this.expression.charAt(this.pos + 1) === '*') {\n    this.pos = this.expression.indexOf('*/', this.pos) + 2;\n    if (this.pos === 1) {\n      this.pos = this.expression.length;\n    }\n    return true;\n  }\n  return false;\n};\n\nTokenStream.prototype.isRadixInteger = function () {\n  var pos = this.pos;\n\n  if (pos >= this.expression.length - 2 || this.expression.charAt(pos) !== '0') {\n    return false;\n  }\n  ++pos;\n\n  var radix;\n  var validDigit;\n  if (this.expression.charAt(pos) === 'x') {\n    radix = 16;\n    validDigit = /^[0-9a-f]$/i;\n    ++pos;\n  } else if (this.expression.charAt(pos) === 'b') {\n    radix = 2;\n    validDigit = /^[01]$/i;\n    ++pos;\n  } else {\n    return false;\n  }\n\n  var valid = false;\n  var startPos = pos;\n\n  while (pos < this.expression.length) {\n    var c = this.expression.charAt(pos);\n    if (validDigit.test(c)) {\n      pos++;\n      valid = true;\n    } else {\n      break;\n    }\n  }\n\n  if (valid) {\n    this.current = this.newToken(TNUMBER, parseInt(this.expression.substring(startPos, pos), radix));\n    this.pos = pos;\n  }\n  return valid;\n};\n\nTokenStream.prototype.isNumber = function () {\n  var valid = false;\n  var pos = this.pos;\n  var startPos = pos;\n  var resetPos = pos;\n  var foundDot = false;\n  var foundDigits = false;\n  var c;\n\n  while (pos < this.expression.length) {\n    c = this.expression.charAt(pos);\n    if ((c >= '0' && c <= '9') || (!foundDot && c === '.')) {\n      if (c === '.') {\n        foundDot = true;\n      } else {\n        foundDigits = true;\n      }\n      pos++;\n      valid = foundDigits;\n    } else {\n      break;\n    }\n  }\n\n  if (valid) {\n    resetPos = pos;\n  }\n\n  if (c === 'e' || c === 'E') {\n    pos++;\n    var acceptSign = true;\n    var validExponent = false;\n    while (pos < this.expression.length) {\n      c = this.expression.charAt(pos);\n      if (acceptSign && (c === '+' || c === '-')) {\n        acceptSign = false;\n      } else if (c >= '0' && c <= '9') {\n        validExponent = true;\n        acceptSign = false;\n      } else {\n        break;\n      }\n      pos++;\n    }\n\n    if (!validExponent) {\n      pos = resetPos;\n    }\n  }\n\n  if (valid) {\n    this.current = this.newToken(TNUMBER, parseFloat(this.expression.substring(startPos, pos)));\n    this.pos = pos;\n  } else {\n    this.pos = resetPos;\n  }\n  return valid;\n};\n\nTokenStream.prototype.isOperator = function () {\n  var startPos = this.pos;\n  var c = this.expression.charAt(this.pos);\n\n  if (c === '+' || c === '-' || c === '*' || c === '/' || c === '%' || c === '^' || c === '?' || c === ':' || c === '.') {\n    this.current = this.newToken(TOP, c);\n  } else if (c === '' || c === '') {\n    this.current = this.newToken(TOP, '*');\n  } else if (c === '>') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '>=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, '>');\n    }\n  } else if (c === '<') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '<=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, '<');\n    }\n  } else if (c === '|') {\n    if (this.expression.charAt(this.pos + 1) === '|') {\n      this.current = this.newToken(TOP, '||');\n      this.pos++;\n    } else {\n      return false;\n    }\n  } else if (c === '=') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '==');\n      this.pos++;\n    } else {\n      return false;\n    }\n  } else if (c === '!') {\n    if (this.expression.charAt(this.pos + 1) === '=') {\n      this.current = this.newToken(TOP, '!=');\n      this.pos++;\n    } else {\n      this.current = this.newToken(TOP, c);\n    }\n  } else {\n    return false;\n  }\n  this.pos++;\n\n  if (this.isOperatorEnabled(this.current.value)) {\n    return true;\n  } else {\n    this.pos = startPos;\n    return false;\n  }\n};\n\nvar optionNameMap = {\n  '+': 'add',\n  '-': 'subtract',\n  '*': 'multiply',\n  '/': 'divide',\n  '%': 'remainder',\n  '^': 'power',\n  '!': 'factorial',\n  '<': 'comparison',\n  '>': 'comparison',\n  '<=': 'comparison',\n  '>=': 'comparison',\n  '==': 'comparison',\n  '!=': 'comparison',\n  '||': 'concatenate',\n  'and': 'logical',\n  'or': 'logical',\n  'not': 'logical',\n  '?': 'conditional',\n  ':': 'conditional'\n};\n\nfunction getOptionName(op) {\n  return optionNameMap.hasOwnProperty(op) ? optionNameMap[op] : op;\n}\n\nTokenStream.prototype.isOperatorEnabled = function (op) {\n  var optionName = getOptionName(op);\n  var operators = this.options.operators || {};\n\n  // in is a special case for now because it's disabled by default\n  if (optionName === 'in') {\n    return !!operators['in'];\n  }\n\n  return !(optionName in operators) || !!operators[optionName];\n};\n\nTokenStream.prototype.getCoordinates = function () {\n  var line = 0;\n  var column;\n  var newline = -1;\n  do {\n    line++;\n    column = this.pos - newline;\n    newline = this.expression.indexOf('\\n', newline + 1);\n  } while (newline >= 0 && newline < this.pos);\n\n  return {\n    line: line,\n    column: column\n  };\n};\n\nTokenStream.prototype.parseError = function (msg) {\n  var coords = this.getCoordinates();\n  throw new Error('parse error [' + coords.line + ':' + coords.column + ']: ' + msg);\n};\n\nfunction ParserState(parser, tokenStream, options) {\n  this.parser = parser;\n  this.tokens = tokenStream;\n  this.current = null;\n  this.nextToken = null;\n  this.next();\n  this.savedCurrent = null;\n  this.savedNextToken = null;\n  this.allowMemberAccess = options.allowMemberAccess !== false;\n}\n\nParserState.prototype.next = function () {\n  this.current = this.nextToken;\n  return (this.nextToken = this.tokens.next());\n};\n\nParserState.prototype.tokenMatches = function (token, value) {\n  if (typeof value === 'undefined') {\n    return true;\n  } else if (Array.isArray(value)) {\n    return contains(value, token.value);\n  } else if (typeof value === 'function') {\n    return value(token);\n  } else {\n    return token.value === value;\n  }\n};\n\nParserState.prototype.save = function () {\n  this.savedCurrent = this.current;\n  this.savedNextToken = this.nextToken;\n  this.tokens.save();\n};\n\nParserState.prototype.restore = function () {\n  this.tokens.restore();\n  this.current = this.savedCurrent;\n  this.nextToken = this.savedNextToken;\n};\n\nParserState.prototype.accept = function (type, value) {\n  if (this.nextToken.type === type && this.tokenMatches(this.nextToken, value)) {\n    this.next();\n    return true;\n  }\n  return false;\n};\n\nParserState.prototype.expect = function (type, value) {\n  if (!this.accept(type, value)) {\n    var coords = this.tokens.getCoordinates();\n    throw new Error('parse error [' + coords.line + ':' + coords.column + ']: Expected ' + (value || type));\n  }\n};\n\nParserState.prototype.parseAtom = function (instr) {\n  if (this.accept(TNAME)) {\n    instr.push(new Instruction(IVAR, this.current.value));\n  } else if (this.accept(TNUMBER)) {\n    instr.push(new Instruction(INUMBER, this.current.value));\n  } else if (this.accept(TSTRING)) {\n    instr.push(new Instruction(INUMBER, this.current.value));\n  } else if (this.accept(TPAREN, '(')) {\n    this.parseExpression(instr);\n    this.expect(TPAREN, ')');\n  } else {\n    throw new Error('unexpected ' + this.nextToken);\n  }\n};\n\nParserState.prototype.parseExpression = function (instr) {\n  this.parseConditionalExpression(instr);\n};\n\nParserState.prototype.parseConditionalExpression = function (instr) {\n  this.parseOrExpression(instr);\n  while (this.accept(TOP, '?')) {\n    var trueBranch = [];\n    var falseBranch = [];\n    this.parseConditionalExpression(trueBranch);\n    this.expect(TOP, ':');\n    this.parseConditionalExpression(falseBranch);\n    instr.push(new Instruction(IEXPR, trueBranch));\n    instr.push(new Instruction(IEXPR, falseBranch));\n    instr.push(ternaryInstruction('?'));\n  }\n};\n\nParserState.prototype.parseOrExpression = function (instr) {\n  this.parseAndExpression(instr);\n  while (this.accept(TOP, 'or')) {\n    this.parseAndExpression(instr);\n    instr.push(binaryInstruction('or'));\n  }\n};\n\nParserState.prototype.parseAndExpression = function (instr) {\n  this.parseComparison(instr);\n  while (this.accept(TOP, 'and')) {\n    this.parseComparison(instr);\n    instr.push(binaryInstruction('and'));\n  }\n};\n\nvar COMPARISON_OPERATORS = ['==', '!=', '<', '<=', '>=', '>', 'in'];\n\nParserState.prototype.parseComparison = function (instr) {\n  this.parseAddSub(instr);\n  while (this.accept(TOP, COMPARISON_OPERATORS)) {\n    var op = this.current;\n    this.parseAddSub(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nvar ADD_SUB_OPERATORS = ['+', '-', '||'];\n\nParserState.prototype.parseAddSub = function (instr) {\n  this.parseTerm(instr);\n  while (this.accept(TOP, ADD_SUB_OPERATORS)) {\n    var op = this.current;\n    this.parseTerm(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nvar TERM_OPERATORS = ['*', '/', '%'];\n\nParserState.prototype.parseTerm = function (instr) {\n  this.parseFactor(instr);\n  while (this.accept(TOP, TERM_OPERATORS)) {\n    var op = this.current;\n    this.parseFactor(instr);\n    instr.push(binaryInstruction(op.value));\n  }\n};\n\nParserState.prototype.parseFactor = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  this.save();\n  if (this.accept(TOP, isPrefixOperator)) {\n    if ((this.current.value !== '-' && this.current.value !== '+' && this.nextToken.type === TPAREN && this.nextToken.value === '(')) {\n      this.restore();\n      this.parseExponential(instr);\n    } else {\n      var op = this.current;\n      this.parseFactor(instr);\n      instr.push(unaryInstruction(op.value));\n    }\n  } else {\n    this.parseExponential(instr);\n  }\n};\n\nParserState.prototype.parseExponential = function (instr) {\n  this.parsePostfixExpression(instr);\n  while (this.accept(TOP, '^')) {\n    this.parseFactor(instr);\n    instr.push(binaryInstruction('^'));\n  }\n};\n\nParserState.prototype.parsePostfixExpression = function (instr) {\n  this.parseFunctionCall(instr);\n  while (this.accept(TOP, '!')) {\n    instr.push(unaryInstruction('!'));\n  }\n};\n\nParserState.prototype.parseFunctionCall = function (instr) {\n  var unaryOps = this.tokens.unaryOps;\n  function isPrefixOperator(token) {\n    return token.value in unaryOps;\n  }\n\n  if (this.accept(TOP, isPrefixOperator)) {\n    var op = this.current;\n    this.parseAtom(instr);\n    instr.push(unaryInstruction(op.value));\n  } else {\n    this.parseMemberExpression(instr);\n    while (this.accept(TPAREN, '(')) {\n      if (this.accept(TPAREN, ')')) {\n        instr.push(new Instruction(IFUNCALL, 0));\n      } else {\n        var argCount = this.parseArgumentList(instr);\n        instr.push(new Instruction(IFUNCALL, argCount));\n      }\n    }\n  }\n};\n\nParserState.prototype.parseArgumentList = function (instr) {\n  var argCount = 0;\n\n  while (!this.accept(TPAREN, ')')) {\n    this.parseExpression(instr);\n    ++argCount;\n    while (this.accept(TCOMMA)) {\n      this.parseExpression(instr);\n      ++argCount;\n    }\n  }\n\n  return argCount;\n};\n\nParserState.prototype.parseMemberExpression = function (instr) {\n  this.parseAtom(instr);\n  while (this.accept(TOP, '.')) {\n    if (!this.allowMemberAccess) {\n      throw new Error('unexpected \".\", member access is not permitted');\n    }\n\n    this.expect(TNAME);\n    instr.push(new Instruction(IMEMBER, this.current.value));\n  }\n};\n\nfunction add(a, b) {\n  return Number(a) + Number(b);\n}\n\nfunction sub(a, b) {\n  return a - b;\n}\n\nfunction mul(a, b) {\n  return a * b;\n}\n\nfunction div(a, b) {\n  return a / b;\n}\n\nfunction mod(a, b) {\n  return a % b;\n}\n\nfunction concat(a, b) {\n  return '' + a + b;\n}\n\nfunction equal(a, b) {\n  return a === b;\n}\n\nfunction notEqual(a, b) {\n  return a !== b;\n}\n\nfunction greaterThan(a, b) {\n  return a > b;\n}\n\nfunction lessThan(a, b) {\n  return a < b;\n}\n\nfunction greaterThanEqual(a, b) {\n  return a >= b;\n}\n\nfunction lessThanEqual(a, b) {\n  return a <= b;\n}\n\nfunction andOperator(a, b) {\n  return Boolean(a && b);\n}\n\nfunction orOperator(a, b) {\n  return Boolean(a || b);\n}\n\nfunction inOperator(a, b) {\n  return contains(b, a);\n}\n\nfunction sinh(a) {\n  return ((Math.exp(a) - Math.exp(-a)) / 2);\n}\n\nfunction cosh(a) {\n  return ((Math.exp(a) + Math.exp(-a)) / 2);\n}\n\nfunction tanh(a) {\n  if (a === Infinity) return 1;\n  if (a === -Infinity) return -1;\n  return (Math.exp(a) - Math.exp(-a)) / (Math.exp(a) + Math.exp(-a));\n}\n\nfunction asinh(a) {\n  if (a === -Infinity) return a;\n  return Math.log(a + Math.sqrt((a * a) + 1));\n}\n\nfunction acosh(a) {\n  return Math.log(a + Math.sqrt((a * a) - 1));\n}\n\nfunction atanh(a) {\n  return (Math.log((1 + a) / (1 - a)) / 2);\n}\n\nfunction log10(a) {\n  return Math.log(a) * Math.LOG10E;\n}\n\nfunction neg(a) {\n  return -a;\n}\n\nfunction not(a) {\n  return !a;\n}\n\nfunction trunc(a) {\n  return a < 0 ? Math.ceil(a) : Math.floor(a);\n}\n\nfunction random(a) {\n  return Math.random() * (a || 1);\n}\n\nfunction factorial(a) { // a!\n  return gamma(a + 1);\n}\n\nfunction isInteger(value) {\n  return isFinite(value) && (value === Math.round(value));\n}\n\nvar GAMMA_G = 4.7421875;\nvar GAMMA_P = [\n  0.99999999999999709182,\n  57.156235665862923517, -59.597960355475491248,\n  14.136097974741747174, -0.49191381609762019978,\n  0.33994649984811888699e-4,\n  0.46523628927048575665e-4, -0.98374475304879564677e-4,\n  0.15808870322491248884e-3, -0.21026444172410488319e-3,\n  0.21743961811521264320e-3, -0.16431810653676389022e-3,\n  0.84418223983852743293e-4, -0.26190838401581408670e-4,\n  0.36899182659531622704e-5\n];\n\n// Gamma function from math.js\nfunction gamma(n) {\n  var t, x;\n\n  if (isInteger(n)) {\n    if (n <= 0) {\n      return isFinite(n) ? Infinity : NaN;\n    }\n\n    if (n > 171) {\n      return Infinity; // Will overflow\n    }\n\n    var value = n - 2;\n    var res = n - 1;\n    while (value > 1) {\n      res *= value;\n      value--;\n    }\n\n    if (res === 0) {\n      res = 1; // 0! is per definition 1\n    }\n\n    return res;\n  }\n\n  if (n < 0.5) {\n    return Math.PI / (Math.sin(Math.PI * n) * gamma(1 - n));\n  }\n\n  if (n >= 171.35) {\n    return Infinity; // will overflow\n  }\n\n  if (n > 85.0) { // Extended Stirling Approx\n    var twoN = n * n;\n    var threeN = twoN * n;\n    var fourN = threeN * n;\n    var fiveN = fourN * n;\n    return Math.sqrt(2 * Math.PI / n) * Math.pow((n / Math.E), n) *\n      (1 + (1 / (12 * n)) + (1 / (288 * twoN)) - (139 / (51840 * threeN)) -\n      (571 / (2488320 * fourN)) + (163879 / (209018880 * fiveN)) +\n      (5246819 / (75246796800 * fiveN * n)));\n  }\n\n  --n;\n  x = GAMMA_P[0];\n  for (var i = 1; i < GAMMA_P.length; ++i) {\n    x += GAMMA_P[i] / (n + i);\n  }\n\n  t = n + GAMMA_G + 0.5;\n  return Math.sqrt(2 * Math.PI) * Math.pow(t, n + 0.5) * Math.exp(-t) * x;\n}\n\nfunction stringLength(s) {\n  return String(s).length;\n}\n\nfunction hypot() {\n  var sum = 0;\n  var larg = 0;\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = Math.abs(arguments[i]);\n    var div;\n    if (larg < arg) {\n      div = larg / arg;\n      sum = (sum * div * div) + 1;\n      larg = arg;\n    } else if (arg > 0) {\n      div = arg / larg;\n      sum += div * div;\n    } else {\n      sum += arg;\n    }\n  }\n  return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n}\n\nfunction condition(cond, yep, nope) {\n  return cond ? yep : nope;\n}\n\nfunction Parser(options) {\n  this.options = options || {};\n  this.unaryOps = {\n    sin: Math.sin,\n    cos: Math.cos,\n    tan: Math.tan,\n    asin: Math.asin,\n    acos: Math.acos,\n    atan: Math.atan,\n    sinh: Math.sinh || sinh,\n    cosh: Math.cosh || cosh,\n    tanh: Math.tanh || tanh,\n    asinh: Math.asinh || asinh,\n    acosh: Math.acosh || acosh,\n    atanh: Math.atanh || atanh,\n    sqrt: Math.sqrt,\n    log: Math.log,\n    ln: Math.log,\n    lg: Math.log10 || log10,\n    log10: Math.log10 || log10,\n    abs: Math.abs,\n    ceil: Math.ceil,\n    floor: Math.floor,\n    round: Math.round,\n    trunc: Math.trunc || trunc,\n    '-': neg,\n    '+': Number,\n    exp: Math.exp,\n    not: not,\n    length: stringLength,\n    '!': factorial\n  };\n\n  this.binaryOps = {\n    '+': add,\n    '-': sub,\n    '*': mul,\n    '/': div,\n    '%': mod,\n    '^': Math.pow,\n    '||': concat,\n    '==': equal,\n    '!=': notEqual,\n    '>': greaterThan,\n    '<': lessThan,\n    '>=': greaterThanEqual,\n    '<=': lessThanEqual,\n    and: andOperator,\n    or: orOperator,\n    'in': inOperator\n  };\n\n  this.ternaryOps = {\n    '?': condition\n  };\n\n  this.functions = {\n    random: random,\n    fac: factorial,\n    min: Math.min,\n    max: Math.max,\n    hypot: Math.hypot || hypot,\n    pyt: Math.hypot || hypot, // backward compat\n    pow: Math.pow,\n    atan2: Math.atan2,\n    'if': condition,\n    gamma: gamma\n  };\n\n  this.consts = {\n    E: Math.E,\n    PI: Math.PI,\n    'true': true,\n    'false': false\n  };\n}\n\nParser.prototype.parse = function (expr) {\n  var instr = [];\n  var parserState = new ParserState(\n    this,\n    new TokenStream(this, expr),\n    { allowMemberAccess: this.options.allowMemberAccess }\n  );\n\n  parserState.parseExpression(instr);\n  parserState.expect(TEOF, 'EOF');\n\n  return new Expression(instr, this);\n};\n\nParser.prototype.evaluate = function (expr, variables) {\n  return this.parse(expr).evaluate(variables);\n};\n\nvar sharedParser = new Parser();\n\nParser.parse = function (expr) {\n  return sharedParser.parse(expr);\n};\n\nParser.evaluate = function (expr, variables) {\n  return sharedParser.parse(expr).evaluate(variables);\n};\n\n/*!\n Based on ndef.parser, by Raphael Graf(r@undefined.ch)\n http://www.undefined.ch/mparser/index.html\n\n Ported to JavaScript and modified by Matthew Crumley (email@matthewcrumley.com, http://silentmatt.com/)\n\n You are free to use and modify this code in anyway you find useful. Please leave this comment in the code\n to acknowledge its original source. If you feel like it, I enjoy hearing about projects that use my code,\n but don't feel like you have to let me know or ask permission.\n*/\n\nvar index = {\n  Parser: Parser,\n  Expression: Expression\n};\n\nreturn index;\n\n})));\n\n},{}],5:[function(require,module,exports){\n/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n\n},{}],6:[function(require,module,exports){\n// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>\n// This work is free. You can redistribute it and/or modify it\n// under the terms of the WTFPL, Version 2\n// For more information see LICENSE.txt or http://www.wtfpl.net/\n//\n// For more information, the home page:\n// http://pieroxy.net/blog/pages/lz-string/testing.html\n//\n// LZ-based compression algorithm, version 1.4.4\nvar LZString = (function() {\n\n// private property\nvar f = String.fromCharCode;\nvar keyStrBase64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar keyStrUriSafe = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\nvar baseReverseDic = {};\n\nfunction getBaseValue(alphabet, character) {\n  if (!baseReverseDic[alphabet]) {\n    baseReverseDic[alphabet] = {};\n    for (var i=0 ; i<alphabet.length ; i++) {\n      baseReverseDic[alphabet][alphabet.charAt(i)] = i;\n    }\n  }\n  return baseReverseDic[alphabet][character];\n}\n\nvar LZString = {\n  compressToBase64 : function (input) {\n    if (input == null) return \"\";\n    var res = LZString._compress(input, 6, function(a){return keyStrBase64.charAt(a);});\n    switch (res.length % 4) { // To produce valid Base64\n    default: // When could this happen ?\n    case 0 : return res;\n    case 1 : return res+\"===\";\n    case 2 : return res+\"==\";\n    case 3 : return res+\"=\";\n    }\n  },\n\n  decompressFromBase64 : function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrBase64, input.charAt(index)); });\n  },\n\n  compressToUTF16 : function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 15, function(a){return f(a+32);}) + \" \";\n  },\n\n  decompressFromUTF16: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 16384, function(index) { return compressed.charCodeAt(index) - 32; });\n  },\n\n  //compress into uint8array (UCS-2 big endian format)\n  compressToUint8Array: function (uncompressed) {\n    var compressed = LZString.compress(uncompressed);\n    var buf=new Uint8Array(compressed.length*2); // 2 bytes per character\n\n    for (var i=0, TotalLen=compressed.length; i<TotalLen; i++) {\n      var current_value = compressed.charCodeAt(i);\n      buf[i*2] = current_value >>> 8;\n      buf[i*2+1] = current_value % 256;\n    }\n    return buf;\n  },\n\n  //decompress from uint8array (UCS-2 big endian format)\n  decompressFromUint8Array:function (compressed) {\n    if (compressed===null || compressed===undefined){\n        return LZString.decompress(compressed);\n    } else {\n        var buf=new Array(compressed.length/2); // 2 bytes per character\n        for (var i=0, TotalLen=buf.length; i<TotalLen; i++) {\n          buf[i]=compressed[i*2]*256+compressed[i*2+1];\n        }\n\n        var result = [];\n        buf.forEach(function (c) {\n          result.push(f(c));\n        });\n        return LZString.decompress(result.join(''));\n\n    }\n\n  },\n\n\n  //compress into a string that is already URI encoded\n  compressToEncodedURIComponent: function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 6, function(a){return keyStrUriSafe.charAt(a);});\n  },\n\n  //decompress from an output of compressToEncodedURIComponent\n  decompressFromEncodedURIComponent:function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    input = input.replace(/ /g, \"+\");\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrUriSafe, input.charAt(index)); });\n  },\n\n  compress: function (uncompressed) {\n    return LZString._compress(uncompressed, 16, function(a){return f(a);});\n  },\n  _compress: function (uncompressed, bitsPerChar, getCharFromInt) {\n    if (uncompressed == null) return \"\";\n    var i, value,\n        context_dictionary= {},\n        context_dictionaryToCreate= {},\n        context_c=\"\",\n        context_wc=\"\",\n        context_w=\"\",\n        context_enlargeIn= 2, // Compensate for the first entry which should not count\n        context_dictSize= 3,\n        context_numBits= 2,\n        context_data=[],\n        context_data_val=0,\n        context_data_position=0,\n        ii;\n\n    for (ii = 0; ii < uncompressed.length; ii += 1) {\n      context_c = uncompressed.charAt(ii);\n      if (!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)) {\n        context_dictionary[context_c] = context_dictSize++;\n        context_dictionaryToCreate[context_c] = true;\n      }\n\n      context_wc = context_w + context_c;\n      if (Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)) {\n        context_w = context_wc;\n      } else {\n        if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n          if (context_w.charCodeAt(0)<256) {\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<8 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          } else {\n            value = 1;\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1) | value;\n              if (context_data_position ==bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = 0;\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<16 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          }\n          context_enlargeIn--;\n          if (context_enlargeIn == 0) {\n            context_enlargeIn = Math.pow(2, context_numBits);\n            context_numBits++;\n          }\n          delete context_dictionaryToCreate[context_w];\n        } else {\n          value = context_dictionary[context_w];\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n\n\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        // Add wc to the dictionary.\n        context_dictionary[context_wc] = context_dictSize++;\n        context_w = String(context_c);\n      }\n    }\n\n    // Output the code for w.\n    if (context_w !== \"\") {\n      if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n        if (context_w.charCodeAt(0)<256) {\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<8 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        } else {\n          value = 1;\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | value;\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = 0;\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<16 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        delete context_dictionaryToCreate[context_w];\n      } else {\n        value = context_dictionary[context_w];\n        for (i=0 ; i<context_numBits ; i++) {\n          context_data_val = (context_data_val << 1) | (value&1);\n          if (context_data_position == bitsPerChar-1) {\n            context_data_position = 0;\n            context_data.push(getCharFromInt(context_data_val));\n            context_data_val = 0;\n          } else {\n            context_data_position++;\n          }\n          value = value >> 1;\n        }\n\n\n      }\n      context_enlargeIn--;\n      if (context_enlargeIn == 0) {\n        context_enlargeIn = Math.pow(2, context_numBits);\n        context_numBits++;\n      }\n    }\n\n    // Mark the end of the stream\n    value = 2;\n    for (i=0 ; i<context_numBits ; i++) {\n      context_data_val = (context_data_val << 1) | (value&1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data_position = 0;\n        context_data.push(getCharFromInt(context_data_val));\n        context_data_val = 0;\n      } else {\n        context_data_position++;\n      }\n      value = value >> 1;\n    }\n\n    // Flush the last char\n    while (true) {\n      context_data_val = (context_data_val << 1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data.push(getCharFromInt(context_data_val));\n        break;\n      }\n      else context_data_position++;\n    }\n    return context_data.join('');\n  },\n\n  decompress: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 32768, function(index) { return compressed.charCodeAt(index); });\n  },\n\n  _decompress: function (length, resetValue, getNextValue) {\n    var dictionary = [],\n        next,\n        enlargeIn = 4,\n        dictSize = 4,\n        numBits = 3,\n        entry = \"\",\n        result = [],\n        i,\n        w,\n        bits, resb, maxpower, power,\n        c,\n        data = {val:getNextValue(0), position:resetValue, index:1};\n\n    for (i = 0; i < 3; i += 1) {\n      dictionary[i] = i;\n    }\n\n    bits = 0;\n    maxpower = Math.pow(2,2);\n    power=1;\n    while (power!=maxpower) {\n      resb = data.val & data.position;\n      data.position >>= 1;\n      if (data.position == 0) {\n        data.position = resetValue;\n        data.val = getNextValue(data.index++);\n      }\n      bits |= (resb>0 ? 1 : 0) * power;\n      power <<= 1;\n    }\n\n    switch (next = bits) {\n      case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 2:\n        return \"\";\n    }\n    dictionary[3] = c;\n    w = c;\n    result.push(c);\n    while (true) {\n      if (data.index > length) {\n        return \"\";\n      }\n\n      bits = 0;\n      maxpower = Math.pow(2,numBits);\n      power=1;\n      while (power!=maxpower) {\n        resb = data.val & data.position;\n        data.position >>= 1;\n        if (data.position == 0) {\n          data.position = resetValue;\n          data.val = getNextValue(data.index++);\n        }\n        bits |= (resb>0 ? 1 : 0) * power;\n        power <<= 1;\n      }\n\n      switch (c = bits) {\n        case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 2:\n          return result.join('');\n      }\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n      if (dictionary[c]) {\n        entry = dictionary[c];\n      } else {\n        if (c === dictSize) {\n          entry = w + w.charAt(0);\n        } else {\n          return null;\n        }\n      }\n      result.push(entry);\n\n      // Add w+entry[0] to the dictionary.\n      dictionary[dictSize++] = w + entry.charAt(0);\n      enlargeIn--;\n\n      w = entry;\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n    }\n  }\n};\n  return LZString;\n})();\n\nif (typeof define === 'function' && define.amd) {\n  define(function () { return LZString; });\n} else if( typeof module !== 'undefined' && module != null ) {\n  module.exports = LZString\n}\n\n},{}],7:[function(require,module,exports){\n//! moment.js\n//! version : 2.18.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\nvar hookCallback;\n\nfunction hooks () {\n    return hookCallback.apply(null, arguments);\n}\n\n// This is done to register the method called with moment()\n// without creating circular dependencies.\nfunction setHookCallback (callback) {\n    hookCallback = callback;\n}\n\nfunction isArray(input) {\n    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n}\n\nfunction isObject(input) {\n    // IE8 will treat undefined and null as object if it wasn't for\n    // input != null\n    return input != null && Object.prototype.toString.call(input) === '[object Object]';\n}\n\nfunction isObjectEmpty(obj) {\n    var k;\n    for (k in obj) {\n        // even if its not own property I'd still call it non-empty\n        return false;\n    }\n    return true;\n}\n\nfunction isUndefined(input) {\n    return input === void 0;\n}\n\nfunction isNumber(input) {\n    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n}\n\nfunction isDate(input) {\n    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n}\n\nfunction map(arr, fn) {\n    var res = [], i;\n    for (i = 0; i < arr.length; ++i) {\n        res.push(fn(arr[i], i));\n    }\n    return res;\n}\n\nfunction hasOwnProp(a, b) {\n    return Object.prototype.hasOwnProperty.call(a, b);\n}\n\nfunction extend(a, b) {\n    for (var i in b) {\n        if (hasOwnProp(b, i)) {\n            a[i] = b[i];\n        }\n    }\n\n    if (hasOwnProp(b, 'toString')) {\n        a.toString = b.toString;\n    }\n\n    if (hasOwnProp(b, 'valueOf')) {\n        a.valueOf = b.valueOf;\n    }\n\n    return a;\n}\n\nfunction createUTC (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, true).utc();\n}\n\nfunction defaultParsingFlags() {\n    // We need to deep clone this object.\n    return {\n        empty           : false,\n        unusedTokens    : [],\n        unusedInput     : [],\n        overflow        : -2,\n        charsLeftOver   : 0,\n        nullInput       : false,\n        invalidMonth    : null,\n        invalidFormat   : false,\n        userInvalidated : false,\n        iso             : false,\n        parsedDateParts : [],\n        meridiem        : null,\n        rfc2822         : false,\n        weekdayMismatch : false\n    };\n}\n\nfunction getParsingFlags(m) {\n    if (m._pf == null) {\n        m._pf = defaultParsingFlags();\n    }\n    return m._pf;\n}\n\nvar some;\nif (Array.prototype.some) {\n    some = Array.prototype.some;\n} else {\n    some = function (fun) {\n        var t = Object(this);\n        var len = t.length >>> 0;\n\n        for (var i = 0; i < len; i++) {\n            if (i in t && fun.call(this, t[i], i, t)) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n}\n\nvar some$1 = some;\n\nfunction isValid(m) {\n    if (m._isValid == null) {\n        var flags = getParsingFlags(m);\n        var parsedParts = some$1.call(flags.parsedDateParts, function (i) {\n            return i != null;\n        });\n        var isNowValid = !isNaN(m._d.getTime()) &&\n            flags.overflow < 0 &&\n            !flags.empty &&\n            !flags.invalidMonth &&\n            !flags.invalidWeekday &&\n            !flags.nullInput &&\n            !flags.invalidFormat &&\n            !flags.userInvalidated &&\n            (!flags.meridiem || (flags.meridiem && parsedParts));\n\n        if (m._strict) {\n            isNowValid = isNowValid &&\n                flags.charsLeftOver === 0 &&\n                flags.unusedTokens.length === 0 &&\n                flags.bigHour === undefined;\n        }\n\n        if (Object.isFrozen == null || !Object.isFrozen(m)) {\n            m._isValid = isNowValid;\n        }\n        else {\n            return isNowValid;\n        }\n    }\n    return m._isValid;\n}\n\nfunction createInvalid (flags) {\n    var m = createUTC(NaN);\n    if (flags != null) {\n        extend(getParsingFlags(m), flags);\n    }\n    else {\n        getParsingFlags(m).userInvalidated = true;\n    }\n\n    return m;\n}\n\n// Plugins that add properties should also add the key here (null value),\n// so we can properly clone ourselves.\nvar momentProperties = hooks.momentProperties = [];\n\nfunction copyConfig(to, from) {\n    var i, prop, val;\n\n    if (!isUndefined(from._isAMomentObject)) {\n        to._isAMomentObject = from._isAMomentObject;\n    }\n    if (!isUndefined(from._i)) {\n        to._i = from._i;\n    }\n    if (!isUndefined(from._f)) {\n        to._f = from._f;\n    }\n    if (!isUndefined(from._l)) {\n        to._l = from._l;\n    }\n    if (!isUndefined(from._strict)) {\n        to._strict = from._strict;\n    }\n    if (!isUndefined(from._tzm)) {\n        to._tzm = from._tzm;\n    }\n    if (!isUndefined(from._isUTC)) {\n        to._isUTC = from._isUTC;\n    }\n    if (!isUndefined(from._offset)) {\n        to._offset = from._offset;\n    }\n    if (!isUndefined(from._pf)) {\n        to._pf = getParsingFlags(from);\n    }\n    if (!isUndefined(from._locale)) {\n        to._locale = from._locale;\n    }\n\n    if (momentProperties.length > 0) {\n        for (i = 0; i < momentProperties.length; i++) {\n            prop = momentProperties[i];\n            val = from[prop];\n            if (!isUndefined(val)) {\n                to[prop] = val;\n            }\n        }\n    }\n\n    return to;\n}\n\nvar updateInProgress = false;\n\n// Moment prototype object\nfunction Moment(config) {\n    copyConfig(this, config);\n    this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n    if (!this.isValid()) {\n        this._d = new Date(NaN);\n    }\n    // Prevent infinite loop in case updateOffset creates new moment\n    // objects.\n    if (updateInProgress === false) {\n        updateInProgress = true;\n        hooks.updateOffset(this);\n        updateInProgress = false;\n    }\n}\n\nfunction isMoment (obj) {\n    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n}\n\nfunction absFloor (number) {\n    if (number < 0) {\n        // -0 -> 0\n        return Math.ceil(number) || 0;\n    } else {\n        return Math.floor(number);\n    }\n}\n\nfunction toInt(argumentForCoercion) {\n    var coercedNumber = +argumentForCoercion,\n        value = 0;\n\n    if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n        value = absFloor(coercedNumber);\n    }\n\n    return value;\n}\n\n// compare two arrays, return the number of differences\nfunction compareArrays(array1, array2, dontConvert) {\n    var len = Math.min(array1.length, array2.length),\n        lengthDiff = Math.abs(array1.length - array2.length),\n        diffs = 0,\n        i;\n    for (i = 0; i < len; i++) {\n        if ((dontConvert && array1[i] !== array2[i]) ||\n            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n            diffs++;\n        }\n    }\n    return diffs + lengthDiff;\n}\n\nfunction warn(msg) {\n    if (hooks.suppressDeprecationWarnings === false &&\n            (typeof console !==  'undefined') && console.warn) {\n        console.warn('Deprecation warning: ' + msg);\n    }\n}\n\nfunction deprecate(msg, fn) {\n    var firstTime = true;\n\n    return extend(function () {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(null, msg);\n        }\n        if (firstTime) {\n            var args = [];\n            var arg;\n            for (var i = 0; i < arguments.length; i++) {\n                arg = '';\n                if (typeof arguments[i] === 'object') {\n                    arg += '\\n[' + i + '] ';\n                    for (var key in arguments[0]) {\n                        arg += key + ': ' + arguments[0][key] + ', ';\n                    }\n                    arg = arg.slice(0, -2); // Remove trailing comma and space\n                } else {\n                    arg = arguments[i];\n                }\n                args.push(arg);\n            }\n            warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n            firstTime = false;\n        }\n        return fn.apply(this, arguments);\n    }, fn);\n}\n\nvar deprecations = {};\n\nfunction deprecateSimple(name, msg) {\n    if (hooks.deprecationHandler != null) {\n        hooks.deprecationHandler(name, msg);\n    }\n    if (!deprecations[name]) {\n        warn(msg);\n        deprecations[name] = true;\n    }\n}\n\nhooks.suppressDeprecationWarnings = false;\nhooks.deprecationHandler = null;\n\nfunction isFunction(input) {\n    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n}\n\nfunction set (config) {\n    var prop, i;\n    for (i in config) {\n        prop = config[i];\n        if (isFunction(prop)) {\n            this[i] = prop;\n        } else {\n            this['_' + i] = prop;\n        }\n    }\n    this._config = config;\n    // Lenient ordinal parsing accepts just a number in addition to\n    // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    this._dayOfMonthOrdinalParseLenient = new RegExp(\n        (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n            '|' + (/\\d{1,2}/).source);\n}\n\nfunction mergeConfigs(parentConfig, childConfig) {\n    var res = extend({}, parentConfig), prop;\n    for (prop in childConfig) {\n        if (hasOwnProp(childConfig, prop)) {\n            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                res[prop] = {};\n                extend(res[prop], parentConfig[prop]);\n                extend(res[prop], childConfig[prop]);\n            } else if (childConfig[prop] != null) {\n                res[prop] = childConfig[prop];\n            } else {\n                delete res[prop];\n            }\n        }\n    }\n    for (prop in parentConfig) {\n        if (hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])) {\n            // make sure changes to properties don't modify parent config\n            res[prop] = extend({}, res[prop]);\n        }\n    }\n    return res;\n}\n\nfunction Locale(config) {\n    if (config != null) {\n        this.set(config);\n    }\n}\n\nvar keys;\n\nif (Object.keys) {\n    keys = Object.keys;\n} else {\n    keys = function (obj) {\n        var i, res = [];\n        for (i in obj) {\n            if (hasOwnProp(obj, i)) {\n                res.push(i);\n            }\n        }\n        return res;\n    };\n}\n\nvar keys$1 = keys;\n\nvar defaultCalendar = {\n    sameDay : '[Today at] LT',\n    nextDay : '[Tomorrow at] LT',\n    nextWeek : 'dddd [at] LT',\n    lastDay : '[Yesterday at] LT',\n    lastWeek : '[Last] dddd [at] LT',\n    sameElse : 'L'\n};\n\nfunction calendar (key, mom, now) {\n    var output = this._calendar[key] || this._calendar['sameElse'];\n    return isFunction(output) ? output.call(mom, now) : output;\n}\n\nvar defaultLongDateFormat = {\n    LTS  : 'h:mm:ss A',\n    LT   : 'h:mm A',\n    L    : 'MM/DD/YYYY',\n    LL   : 'MMMM D, YYYY',\n    LLL  : 'MMMM D, YYYY h:mm A',\n    LLLL : 'dddd, MMMM D, YYYY h:mm A'\n};\n\nfunction longDateFormat (key) {\n    var format = this._longDateFormat[key],\n        formatUpper = this._longDateFormat[key.toUpperCase()];\n\n    if (format || !formatUpper) {\n        return format;\n    }\n\n    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n        return val.slice(1);\n    });\n\n    return this._longDateFormat[key];\n}\n\nvar defaultInvalidDate = 'Invalid date';\n\nfunction invalidDate () {\n    return this._invalidDate;\n}\n\nvar defaultOrdinal = '%d';\nvar defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\nfunction ordinal (number) {\n    return this._ordinal.replace('%d', number);\n}\n\nvar defaultRelativeTime = {\n    future : 'in %s',\n    past   : '%s ago',\n    s  : 'a few seconds',\n    ss : '%d seconds',\n    m  : 'a minute',\n    mm : '%d minutes',\n    h  : 'an hour',\n    hh : '%d hours',\n    d  : 'a day',\n    dd : '%d days',\n    M  : 'a month',\n    MM : '%d months',\n    y  : 'a year',\n    yy : '%d years'\n};\n\nfunction relativeTime (number, withoutSuffix, string, isFuture) {\n    var output = this._relativeTime[string];\n    return (isFunction(output)) ?\n        output(number, withoutSuffix, string, isFuture) :\n        output.replace(/%d/i, number);\n}\n\nfunction pastFuture (diff, output) {\n    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n    return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n}\n\nvar aliases = {};\n\nfunction addUnitAlias (unit, shorthand) {\n    var lowerCase = unit.toLowerCase();\n    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n}\n\nfunction normalizeUnits(units) {\n    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n}\n\nfunction normalizeObjectUnits(inputObject) {\n    var normalizedInput = {},\n        normalizedProp,\n        prop;\n\n    for (prop in inputObject) {\n        if (hasOwnProp(inputObject, prop)) {\n            normalizedProp = normalizeUnits(prop);\n            if (normalizedProp) {\n                normalizedInput[normalizedProp] = inputObject[prop];\n            }\n        }\n    }\n\n    return normalizedInput;\n}\n\nvar priorities = {};\n\nfunction addUnitPriority(unit, priority) {\n    priorities[unit] = priority;\n}\n\nfunction getPrioritizedUnits(unitsObj) {\n    var units = [];\n    for (var u in unitsObj) {\n        units.push({unit: u, priority: priorities[u]});\n    }\n    units.sort(function (a, b) {\n        return a.priority - b.priority;\n    });\n    return units;\n}\n\nfunction makeGetSet (unit, keepTime) {\n    return function (value) {\n        if (value != null) {\n            set$1(this, unit, value);\n            hooks.updateOffset(this, keepTime);\n            return this;\n        } else {\n            return get(this, unit);\n        }\n    };\n}\n\nfunction get (mom, unit) {\n    return mom.isValid() ?\n        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n}\n\nfunction set$1 (mom, unit, value) {\n    if (mom.isValid()) {\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n    }\n}\n\n// MOMENTS\n\nfunction stringGet (units) {\n    units = normalizeUnits(units);\n    if (isFunction(this[units])) {\n        return this[units]();\n    }\n    return this;\n}\n\n\nfunction stringSet (units, value) {\n    if (typeof units === 'object') {\n        units = normalizeObjectUnits(units);\n        var prioritized = getPrioritizedUnits(units);\n        for (var i = 0; i < prioritized.length; i++) {\n            this[prioritized[i].unit](units[prioritized[i].unit]);\n        }\n    } else {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units](value);\n        }\n    }\n    return this;\n}\n\nfunction zeroFill(number, targetLength, forceSign) {\n    var absNumber = '' + Math.abs(number),\n        zerosToFill = targetLength - absNumber.length,\n        sign = number >= 0;\n    return (sign ? (forceSign ? '+' : '') : '-') +\n        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n}\n\nvar formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\nvar localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\nvar formatFunctions = {};\n\nvar formatTokenFunctions = {};\n\n// token:    'M'\n// padded:   ['MM', 2]\n// ordinal:  'Mo'\n// callback: function () { this.month() + 1 }\nfunction addFormatToken (token, padded, ordinal, callback) {\n    var func = callback;\n    if (typeof callback === 'string') {\n        func = function () {\n            return this[callback]();\n        };\n    }\n    if (token) {\n        formatTokenFunctions[token] = func;\n    }\n    if (padded) {\n        formatTokenFunctions[padded[0]] = function () {\n            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n        };\n    }\n    if (ordinal) {\n        formatTokenFunctions[ordinal] = function () {\n            return this.localeData().ordinal(func.apply(this, arguments), token);\n        };\n    }\n}\n\nfunction removeFormattingTokens(input) {\n    if (input.match(/\\[[\\s\\S]/)) {\n        return input.replace(/^\\[|\\]$/g, '');\n    }\n    return input.replace(/\\\\/g, '');\n}\n\nfunction makeFormatFunction(format) {\n    var array = format.match(formattingTokens), i, length;\n\n    for (i = 0, length = array.length; i < length; i++) {\n        if (formatTokenFunctions[array[i]]) {\n            array[i] = formatTokenFunctions[array[i]];\n        } else {\n            array[i] = removeFormattingTokens(array[i]);\n        }\n    }\n\n    return function (mom) {\n        var output = '', i;\n        for (i = 0; i < length; i++) {\n            output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n        }\n        return output;\n    };\n}\n\n// format date using native date object\nfunction formatMoment(m, format) {\n    if (!m.isValid()) {\n        return m.localeData().invalidDate();\n    }\n\n    format = expandFormat(format, m.localeData());\n    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n    return formatFunctions[format](m);\n}\n\nfunction expandFormat(format, locale) {\n    var i = 5;\n\n    function replaceLongDateFormatTokens(input) {\n        return locale.longDateFormat(input) || input;\n    }\n\n    localFormattingTokens.lastIndex = 0;\n    while (i >= 0 && localFormattingTokens.test(format)) {\n        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n        localFormattingTokens.lastIndex = 0;\n        i -= 1;\n    }\n\n    return format;\n}\n\nvar match1         = /\\d/;            //       0 - 9\nvar match2         = /\\d\\d/;          //      00 - 99\nvar match3         = /\\d{3}/;         //     000 - 999\nvar match4         = /\\d{4}/;         //    0000 - 9999\nvar match6         = /[+-]?\\d{6}/;    // -999999 - 999999\nvar match1to2      = /\\d\\d?/;         //       0 - 99\nvar match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\nvar match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\nvar match1to3      = /\\d{1,3}/;       //       0 - 999\nvar match1to4      = /\\d{1,4}/;       //       0 - 9999\nvar match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\nvar matchUnsigned  = /\\d+/;           //       0 - inf\nvar matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\nvar matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\nvar matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\nvar matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n// any word (or two) characters or numbers including two/three word month in arabic.\n// includes scottish gaelic two word and hyphenated months\nvar matchWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\n\nvar regexes = {};\n\nfunction addRegexToken (token, regex, strictRegex) {\n    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n        return (isStrict && strictRegex) ? strictRegex : regex;\n    };\n}\n\nfunction getParseRegexForToken (token, config) {\n    if (!hasOwnProp(regexes, token)) {\n        return new RegExp(unescapeFormat(token));\n    }\n\n    return regexes[token](config._strict, config._locale);\n}\n\n// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\nfunction unescapeFormat(s) {\n    return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n        return p1 || p2 || p3 || p4;\n    }));\n}\n\nfunction regexEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n\nvar tokens = {};\n\nfunction addParseToken (token, callback) {\n    var i, func = callback;\n    if (typeof token === 'string') {\n        token = [token];\n    }\n    if (isNumber(callback)) {\n        func = function (input, array) {\n            array[callback] = toInt(input);\n        };\n    }\n    for (i = 0; i < token.length; i++) {\n        tokens[token[i]] = func;\n    }\n}\n\nfunction addWeekParseToken (token, callback) {\n    addParseToken(token, function (input, array, config, token) {\n        config._w = config._w || {};\n        callback(input, config._w, config, token);\n    });\n}\n\nfunction addTimeToArrayFromToken(token, input, config) {\n    if (input != null && hasOwnProp(tokens, token)) {\n        tokens[token](input, config._a, config, token);\n    }\n}\n\nvar YEAR = 0;\nvar MONTH = 1;\nvar DATE = 2;\nvar HOUR = 3;\nvar MINUTE = 4;\nvar SECOND = 5;\nvar MILLISECOND = 6;\nvar WEEK = 7;\nvar WEEKDAY = 8;\n\nvar indexOf;\n\nif (Array.prototype.indexOf) {\n    indexOf = Array.prototype.indexOf;\n} else {\n    indexOf = function (o) {\n        // I know\n        var i;\n        for (i = 0; i < this.length; ++i) {\n            if (this[i] === o) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\nvar indexOf$1 = indexOf;\n\nfunction daysInMonth(year, month) {\n    return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n}\n\n// FORMATTING\n\naddFormatToken('M', ['MM', 2], 'Mo', function () {\n    return this.month() + 1;\n});\n\naddFormatToken('MMM', 0, 0, function (format) {\n    return this.localeData().monthsShort(this, format);\n});\n\naddFormatToken('MMMM', 0, 0, function (format) {\n    return this.localeData().months(this, format);\n});\n\n// ALIASES\n\naddUnitAlias('month', 'M');\n\n// PRIORITY\n\naddUnitPriority('month', 8);\n\n// PARSING\n\naddRegexToken('M',    match1to2);\naddRegexToken('MM',   match1to2, match2);\naddRegexToken('MMM',  function (isStrict, locale) {\n    return locale.monthsShortRegex(isStrict);\n});\naddRegexToken('MMMM', function (isStrict, locale) {\n    return locale.monthsRegex(isStrict);\n});\n\naddParseToken(['M', 'MM'], function (input, array) {\n    array[MONTH] = toInt(input) - 1;\n});\n\naddParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n    var month = config._locale.monthsParse(input, token, config._strict);\n    // if we didn't find a month name, mark the date as invalid.\n    if (month != null) {\n        array[MONTH] = month;\n    } else {\n        getParsingFlags(config).invalidMonth = input;\n    }\n});\n\n// LOCALES\n\nvar MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\nvar defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\nfunction localeMonths (m, format) {\n    if (!m) {\n        return isArray(this._months) ? this._months :\n            this._months['standalone'];\n    }\n    return isArray(this._months) ? this._months[m.month()] :\n        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nvar defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\nfunction localeMonthsShort (m, format) {\n    if (!m) {\n        return isArray(this._monthsShort) ? this._monthsShort :\n            this._monthsShort['standalone'];\n    }\n    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nfunction handleStrictParse(monthName, format, strict) {\n    var i, ii, mom, llc = monthName.toLocaleLowerCase();\n    if (!this._monthsParse) {\n        // this is not used\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n        for (i = 0; i < 12; ++i) {\n            mom = createUTC([2000, i]);\n            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'MMM') {\n            ii = indexOf$1.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'MMM') {\n            ii = indexOf$1.call(this._shortMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._longMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeMonthsParse (monthName, format, strict) {\n    var i, mom, regex;\n\n    if (this._monthsParseExact) {\n        return handleStrictParse.call(this, monthName, format, strict);\n    }\n\n    if (!this._monthsParse) {\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n    }\n\n    // TODO: add sorting\n    // Sorting makes sure if one month (or abbr) is a prefix of another\n    // see sorting in computeMonthsParse\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        if (strict && !this._longMonthsParse[i]) {\n            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n        }\n        if (!strict && !this._monthsParse[i]) {\n            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (!strict && this._monthsParse[i].test(monthName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction setMonth (mom, value) {\n    var dayOfMonth;\n\n    if (!mom.isValid()) {\n        // No op\n        return mom;\n    }\n\n    if (typeof value === 'string') {\n        if (/^\\d+$/.test(value)) {\n            value = toInt(value);\n        } else {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (!isNumber(value)) {\n                return mom;\n            }\n        }\n    }\n\n    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n    return mom;\n}\n\nfunction getSetMonth (value) {\n    if (value != null) {\n        setMonth(this, value);\n        hooks.updateOffset(this, true);\n        return this;\n    } else {\n        return get(this, 'Month');\n    }\n}\n\nfunction getDaysInMonth () {\n    return daysInMonth(this.year(), this.month());\n}\n\nvar defaultMonthsShortRegex = matchWord;\nfunction monthsShortRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsShortStrictRegex;\n        } else {\n            return this._monthsShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsShortRegex')) {\n            this._monthsShortRegex = defaultMonthsShortRegex;\n        }\n        return this._monthsShortStrictRegex && isStrict ?\n            this._monthsShortStrictRegex : this._monthsShortRegex;\n    }\n}\n\nvar defaultMonthsRegex = matchWord;\nfunction monthsRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsStrictRegex;\n        } else {\n            return this._monthsRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            this._monthsRegex = defaultMonthsRegex;\n        }\n        return this._monthsStrictRegex && isStrict ?\n            this._monthsStrictRegex : this._monthsRegex;\n    }\n}\n\nfunction computeMonthsParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom;\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        shortPieces.push(this.monthsShort(mom, ''));\n        longPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.monthsShort(mom, ''));\n    }\n    // Sorting makes sure if one month (or abbr) is a prefix of another it\n    // will match the longer piece.\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 12; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n    }\n    for (i = 0; i < 24; i++) {\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._monthsShortRegex = this._monthsRegex;\n    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n}\n\n// FORMATTING\n\naddFormatToken('Y', 0, 0, function () {\n    var y = this.year();\n    return y <= 9999 ? '' + y : '+' + y;\n});\n\naddFormatToken(0, ['YY', 2], 0, function () {\n    return this.year() % 100;\n});\n\naddFormatToken(0, ['YYYY',   4],       0, 'year');\naddFormatToken(0, ['YYYYY',  5],       0, 'year');\naddFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n// ALIASES\n\naddUnitAlias('year', 'y');\n\n// PRIORITIES\n\naddUnitPriority('year', 1);\n\n// PARSING\n\naddRegexToken('Y',      matchSigned);\naddRegexToken('YY',     match1to2, match2);\naddRegexToken('YYYY',   match1to4, match4);\naddRegexToken('YYYYY',  match1to6, match6);\naddRegexToken('YYYYYY', match1to6, match6);\n\naddParseToken(['YYYYY', 'YYYYYY'], YEAR);\naddParseToken('YYYY', function (input, array) {\n    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n});\naddParseToken('YY', function (input, array) {\n    array[YEAR] = hooks.parseTwoDigitYear(input);\n});\naddParseToken('Y', function (input, array) {\n    array[YEAR] = parseInt(input, 10);\n});\n\n// HELPERS\n\nfunction daysInYear(year) {\n    return isLeapYear(year) ? 366 : 365;\n}\n\nfunction isLeapYear(year) {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\n// HOOKS\n\nhooks.parseTwoDigitYear = function (input) {\n    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n};\n\n// MOMENTS\n\nvar getSetYear = makeGetSet('FullYear', true);\n\nfunction getIsLeapYear () {\n    return isLeapYear(this.year());\n}\n\nfunction createDate (y, m, d, h, M, s, ms) {\n    // can't just apply() to create a date:\n    // https://stackoverflow.com/q/181348\n    var date = new Date(y, m, d, h, M, s, ms);\n\n    // the date constructor remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n        date.setFullYear(y);\n    }\n    return date;\n}\n\nfunction createUTCDate (y) {\n    var date = new Date(Date.UTC.apply(null, arguments));\n\n    // the Date.UTC function remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n        date.setUTCFullYear(y);\n    }\n    return date;\n}\n\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        fwd = 7 + dow - doy,\n        // first-week day local weekday -- which local weekday is fwd\n        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n    return -fwdlw + fwd - 1;\n}\n\n// https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\nfunction dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n    var localWeekday = (7 + weekday - dow) % 7,\n        weekOffset = firstWeekOffset(year, dow, doy),\n        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n        resYear, resDayOfYear;\n\n    if (dayOfYear <= 0) {\n        resYear = year - 1;\n        resDayOfYear = daysInYear(resYear) + dayOfYear;\n    } else if (dayOfYear > daysInYear(year)) {\n        resYear = year + 1;\n        resDayOfYear = dayOfYear - daysInYear(year);\n    } else {\n        resYear = year;\n        resDayOfYear = dayOfYear;\n    }\n\n    return {\n        year: resYear,\n        dayOfYear: resDayOfYear\n    };\n}\n\nfunction weekOfYear(mom, dow, doy) {\n    var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n        resWeek, resYear;\n\n    if (week < 1) {\n        resYear = mom.year() - 1;\n        resWeek = week + weeksInYear(resYear, dow, doy);\n    } else if (week > weeksInYear(mom.year(), dow, doy)) {\n        resWeek = week - weeksInYear(mom.year(), dow, doy);\n        resYear = mom.year() + 1;\n    } else {\n        resYear = mom.year();\n        resWeek = week;\n    }\n\n    return {\n        week: resWeek,\n        year: resYear\n    };\n}\n\nfunction weeksInYear(year, dow, doy) {\n    var weekOffset = firstWeekOffset(year, dow, doy),\n        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n}\n\n// FORMATTING\n\naddFormatToken('w', ['ww', 2], 'wo', 'week');\naddFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n// ALIASES\n\naddUnitAlias('week', 'w');\naddUnitAlias('isoWeek', 'W');\n\n// PRIORITIES\n\naddUnitPriority('week', 5);\naddUnitPriority('isoWeek', 5);\n\n// PARSING\n\naddRegexToken('w',  match1to2);\naddRegexToken('ww', match1to2, match2);\naddRegexToken('W',  match1to2);\naddRegexToken('WW', match1to2, match2);\n\naddWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n    week[token.substr(0, 1)] = toInt(input);\n});\n\n// HELPERS\n\n// LOCALES\n\nfunction localeWeek (mom) {\n    return weekOfYear(mom, this._week.dow, this._week.doy).week;\n}\n\nvar defaultLocaleWeek = {\n    dow : 0, // Sunday is the first day of the week.\n    doy : 6  // The week that contains Jan 1st is the first week of the year.\n};\n\nfunction localeFirstDayOfWeek () {\n    return this._week.dow;\n}\n\nfunction localeFirstDayOfYear () {\n    return this._week.doy;\n}\n\n// MOMENTS\n\nfunction getSetWeek (input) {\n    var week = this.localeData().week(this);\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\nfunction getSetISOWeek (input) {\n    var week = weekOfYear(this, 1, 4).week;\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\n// FORMATTING\n\naddFormatToken('d', 0, 'do', 'day');\n\naddFormatToken('dd', 0, 0, function (format) {\n    return this.localeData().weekdaysMin(this, format);\n});\n\naddFormatToken('ddd', 0, 0, function (format) {\n    return this.localeData().weekdaysShort(this, format);\n});\n\naddFormatToken('dddd', 0, 0, function (format) {\n    return this.localeData().weekdays(this, format);\n});\n\naddFormatToken('e', 0, 0, 'weekday');\naddFormatToken('E', 0, 0, 'isoWeekday');\n\n// ALIASES\n\naddUnitAlias('day', 'd');\naddUnitAlias('weekday', 'e');\naddUnitAlias('isoWeekday', 'E');\n\n// PRIORITY\naddUnitPriority('day', 11);\naddUnitPriority('weekday', 11);\naddUnitPriority('isoWeekday', 11);\n\n// PARSING\n\naddRegexToken('d',    match1to2);\naddRegexToken('e',    match1to2);\naddRegexToken('E',    match1to2);\naddRegexToken('dd',   function (isStrict, locale) {\n    return locale.weekdaysMinRegex(isStrict);\n});\naddRegexToken('ddd',   function (isStrict, locale) {\n    return locale.weekdaysShortRegex(isStrict);\n});\naddRegexToken('dddd',   function (isStrict, locale) {\n    return locale.weekdaysRegex(isStrict);\n});\n\naddWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n    var weekday = config._locale.weekdaysParse(input, token, config._strict);\n    // if we didn't get a weekday name, mark the date as invalid\n    if (weekday != null) {\n        week.d = weekday;\n    } else {\n        getParsingFlags(config).invalidWeekday = input;\n    }\n});\n\naddWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n    week[token] = toInt(input);\n});\n\n// HELPERS\n\nfunction parseWeekday(input, locale) {\n    if (typeof input !== 'string') {\n        return input;\n    }\n\n    if (!isNaN(input)) {\n        return parseInt(input, 10);\n    }\n\n    input = locale.weekdaysParse(input);\n    if (typeof input === 'number') {\n        return input;\n    }\n\n    return null;\n}\n\nfunction parseIsoWeekday(input, locale) {\n    if (typeof input === 'string') {\n        return locale.weekdaysParse(input) % 7 || 7;\n    }\n    return isNaN(input) ? null : input;\n}\n\n// LOCALES\n\nvar defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\nfunction localeWeekdays (m, format) {\n    if (!m) {\n        return isArray(this._weekdays) ? this._weekdays :\n            this._weekdays['standalone'];\n    }\n    return isArray(this._weekdays) ? this._weekdays[m.day()] :\n        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n}\n\nvar defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\nfunction localeWeekdaysShort (m) {\n    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n}\n\nvar defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\nfunction localeWeekdaysMin (m) {\n    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n}\n\nfunction handleStrictParse$1(weekdayName, format, strict) {\n    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._minWeekdaysParse = [];\n\n        for (i = 0; i < 7; ++i) {\n            mom = createUTC([2000, 1]).day(i);\n            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'dddd') {\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'dddd') {\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeWeekdaysParse (weekdayName, format, strict) {\n    var i, mom, regex;\n\n    if (this._weekdaysParseExact) {\n        return handleStrictParse$1.call(this, weekdayName, format, strict);\n    }\n\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._minWeekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._fullWeekdaysParse = [];\n    }\n\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n\n        mom = createUTC([2000, 1]).day(i);\n        if (strict && !this._fullWeekdaysParse[i]) {\n            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n        }\n        if (!this._weekdaysParse[i]) {\n            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction getSetDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n    if (input != null) {\n        input = parseWeekday(input, this.localeData());\n        return this.add(input - day, 'd');\n    } else {\n        return day;\n    }\n}\n\nfunction getSetLocaleDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n    return input == null ? weekday : this.add(input - weekday, 'd');\n}\n\nfunction getSetISODayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n\n    // behaves the same as moment#day except\n    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n    // as a setter, sunday should belong to the previous week.\n\n    if (input != null) {\n        var weekday = parseIsoWeekday(input, this.localeData());\n        return this.day(this.day() % 7 ? weekday : weekday - 7);\n    } else {\n        return this.day() || 7;\n    }\n}\n\nvar defaultWeekdaysRegex = matchWord;\nfunction weekdaysRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysStrictRegex;\n        } else {\n            return this._weekdaysRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            this._weekdaysRegex = defaultWeekdaysRegex;\n        }\n        return this._weekdaysStrictRegex && isStrict ?\n            this._weekdaysStrictRegex : this._weekdaysRegex;\n    }\n}\n\nvar defaultWeekdaysShortRegex = matchWord;\nfunction weekdaysShortRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysShortStrictRegex;\n        } else {\n            return this._weekdaysShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n            this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n        }\n        return this._weekdaysShortStrictRegex && isStrict ?\n            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n    }\n}\n\nvar defaultWeekdaysMinRegex = matchWord;\nfunction weekdaysMinRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysMinStrictRegex;\n        } else {\n            return this._weekdaysMinRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n            this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n        }\n        return this._weekdaysMinStrictRegex && isStrict ?\n            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n    }\n}\n\n\nfunction computeWeekdaysParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom, minp, shortp, longp;\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, 1]).day(i);\n        minp = this.weekdaysMin(mom, '');\n        shortp = this.weekdaysShort(mom, '');\n        longp = this.weekdays(mom, '');\n        minPieces.push(minp);\n        shortPieces.push(shortp);\n        longPieces.push(longp);\n        mixedPieces.push(minp);\n        mixedPieces.push(shortp);\n        mixedPieces.push(longp);\n    }\n    // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n    // will match the longer piece.\n    minPieces.sort(cmpLenRev);\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 7; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._weekdaysShortRegex = this._weekdaysRegex;\n    this._weekdaysMinRegex = this._weekdaysRegex;\n\n    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n}\n\n// FORMATTING\n\nfunction hFormat() {\n    return this.hours() % 12 || 12;\n}\n\nfunction kFormat() {\n    return this.hours() || 24;\n}\n\naddFormatToken('H', ['HH', 2], 0, 'hour');\naddFormatToken('h', ['hh', 2], 0, hFormat);\naddFormatToken('k', ['kk', 2], 0, kFormat);\n\naddFormatToken('hmm', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('hmmss', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\naddFormatToken('Hmm', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('Hmmss', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\nfunction meridiem (token, lowercase) {\n    addFormatToken(token, 0, 0, function () {\n        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n    });\n}\n\nmeridiem('a', true);\nmeridiem('A', false);\n\n// ALIASES\n\naddUnitAlias('hour', 'h');\n\n// PRIORITY\naddUnitPriority('hour', 13);\n\n// PARSING\n\nfunction matchMeridiem (isStrict, locale) {\n    return locale._meridiemParse;\n}\n\naddRegexToken('a',  matchMeridiem);\naddRegexToken('A',  matchMeridiem);\naddRegexToken('H',  match1to2);\naddRegexToken('h',  match1to2);\naddRegexToken('k',  match1to2);\naddRegexToken('HH', match1to2, match2);\naddRegexToken('hh', match1to2, match2);\naddRegexToken('kk', match1to2, match2);\n\naddRegexToken('hmm', match3to4);\naddRegexToken('hmmss', match5to6);\naddRegexToken('Hmm', match3to4);\naddRegexToken('Hmmss', match5to6);\n\naddParseToken(['H', 'HH'], HOUR);\naddParseToken(['k', 'kk'], function (input, array, config) {\n    var kInput = toInt(input);\n    array[HOUR] = kInput === 24 ? 0 : kInput;\n});\naddParseToken(['a', 'A'], function (input, array, config) {\n    config._isPm = config._locale.isPM(input);\n    config._meridiem = input;\n});\naddParseToken(['h', 'hh'], function (input, array, config) {\n    array[HOUR] = toInt(input);\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('Hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n});\naddParseToken('Hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n});\n\n// LOCALES\n\nfunction localeIsPM (input) {\n    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n    // Using charAt should be more compatible.\n    return ((input + '').toLowerCase().charAt(0) === 'p');\n}\n\nvar defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\nfunction localeMeridiem (hours, minutes, isLower) {\n    if (hours > 11) {\n        return isLower ? 'pm' : 'PM';\n    } else {\n        return isLower ? 'am' : 'AM';\n    }\n}\n\n\n// MOMENTS\n\n// Setting the hour should keep the time, because the user explicitly\n// specified which hour he wants. So trying to maintain the same hour (in\n// a new timezone) makes sense. Adding/subtracting hours does not follow\n// this rule.\nvar getSetHour = makeGetSet('Hours', true);\n\n// months\n// week\n// weekdays\n// meridiem\nvar baseConfig = {\n    calendar: defaultCalendar,\n    longDateFormat: defaultLongDateFormat,\n    invalidDate: defaultInvalidDate,\n    ordinal: defaultOrdinal,\n    dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n    relativeTime: defaultRelativeTime,\n\n    months: defaultLocaleMonths,\n    monthsShort: defaultLocaleMonthsShort,\n\n    week: defaultLocaleWeek,\n\n    weekdays: defaultLocaleWeekdays,\n    weekdaysMin: defaultLocaleWeekdaysMin,\n    weekdaysShort: defaultLocaleWeekdaysShort,\n\n    meridiemParse: defaultLocaleMeridiemParse\n};\n\n// internal storage for locale config files\nvar locales = {};\nvar localeFamilies = {};\nvar globalLocale;\n\nfunction normalizeLocale(key) {\n    return key ? key.toLowerCase().replace('_', '-') : key;\n}\n\n// pick the locale from the array\n// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\nfunction chooseLocale(names) {\n    var i = 0, j, next, locale, split;\n\n    while (i < names.length) {\n        split = normalizeLocale(names[i]).split('-');\n        j = split.length;\n        next = normalizeLocale(names[i + 1]);\n        next = next ? next.split('-') : null;\n        while (j > 0) {\n            locale = loadLocale(split.slice(0, j).join('-'));\n            if (locale) {\n                return locale;\n            }\n            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                //the next array item is better than a shallower substring of this one\n                break;\n            }\n            j--;\n        }\n        i++;\n    }\n    return null;\n}\n\nfunction loadLocale(name) {\n    var oldLocale = null;\n    // TODO: Find a better way to register and load all the locales in Node\n    if (!locales[name] && (typeof module !== 'undefined') &&\n            module && module.exports) {\n        try {\n            oldLocale = globalLocale._abbr;\n            require('./locale/' + name);\n            // because defineLocale currently also sets the global locale, we\n            // want to undo that for lazy loaded locales\n            getSetGlobalLocale(oldLocale);\n        } catch (e) { }\n    }\n    return locales[name];\n}\n\n// This function will load locale and then set the global locale.  If\n// no arguments are passed in, it will simply return the current global\n// locale key.\nfunction getSetGlobalLocale (key, values) {\n    var data;\n    if (key) {\n        if (isUndefined(values)) {\n            data = getLocale(key);\n        }\n        else {\n            data = defineLocale(key, values);\n        }\n\n        if (data) {\n            // moment.duration._locale = moment._locale = data;\n            globalLocale = data;\n        }\n    }\n\n    return globalLocale._abbr;\n}\n\nfunction defineLocale (name, config) {\n    if (config !== null) {\n        var parentConfig = baseConfig;\n        config.abbr = name;\n        if (locales[name] != null) {\n            deprecateSimple('defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                    'an existing locale. moment.defineLocale(localeName, ' +\n                    'config) should only be used for creating a new locale ' +\n                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n            parentConfig = locales[name]._config;\n        } else if (config.parentLocale != null) {\n            if (locales[config.parentLocale] != null) {\n                parentConfig = locales[config.parentLocale]._config;\n            } else {\n                if (!localeFamilies[config.parentLocale]) {\n                    localeFamilies[config.parentLocale] = [];\n                }\n                localeFamilies[config.parentLocale].push({\n                    name: name,\n                    config: config\n                });\n                return null;\n            }\n        }\n        locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n        if (localeFamilies[name]) {\n            localeFamilies[name].forEach(function (x) {\n                defineLocale(x.name, x.config);\n            });\n        }\n\n        // backwards compat for now: also set the locale\n        // make sure we set the locale AFTER all child locales have been\n        // created, so we won't end up with the child locale set.\n        getSetGlobalLocale(name);\n\n\n        return locales[name];\n    } else {\n        // useful for testing\n        delete locales[name];\n        return null;\n    }\n}\n\nfunction updateLocale(name, config) {\n    if (config != null) {\n        var locale, parentConfig = baseConfig;\n        // MERGE\n        if (locales[name] != null) {\n            parentConfig = locales[name]._config;\n        }\n        config = mergeConfigs(parentConfig, config);\n        locale = new Locale(config);\n        locale.parentLocale = locales[name];\n        locales[name] = locale;\n\n        // backwards compat for now: also set the locale\n        getSetGlobalLocale(name);\n    } else {\n        // pass null for config to unupdate, useful for tests\n        if (locales[name] != null) {\n            if (locales[name].parentLocale != null) {\n                locales[name] = locales[name].parentLocale;\n            } else if (locales[name] != null) {\n                delete locales[name];\n            }\n        }\n    }\n    return locales[name];\n}\n\n// returns locale data\nfunction getLocale (key) {\n    var locale;\n\n    if (key && key._locale && key._locale._abbr) {\n        key = key._locale._abbr;\n    }\n\n    if (!key) {\n        return globalLocale;\n    }\n\n    if (!isArray(key)) {\n        //short-circuit everything else\n        locale = loadLocale(key);\n        if (locale) {\n            return locale;\n        }\n        key = [key];\n    }\n\n    return chooseLocale(key);\n}\n\nfunction listLocales() {\n    return keys$1(locales);\n}\n\nfunction checkOverflow (m) {\n    var overflow;\n    var a = m._a;\n\n    if (a && getParsingFlags(m).overflow === -2) {\n        overflow =\n            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n            -1;\n\n        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n            overflow = DATE;\n        }\n        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n            overflow = WEEK;\n        }\n        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n            overflow = WEEKDAY;\n        }\n\n        getParsingFlags(m).overflow = overflow;\n    }\n\n    return m;\n}\n\n// iso 8601 regex\n// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\nvar extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\nvar basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\nvar tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\nvar isoDates = [\n    ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n    ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n    ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n    ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n    ['YYYY-DDD', /\\d{4}-\\d{3}/],\n    ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n    ['YYYYYYMMDD', /[+-]\\d{10}/],\n    ['YYYYMMDD', /\\d{8}/],\n    // YYYYMM is NOT allowed by the standard\n    ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n    ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n    ['YYYYDDD', /\\d{7}/]\n];\n\n// iso time formats and regexes\nvar isoTimes = [\n    ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n    ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n    ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n    ['HH:mm', /\\d\\d:\\d\\d/],\n    ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n    ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n    ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n    ['HHmm', /\\d\\d\\d\\d/],\n    ['HH', /\\d\\d/]\n];\n\nvar aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n// date from iso format\nfunction configFromISO(config) {\n    var i, l,\n        string = config._i,\n        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n        allowTime, dateFormat, timeFormat, tzFormat;\n\n    if (match) {\n        getParsingFlags(config).iso = true;\n\n        for (i = 0, l = isoDates.length; i < l; i++) {\n            if (isoDates[i][1].exec(match[1])) {\n                dateFormat = isoDates[i][0];\n                allowTime = isoDates[i][2] !== false;\n                break;\n            }\n        }\n        if (dateFormat == null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[3]) {\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(match[3])) {\n                    // match[2] should be 'T' or space\n                    timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                    break;\n                }\n            }\n            if (timeFormat == null) {\n                config._isValid = false;\n                return;\n            }\n        }\n        if (!allowTime && timeFormat != null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[4]) {\n            if (tzRegex.exec(match[4])) {\n                tzFormat = 'Z';\n            } else {\n                config._isValid = false;\n                return;\n            }\n        }\n        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n        configFromStringAndFormat(config);\n    } else {\n        config._isValid = false;\n    }\n}\n\n// RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\nvar basicRfcRegex = /^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d?\\d\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(?:\\d\\d)?\\d\\d\\s)(\\d\\d:\\d\\d)(\\:\\d\\d)?(\\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\\d{4}))$/;\n\n// date and time from ref 2822 format\nfunction configFromRFC2822(config) {\n    var string, match, dayFormat,\n        dateFormat, timeFormat, tzFormat;\n    var timezones = {\n        ' GMT': ' +0000',\n        ' EDT': ' -0400',\n        ' EST': ' -0500',\n        ' CDT': ' -0500',\n        ' CST': ' -0600',\n        ' MDT': ' -0600',\n        ' MST': ' -0700',\n        ' PDT': ' -0700',\n        ' PST': ' -0800'\n    };\n    var military = 'YXWVUTSRQPONZABCDEFGHIKLM';\n    var timezone, timezoneIndex;\n\n    string = config._i\n        .replace(/\\([^\\)]*\\)|[\\n\\t]/g, ' ') // Remove comments and folding whitespace\n        .replace(/(\\s\\s+)/g, ' ') // Replace multiple-spaces with a single space\n        .replace(/^\\s|\\s$/g, ''); // Remove leading and trailing spaces\n    match = basicRfcRegex.exec(string);\n\n    if (match) {\n        dayFormat = match[1] ? 'ddd' + ((match[1].length === 5) ? ', ' : ' ') : '';\n        dateFormat = 'D MMM ' + ((match[2].length > 10) ? 'YYYY ' : 'YY ');\n        timeFormat = 'HH:mm' + (match[4] ? ':ss' : '');\n\n        // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n        if (match[1]) { // day of week given\n            var momentDate = new Date(match[2]);\n            var momentDay = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][momentDate.getDay()];\n\n            if (match[1].substr(0,3) !== momentDay) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return;\n            }\n        }\n\n        switch (match[5].length) {\n            case 2: // military\n                if (timezoneIndex === 0) {\n                    timezone = ' +0000';\n                } else {\n                    timezoneIndex = military.indexOf(match[5][1].toUpperCase()) - 12;\n                    timezone = ((timezoneIndex < 0) ? ' -' : ' +') +\n                        (('' + timezoneIndex).replace(/^-?/, '0')).match(/..$/)[0] + '00';\n                }\n                break;\n            case 4: // Zone\n                timezone = timezones[match[5]];\n                break;\n            default: // UT or +/-9999\n                timezone = timezones[' GMT'];\n        }\n        match[5] = timezone;\n        config._i = match.splice(1).join('');\n        tzFormat = ' ZZ';\n        config._f = dayFormat + dateFormat + timeFormat + tzFormat;\n        configFromStringAndFormat(config);\n        getParsingFlags(config).rfc2822 = true;\n    } else {\n        config._isValid = false;\n    }\n}\n\n// date from iso format or fallback\nfunction configFromString(config) {\n    var matched = aspNetJsonRegex.exec(config._i);\n\n    if (matched !== null) {\n        config._d = new Date(+matched[1]);\n        return;\n    }\n\n    configFromISO(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    configFromRFC2822(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    // Final attempt, use Input Fallback\n    hooks.createFromInputFallback(config);\n}\n\nhooks.createFromInputFallback = deprecate(\n    'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n    'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n    'discouraged and will be removed in an upcoming major release. Please refer to ' +\n    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n    function (config) {\n        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n    }\n);\n\n// Pick the first defined of two or three arguments.\nfunction defaults(a, b, c) {\n    if (a != null) {\n        return a;\n    }\n    if (b != null) {\n        return b;\n    }\n    return c;\n}\n\nfunction currentDateArray(config) {\n    // hooks is actually the exported moment object\n    var nowValue = new Date(hooks.now());\n    if (config._useUTC) {\n        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n    }\n    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n}\n\n// convert an array to a date.\n// the array should mirror the parameters below\n// note: all values past the year are optional and will default to the lowest possible value.\n// [year, month, day , hour, minute, second, millisecond]\nfunction configFromArray (config) {\n    var i, date, input = [], currentDate, yearToUse;\n\n    if (config._d) {\n        return;\n    }\n\n    currentDate = currentDateArray(config);\n\n    //compute day of the year from weeks and weekdays\n    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n        dayOfYearFromWeekInfo(config);\n    }\n\n    //if the day of the year is set, figure out what it is\n    if (config._dayOfYear != null) {\n        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n        if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n            getParsingFlags(config)._overflowDayOfYear = true;\n        }\n\n        date = createUTCDate(yearToUse, 0, config._dayOfYear);\n        config._a[MONTH] = date.getUTCMonth();\n        config._a[DATE] = date.getUTCDate();\n    }\n\n    // Default to current date.\n    // * if no year, month, day of month are given, default to today\n    // * if day of month is given, default month and year\n    // * if month is given, default only year\n    // * if year is given, don't default anything\n    for (i = 0; i < 3 && config._a[i] == null; ++i) {\n        config._a[i] = input[i] = currentDate[i];\n    }\n\n    // Zero out whatever was not defaulted, including time\n    for (; i < 7; i++) {\n        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n    }\n\n    // Check for 24:00:00.000\n    if (config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0) {\n        config._nextDay = true;\n        config._a[HOUR] = 0;\n    }\n\n    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n    // Apply timezone offset from input. The actual utcOffset can be changed\n    // with parseZone.\n    if (config._tzm != null) {\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n    }\n\n    if (config._nextDay) {\n        config._a[HOUR] = 24;\n    }\n}\n\nfunction dayOfYearFromWeekInfo(config) {\n    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n    w = config._w;\n    if (w.GG != null || w.W != null || w.E != null) {\n        dow = 1;\n        doy = 4;\n\n        // TODO: We need to take the current isoWeekYear, but that depends on\n        // how we interpret now (local, utc, fixed offset). So create\n        // a now version of current config (take local/utc/offset flags, and\n        // create now).\n        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n        week = defaults(w.W, 1);\n        weekday = defaults(w.E, 1);\n        if (weekday < 1 || weekday > 7) {\n            weekdayOverflow = true;\n        }\n    } else {\n        dow = config._locale._week.dow;\n        doy = config._locale._week.doy;\n\n        var curWeek = weekOfYear(createLocal(), dow, doy);\n\n        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n        // Default to current week.\n        week = defaults(w.w, curWeek.week);\n\n        if (w.d != null) {\n            // weekday -- low day numbers are considered next week\n            weekday = w.d;\n            if (weekday < 0 || weekday > 6) {\n                weekdayOverflow = true;\n            }\n        } else if (w.e != null) {\n            // local weekday -- counting starts from begining of week\n            weekday = w.e + dow;\n            if (w.e < 0 || w.e > 6) {\n                weekdayOverflow = true;\n            }\n        } else {\n            // default to begining of week\n            weekday = dow;\n        }\n    }\n    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n        getParsingFlags(config)._overflowWeeks = true;\n    } else if (weekdayOverflow != null) {\n        getParsingFlags(config)._overflowWeekday = true;\n    } else {\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n}\n\n// constant that refers to the ISO standard\nhooks.ISO_8601 = function () {};\n\n// constant that refers to the RFC 2822 form\nhooks.RFC_2822 = function () {};\n\n// date from string and format string\nfunction configFromStringAndFormat(config) {\n    // TODO: Move this to another part of the creation flow to prevent circular deps\n    if (config._f === hooks.ISO_8601) {\n        configFromISO(config);\n        return;\n    }\n    if (config._f === hooks.RFC_2822) {\n        configFromRFC2822(config);\n        return;\n    }\n    config._a = [];\n    getParsingFlags(config).empty = true;\n\n    // This array is used to make a Date, either with `new Date` or `Date.UTC`\n    var string = '' + config._i,\n        i, parsedInput, tokens, token, skipped,\n        stringLength = string.length,\n        totalParsedInputLength = 0;\n\n    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n        // console.log('token', token, 'parsedInput', parsedInput,\n        //         'regex', getParseRegexForToken(token, config));\n        if (parsedInput) {\n            skipped = string.substr(0, string.indexOf(parsedInput));\n            if (skipped.length > 0) {\n                getParsingFlags(config).unusedInput.push(skipped);\n            }\n            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n            totalParsedInputLength += parsedInput.length;\n        }\n        // don't parse if it's not a known token\n        if (formatTokenFunctions[token]) {\n            if (parsedInput) {\n                getParsingFlags(config).empty = false;\n            }\n            else {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n            addTimeToArrayFromToken(token, parsedInput, config);\n        }\n        else if (config._strict && !parsedInput) {\n            getParsingFlags(config).unusedTokens.push(token);\n        }\n    }\n\n    // add remaining unparsed input length to the string\n    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n    if (string.length > 0) {\n        getParsingFlags(config).unusedInput.push(string);\n    }\n\n    // clear _12h flag if hour is <= 12\n    if (config._a[HOUR] <= 12 &&\n        getParsingFlags(config).bigHour === true &&\n        config._a[HOUR] > 0) {\n        getParsingFlags(config).bigHour = undefined;\n    }\n\n    getParsingFlags(config).parsedDateParts = config._a.slice(0);\n    getParsingFlags(config).meridiem = config._meridiem;\n    // handle meridiem\n    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n    configFromArray(config);\n    checkOverflow(config);\n}\n\n\nfunction meridiemFixWrap (locale, hour, meridiem) {\n    var isPm;\n\n    if (meridiem == null) {\n        // nothing to do\n        return hour;\n    }\n    if (locale.meridiemHour != null) {\n        return locale.meridiemHour(hour, meridiem);\n    } else if (locale.isPM != null) {\n        // Fallback\n        isPm = locale.isPM(meridiem);\n        if (isPm && hour < 12) {\n            hour += 12;\n        }\n        if (!isPm && hour === 12) {\n            hour = 0;\n        }\n        return hour;\n    } else {\n        // this is not supposed to happen\n        return hour;\n    }\n}\n\n// date from string and array of format strings\nfunction configFromStringAndArray(config) {\n    var tempConfig,\n        bestMoment,\n\n        scoreToBeat,\n        i,\n        currentScore;\n\n    if (config._f.length === 0) {\n        getParsingFlags(config).invalidFormat = true;\n        config._d = new Date(NaN);\n        return;\n    }\n\n    for (i = 0; i < config._f.length; i++) {\n        currentScore = 0;\n        tempConfig = copyConfig({}, config);\n        if (config._useUTC != null) {\n            tempConfig._useUTC = config._useUTC;\n        }\n        tempConfig._f = config._f[i];\n        configFromStringAndFormat(tempConfig);\n\n        if (!isValid(tempConfig)) {\n            continue;\n        }\n\n        // if there is any input that was not parsed add a penalty for that format\n        currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n        //or tokens\n        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n        getParsingFlags(tempConfig).score = currentScore;\n\n        if (scoreToBeat == null || currentScore < scoreToBeat) {\n            scoreToBeat = currentScore;\n            bestMoment = tempConfig;\n        }\n    }\n\n    extend(config, bestMoment || tempConfig);\n}\n\nfunction configFromObject(config) {\n    if (config._d) {\n        return;\n    }\n\n    var i = normalizeObjectUnits(config._i);\n    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n        return obj && parseInt(obj, 10);\n    });\n\n    configFromArray(config);\n}\n\nfunction createFromConfig (config) {\n    var res = new Moment(checkOverflow(prepareConfig(config)));\n    if (res._nextDay) {\n        // Adding is smart enough around DST\n        res.add(1, 'd');\n        res._nextDay = undefined;\n    }\n\n    return res;\n}\n\nfunction prepareConfig (config) {\n    var input = config._i,\n        format = config._f;\n\n    config._locale = config._locale || getLocale(config._l);\n\n    if (input === null || (format === undefined && input === '')) {\n        return createInvalid({nullInput: true});\n    }\n\n    if (typeof input === 'string') {\n        config._i = input = config._locale.preparse(input);\n    }\n\n    if (isMoment(input)) {\n        return new Moment(checkOverflow(input));\n    } else if (isDate(input)) {\n        config._d = input;\n    } else if (isArray(format)) {\n        configFromStringAndArray(config);\n    } else if (format) {\n        configFromStringAndFormat(config);\n    }  else {\n        configFromInput(config);\n    }\n\n    if (!isValid(config)) {\n        config._d = null;\n    }\n\n    return config;\n}\n\nfunction configFromInput(config) {\n    var input = config._i;\n    if (isUndefined(input)) {\n        config._d = new Date(hooks.now());\n    } else if (isDate(input)) {\n        config._d = new Date(input.valueOf());\n    } else if (typeof input === 'string') {\n        configFromString(config);\n    } else if (isArray(input)) {\n        config._a = map(input.slice(0), function (obj) {\n            return parseInt(obj, 10);\n        });\n        configFromArray(config);\n    } else if (isObject(input)) {\n        configFromObject(config);\n    } else if (isNumber(input)) {\n        // from milliseconds\n        config._d = new Date(input);\n    } else {\n        hooks.createFromInputFallback(config);\n    }\n}\n\nfunction createLocalOrUTC (input, format, locale, strict, isUTC) {\n    var c = {};\n\n    if (locale === true || locale === false) {\n        strict = locale;\n        locale = undefined;\n    }\n\n    if ((isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)) {\n        input = undefined;\n    }\n    // object construction must be done this way.\n    // https://github.com/moment/moment/issues/1423\n    c._isAMomentObject = true;\n    c._useUTC = c._isUTC = isUTC;\n    c._l = locale;\n    c._i = input;\n    c._f = format;\n    c._strict = strict;\n\n    return createFromConfig(c);\n}\n\nfunction createLocal (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, false);\n}\n\nvar prototypeMin = deprecate(\n    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other < this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\nvar prototypeMax = deprecate(\n    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other > this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\n// Pick a moment m from moments so that m[fn](other) is true for all\n// other. This relies on the function fn to be transitive.\n//\n// moments should either be an array of moment objects or an array, whose\n// first element is an array of moment objects.\nfunction pickBy(fn, moments) {\n    var res, i;\n    if (moments.length === 1 && isArray(moments[0])) {\n        moments = moments[0];\n    }\n    if (!moments.length) {\n        return createLocal();\n    }\n    res = moments[0];\n    for (i = 1; i < moments.length; ++i) {\n        if (!moments[i].isValid() || moments[i][fn](res)) {\n            res = moments[i];\n        }\n    }\n    return res;\n}\n\n// TODO: Use [].sort instead?\nfunction min () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isBefore', args);\n}\n\nfunction max () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isAfter', args);\n}\n\nvar now = function () {\n    return Date.now ? Date.now() : +(new Date());\n};\n\nvar ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\nfunction isDurationValid(m) {\n    for (var key in m) {\n        if (!(ordering.indexOf(key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n            return false;\n        }\n    }\n\n    var unitHasDecimal = false;\n    for (var i = 0; i < ordering.length; ++i) {\n        if (m[ordering[i]]) {\n            if (unitHasDecimal) {\n                return false; // only allow non-integers for smallest unit\n            }\n            if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                unitHasDecimal = true;\n            }\n        }\n    }\n\n    return true;\n}\n\nfunction isValid$1() {\n    return this._isValid;\n}\n\nfunction createInvalid$1() {\n    return createDuration(NaN);\n}\n\nfunction Duration (duration) {\n    var normalizedInput = normalizeObjectUnits(duration),\n        years = normalizedInput.year || 0,\n        quarters = normalizedInput.quarter || 0,\n        months = normalizedInput.month || 0,\n        weeks = normalizedInput.week || 0,\n        days = normalizedInput.day || 0,\n        hours = normalizedInput.hour || 0,\n        minutes = normalizedInput.minute || 0,\n        seconds = normalizedInput.second || 0,\n        milliseconds = normalizedInput.millisecond || 0;\n\n    this._isValid = isDurationValid(normalizedInput);\n\n    // representation for dateAddRemove\n    this._milliseconds = +milliseconds +\n        seconds * 1e3 + // 1000\n        minutes * 6e4 + // 1000 * 60\n        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n    // Because of dateAddRemove treats 24 hours as different from a\n    // day when working around DST, we need to store them separately\n    this._days = +days +\n        weeks * 7;\n    // It is impossible translate months into days without knowing\n    // which months you are are talking about, so we have to store\n    // it separately.\n    this._months = +months +\n        quarters * 3 +\n        years * 12;\n\n    this._data = {};\n\n    this._locale = getLocale();\n\n    this._bubble();\n}\n\nfunction isDuration (obj) {\n    return obj instanceof Duration;\n}\n\nfunction absRound (number) {\n    if (number < 0) {\n        return Math.round(-1 * number) * -1;\n    } else {\n        return Math.round(number);\n    }\n}\n\n// FORMATTING\n\nfunction offset (token, separator) {\n    addFormatToken(token, 0, 0, function () {\n        var offset = this.utcOffset();\n        var sign = '+';\n        if (offset < 0) {\n            offset = -offset;\n            sign = '-';\n        }\n        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n    });\n}\n\noffset('Z', ':');\noffset('ZZ', '');\n\n// PARSING\n\naddRegexToken('Z',  matchShortOffset);\naddRegexToken('ZZ', matchShortOffset);\naddParseToken(['Z', 'ZZ'], function (input, array, config) {\n    config._useUTC = true;\n    config._tzm = offsetFromString(matchShortOffset, input);\n});\n\n// HELPERS\n\n// timezone chunker\n// '+10:00' > ['10',  '00']\n// '-1530'  > ['-15', '30']\nvar chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\nfunction offsetFromString(matcher, string) {\n    var matches = (string || '').match(matcher);\n\n    if (matches === null) {\n        return null;\n    }\n\n    var chunk   = matches[matches.length - 1] || [];\n    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n    var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n    return minutes === 0 ?\n      0 :\n      parts[0] === '+' ? minutes : -minutes;\n}\n\n// Return a moment from input, that is local/utc/zone equivalent to model.\nfunction cloneWithOffset(input, model) {\n    var res, diff;\n    if (model._isUTC) {\n        res = model.clone();\n        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n        // Use low-level api, because this fn is low-level api.\n        res._d.setTime(res._d.valueOf() + diff);\n        hooks.updateOffset(res, false);\n        return res;\n    } else {\n        return createLocal(input).local();\n    }\n}\n\nfunction getDateOffset (m) {\n    // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n    // https://github.com/moment/moment/pull/1871\n    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n}\n\n// HOOKS\n\n// This function will be called whenever a moment is mutated.\n// It is intended to keep the offset in sync with the timezone.\nhooks.updateOffset = function () {};\n\n// MOMENTS\n\n// keepLocalTime = true means only change the timezone, without\n// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n// +0200, so we adjust the time as needed, to be valid.\n//\n// Keeping the time actually adds/subtracts (one hour)\n// from the actual represented time. That is why we call updateOffset\n// a second time. In case it wants us to change the offset again\n// _changeInProgress == true case, then we have to adjust, because\n// there is no such time in the given timezone.\nfunction getSetOffset (input, keepLocalTime, keepMinutes) {\n    var offset = this._offset || 0,\n        localAdjust;\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    if (input != null) {\n        if (typeof input === 'string') {\n            input = offsetFromString(matchShortOffset, input);\n            if (input === null) {\n                return this;\n            }\n        } else if (Math.abs(input) < 16 && !keepMinutes) {\n            input = input * 60;\n        }\n        if (!this._isUTC && keepLocalTime) {\n            localAdjust = getDateOffset(this);\n        }\n        this._offset = input;\n        this._isUTC = true;\n        if (localAdjust != null) {\n            this.add(localAdjust, 'm');\n        }\n        if (offset !== input) {\n            if (!keepLocalTime || this._changeInProgress) {\n                addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n            } else if (!this._changeInProgress) {\n                this._changeInProgress = true;\n                hooks.updateOffset(this, true);\n                this._changeInProgress = null;\n            }\n        }\n        return this;\n    } else {\n        return this._isUTC ? offset : getDateOffset(this);\n    }\n}\n\nfunction getSetZone (input, keepLocalTime) {\n    if (input != null) {\n        if (typeof input !== 'string') {\n            input = -input;\n        }\n\n        this.utcOffset(input, keepLocalTime);\n\n        return this;\n    } else {\n        return -this.utcOffset();\n    }\n}\n\nfunction setOffsetToUTC (keepLocalTime) {\n    return this.utcOffset(0, keepLocalTime);\n}\n\nfunction setOffsetToLocal (keepLocalTime) {\n    if (this._isUTC) {\n        this.utcOffset(0, keepLocalTime);\n        this._isUTC = false;\n\n        if (keepLocalTime) {\n            this.subtract(getDateOffset(this), 'm');\n        }\n    }\n    return this;\n}\n\nfunction setOffsetToParsedOffset () {\n    if (this._tzm != null) {\n        this.utcOffset(this._tzm, false, true);\n    } else if (typeof this._i === 'string') {\n        var tZone = offsetFromString(matchOffset, this._i);\n        if (tZone != null) {\n            this.utcOffset(tZone);\n        }\n        else {\n            this.utcOffset(0, true);\n        }\n    }\n    return this;\n}\n\nfunction hasAlignedHourOffset (input) {\n    if (!this.isValid()) {\n        return false;\n    }\n    input = input ? createLocal(input).utcOffset() : 0;\n\n    return (this.utcOffset() - input) % 60 === 0;\n}\n\nfunction isDaylightSavingTime () {\n    return (\n        this.utcOffset() > this.clone().month(0).utcOffset() ||\n        this.utcOffset() > this.clone().month(5).utcOffset()\n    );\n}\n\nfunction isDaylightSavingTimeShifted () {\n    if (!isUndefined(this._isDSTShifted)) {\n        return this._isDSTShifted;\n    }\n\n    var c = {};\n\n    copyConfig(c, this);\n    c = prepareConfig(c);\n\n    if (c._a) {\n        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n        this._isDSTShifted = this.isValid() &&\n            compareArrays(c._a, other.toArray()) > 0;\n    } else {\n        this._isDSTShifted = false;\n    }\n\n    return this._isDSTShifted;\n}\n\nfunction isLocal () {\n    return this.isValid() ? !this._isUTC : false;\n}\n\nfunction isUtcOffset () {\n    return this.isValid() ? this._isUTC : false;\n}\n\nfunction isUtc () {\n    return this.isValid() ? this._isUTC && this._offset === 0 : false;\n}\n\n// ASP.NET json date format regex\nvar aspNetRegex = /^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n// and further modified to allow for strings containing both week and day\nvar isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;\n\nfunction createDuration (input, key) {\n    var duration = input,\n        // matching against regexp is expensive, do it on demand\n        match = null,\n        sign,\n        ret,\n        diffRes;\n\n    if (isDuration(input)) {\n        duration = {\n            ms : input._milliseconds,\n            d  : input._days,\n            M  : input._months\n        };\n    } else if (isNumber(input)) {\n        duration = {};\n        if (key) {\n            duration[key] = input;\n        } else {\n            duration.milliseconds = input;\n        }\n    } else if (!!(match = aspNetRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y  : 0,\n            d  : toInt(match[DATE])                         * sign,\n            h  : toInt(match[HOUR])                         * sign,\n            m  : toInt(match[MINUTE])                       * sign,\n            s  : toInt(match[SECOND])                       * sign,\n            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n        };\n    } else if (!!(match = isoRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y : parseIso(match[2], sign),\n            M : parseIso(match[3], sign),\n            w : parseIso(match[4], sign),\n            d : parseIso(match[5], sign),\n            h : parseIso(match[6], sign),\n            m : parseIso(match[7], sign),\n            s : parseIso(match[8], sign)\n        };\n    } else if (duration == null) {// checks for null or undefined\n        duration = {};\n    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n        duration = {};\n        duration.ms = diffRes.milliseconds;\n        duration.M = diffRes.months;\n    }\n\n    ret = new Duration(duration);\n\n    if (isDuration(input) && hasOwnProp(input, '_locale')) {\n        ret._locale = input._locale;\n    }\n\n    return ret;\n}\n\ncreateDuration.fn = Duration.prototype;\ncreateDuration.invalid = createInvalid$1;\n\nfunction parseIso (inp, sign) {\n    // We'd normally use ~~inp for this, but unfortunately it also\n    // converts floats to ints.\n    // inp may be undefined, so careful calling replace on it.\n    var res = inp && parseFloat(inp.replace(',', '.'));\n    // apply sign while we're at it\n    return (isNaN(res) ? 0 : res) * sign;\n}\n\nfunction positiveMomentsDifference(base, other) {\n    var res = {milliseconds: 0, months: 0};\n\n    res.months = other.month() - base.month() +\n        (other.year() - base.year()) * 12;\n    if (base.clone().add(res.months, 'M').isAfter(other)) {\n        --res.months;\n    }\n\n    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n    return res;\n}\n\nfunction momentsDifference(base, other) {\n    var res;\n    if (!(base.isValid() && other.isValid())) {\n        return {milliseconds: 0, months: 0};\n    }\n\n    other = cloneWithOffset(other, base);\n    if (base.isBefore(other)) {\n        res = positiveMomentsDifference(base, other);\n    } else {\n        res = positiveMomentsDifference(other, base);\n        res.milliseconds = -res.milliseconds;\n        res.months = -res.months;\n    }\n\n    return res;\n}\n\n// TODO: remove 'name' arg after deprecation is removed\nfunction createAdder(direction, name) {\n    return function (val, period) {\n        var dur, tmp;\n        //invert the arguments, but complain about it\n        if (period !== null && !isNaN(+period)) {\n            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n            tmp = val; val = period; period = tmp;\n        }\n\n        val = typeof val === 'string' ? +val : val;\n        dur = createDuration(val, period);\n        addSubtract(this, dur, direction);\n        return this;\n    };\n}\n\nfunction addSubtract (mom, duration, isAdding, updateOffset) {\n    var milliseconds = duration._milliseconds,\n        days = absRound(duration._days),\n        months = absRound(duration._months);\n\n    if (!mom.isValid()) {\n        // No op\n        return;\n    }\n\n    updateOffset = updateOffset == null ? true : updateOffset;\n\n    if (milliseconds) {\n        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n    }\n    if (days) {\n        set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n    }\n    if (months) {\n        setMonth(mom, get(mom, 'Month') + months * isAdding);\n    }\n    if (updateOffset) {\n        hooks.updateOffset(mom, days || months);\n    }\n}\n\nvar add      = createAdder(1, 'add');\nvar subtract = createAdder(-1, 'subtract');\n\nfunction getCalendarFormat(myMoment, now) {\n    var diff = myMoment.diff(now, 'days', true);\n    return diff < -6 ? 'sameElse' :\n            diff < -1 ? 'lastWeek' :\n            diff < 0 ? 'lastDay' :\n            diff < 1 ? 'sameDay' :\n            diff < 2 ? 'nextDay' :\n            diff < 7 ? 'nextWeek' : 'sameElse';\n}\n\nfunction calendar$1 (time, formats) {\n    // We want to compare the start of today, vs this.\n    // Getting start-of-today depends on whether we're local/utc/offset or not.\n    var now = time || createLocal(),\n        sod = cloneWithOffset(now, this).startOf('day'),\n        format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n}\n\nfunction clone () {\n    return new Moment(this);\n}\n\nfunction isAfter (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() > localInput.valueOf();\n    } else {\n        return localInput.valueOf() < this.clone().startOf(units).valueOf();\n    }\n}\n\nfunction isBefore (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() < localInput.valueOf();\n    } else {\n        return this.clone().endOf(units).valueOf() < localInput.valueOf();\n    }\n}\n\nfunction isBetween (from, to, units, inclusivity) {\n    inclusivity = inclusivity || '()';\n    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&\n        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n}\n\nfunction isSame (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input),\n        inputMs;\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(units || 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() === localInput.valueOf();\n    } else {\n        inputMs = localInput.valueOf();\n        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n    }\n}\n\nfunction isSameOrAfter (input, units) {\n    return this.isSame(input, units) || this.isAfter(input,units);\n}\n\nfunction isSameOrBefore (input, units) {\n    return this.isSame(input, units) || this.isBefore(input,units);\n}\n\nfunction diff (input, units, asFloat) {\n    var that,\n        zoneDelta,\n        delta, output;\n\n    if (!this.isValid()) {\n        return NaN;\n    }\n\n    that = cloneWithOffset(input, this);\n\n    if (!that.isValid()) {\n        return NaN;\n    }\n\n    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n    units = normalizeUnits(units);\n\n    if (units === 'year' || units === 'month' || units === 'quarter') {\n        output = monthDiff(this, that);\n        if (units === 'quarter') {\n            output = output / 3;\n        } else if (units === 'year') {\n            output = output / 12;\n        }\n    } else {\n        delta = this - that;\n        output = units === 'second' ? delta / 1e3 : // 1000\n            units === 'minute' ? delta / 6e4 : // 1000 * 60\n            units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60\n            units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n            units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n            delta;\n    }\n    return asFloat ? output : absFloor(output);\n}\n\nfunction monthDiff (a, b) {\n    // difference in months\n    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n        // b is in (anchor - 1 month, anchor + 1 month)\n        anchor = a.clone().add(wholeMonthDiff, 'months'),\n        anchor2, adjust;\n\n    if (b - anchor < 0) {\n        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor - anchor2);\n    } else {\n        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor2 - anchor);\n    }\n\n    //check for negative zero, return zero if negative zero\n    return -(wholeMonthDiff + adjust) || 0;\n}\n\nhooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\nhooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\nfunction toString () {\n    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n}\n\nfunction toISOString() {\n    if (!this.isValid()) {\n        return null;\n    }\n    var m = this.clone().utc();\n    if (m.year() < 0 || m.year() > 9999) {\n        return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n    }\n    if (isFunction(Date.prototype.toISOString)) {\n        // native implementation is ~50x faster, use it when we can\n        return this.toDate().toISOString();\n    }\n    return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n}\n\n/**\n * Return a human readable representation of a moment that can\n * also be evaluated to get a new moment which is the same\n *\n * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n */\nfunction inspect () {\n    if (!this.isValid()) {\n        return 'moment.invalid(/* ' + this._i + ' */)';\n    }\n    var func = 'moment';\n    var zone = '';\n    if (!this.isLocal()) {\n        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n        zone = 'Z';\n    }\n    var prefix = '[' + func + '(\"]';\n    var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n    var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n    var suffix = zone + '[\")]';\n\n    return this.format(prefix + year + datetime + suffix);\n}\n\nfunction format (inputString) {\n    if (!inputString) {\n        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n    }\n    var output = formatMoment(this, inputString);\n    return this.localeData().postformat(output);\n}\n\nfunction from (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction fromNow (withoutSuffix) {\n    return this.from(createLocal(), withoutSuffix);\n}\n\nfunction to (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction toNow (withoutSuffix) {\n    return this.to(createLocal(), withoutSuffix);\n}\n\n// If passed a locale key, it will set the locale for this\n// instance.  Otherwise, it will return the locale configuration\n// variables for this instance.\nfunction locale (key) {\n    var newLocaleData;\n\n    if (key === undefined) {\n        return this._locale._abbr;\n    } else {\n        newLocaleData = getLocale(key);\n        if (newLocaleData != null) {\n            this._locale = newLocaleData;\n        }\n        return this;\n    }\n}\n\nvar lang = deprecate(\n    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n    function (key) {\n        if (key === undefined) {\n            return this.localeData();\n        } else {\n            return this.locale(key);\n        }\n    }\n);\n\nfunction localeData () {\n    return this._locale;\n}\n\nfunction startOf (units) {\n    units = normalizeUnits(units);\n    // the following switch intentionally omits break keywords\n    // to utilize falling through the cases.\n    switch (units) {\n        case 'year':\n            this.month(0);\n            /* falls through */\n        case 'quarter':\n        case 'month':\n            this.date(1);\n            /* falls through */\n        case 'week':\n        case 'isoWeek':\n        case 'day':\n        case 'date':\n            this.hours(0);\n            /* falls through */\n        case 'hour':\n            this.minutes(0);\n            /* falls through */\n        case 'minute':\n            this.seconds(0);\n            /* falls through */\n        case 'second':\n            this.milliseconds(0);\n    }\n\n    // weeks are a special case\n    if (units === 'week') {\n        this.weekday(0);\n    }\n    if (units === 'isoWeek') {\n        this.isoWeekday(1);\n    }\n\n    // quarters are also special\n    if (units === 'quarter') {\n        this.month(Math.floor(this.month() / 3) * 3);\n    }\n\n    return this;\n}\n\nfunction endOf (units) {\n    units = normalizeUnits(units);\n    if (units === undefined || units === 'millisecond') {\n        return this;\n    }\n\n    // 'date' is an alias for 'day', so it should be considered as such.\n    if (units === 'date') {\n        units = 'day';\n    }\n\n    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n}\n\nfunction valueOf () {\n    return this._d.valueOf() - ((this._offset || 0) * 60000);\n}\n\nfunction unix () {\n    return Math.floor(this.valueOf() / 1000);\n}\n\nfunction toDate () {\n    return new Date(this.valueOf());\n}\n\nfunction toArray () {\n    var m = this;\n    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n}\n\nfunction toObject () {\n    var m = this;\n    return {\n        years: m.year(),\n        months: m.month(),\n        date: m.date(),\n        hours: m.hours(),\n        minutes: m.minutes(),\n        seconds: m.seconds(),\n        milliseconds: m.milliseconds()\n    };\n}\n\nfunction toJSON () {\n    // new Date(NaN).toJSON() === null\n    return this.isValid() ? this.toISOString() : null;\n}\n\nfunction isValid$2 () {\n    return isValid(this);\n}\n\nfunction parsingFlags () {\n    return extend({}, getParsingFlags(this));\n}\n\nfunction invalidAt () {\n    return getParsingFlags(this).overflow;\n}\n\nfunction creationData() {\n    return {\n        input: this._i,\n        format: this._f,\n        locale: this._locale,\n        isUTC: this._isUTC,\n        strict: this._strict\n    };\n}\n\n// FORMATTING\n\naddFormatToken(0, ['gg', 2], 0, function () {\n    return this.weekYear() % 100;\n});\n\naddFormatToken(0, ['GG', 2], 0, function () {\n    return this.isoWeekYear() % 100;\n});\n\nfunction addWeekYearFormatToken (token, getter) {\n    addFormatToken(0, [token, token.length], 0, getter);\n}\n\naddWeekYearFormatToken('gggg',     'weekYear');\naddWeekYearFormatToken('ggggg',    'weekYear');\naddWeekYearFormatToken('GGGG',  'isoWeekYear');\naddWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n// ALIASES\n\naddUnitAlias('weekYear', 'gg');\naddUnitAlias('isoWeekYear', 'GG');\n\n// PRIORITY\n\naddUnitPriority('weekYear', 1);\naddUnitPriority('isoWeekYear', 1);\n\n\n// PARSING\n\naddRegexToken('G',      matchSigned);\naddRegexToken('g',      matchSigned);\naddRegexToken('GG',     match1to2, match2);\naddRegexToken('gg',     match1to2, match2);\naddRegexToken('GGGG',   match1to4, match4);\naddRegexToken('gggg',   match1to4, match4);\naddRegexToken('GGGGG',  match1to6, match6);\naddRegexToken('ggggg',  match1to6, match6);\n\naddWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n    week[token.substr(0, 2)] = toInt(input);\n});\n\naddWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n    week[token] = hooks.parseTwoDigitYear(input);\n});\n\n// MOMENTS\n\nfunction getSetWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy);\n}\n\nfunction getSetISOWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input, this.isoWeek(), this.isoWeekday(), 1, 4);\n}\n\nfunction getISOWeeksInYear () {\n    return weeksInYear(this.year(), 1, 4);\n}\n\nfunction getWeeksInYear () {\n    var weekInfo = this.localeData()._week;\n    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n}\n\nfunction getSetWeekYearHelper(input, week, weekday, dow, doy) {\n    var weeksTarget;\n    if (input == null) {\n        return weekOfYear(this, dow, doy).year;\n    } else {\n        weeksTarget = weeksInYear(input, dow, doy);\n        if (week > weeksTarget) {\n            week = weeksTarget;\n        }\n        return setWeekAll.call(this, input, week, weekday, dow, doy);\n    }\n}\n\nfunction setWeekAll(weekYear, week, weekday, dow, doy) {\n    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n    this.year(date.getUTCFullYear());\n    this.month(date.getUTCMonth());\n    this.date(date.getUTCDate());\n    return this;\n}\n\n// FORMATTING\n\naddFormatToken('Q', 0, 'Qo', 'quarter');\n\n// ALIASES\n\naddUnitAlias('quarter', 'Q');\n\n// PRIORITY\n\naddUnitPriority('quarter', 7);\n\n// PARSING\n\naddRegexToken('Q', match1);\naddParseToken('Q', function (input, array) {\n    array[MONTH] = (toInt(input) - 1) * 3;\n});\n\n// MOMENTS\n\nfunction getSetQuarter (input) {\n    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n}\n\n// FORMATTING\n\naddFormatToken('D', ['DD', 2], 'Do', 'date');\n\n// ALIASES\n\naddUnitAlias('date', 'D');\n\n// PRIOROITY\naddUnitPriority('date', 9);\n\n// PARSING\n\naddRegexToken('D',  match1to2);\naddRegexToken('DD', match1to2, match2);\naddRegexToken('Do', function (isStrict, locale) {\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    return isStrict ?\n      (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n      locale._dayOfMonthOrdinalParseLenient;\n});\n\naddParseToken(['D', 'DD'], DATE);\naddParseToken('Do', function (input, array) {\n    array[DATE] = toInt(input.match(match1to2)[0], 10);\n});\n\n// MOMENTS\n\nvar getSetDayOfMonth = makeGetSet('Date', true);\n\n// FORMATTING\n\naddFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n// ALIASES\n\naddUnitAlias('dayOfYear', 'DDD');\n\n// PRIORITY\naddUnitPriority('dayOfYear', 4);\n\n// PARSING\n\naddRegexToken('DDD',  match1to3);\naddRegexToken('DDDD', match3);\naddParseToken(['DDD', 'DDDD'], function (input, array, config) {\n    config._dayOfYear = toInt(input);\n});\n\n// HELPERS\n\n// MOMENTS\n\nfunction getSetDayOfYear (input) {\n    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n}\n\n// FORMATTING\n\naddFormatToken('m', ['mm', 2], 0, 'minute');\n\n// ALIASES\n\naddUnitAlias('minute', 'm');\n\n// PRIORITY\n\naddUnitPriority('minute', 14);\n\n// PARSING\n\naddRegexToken('m',  match1to2);\naddRegexToken('mm', match1to2, match2);\naddParseToken(['m', 'mm'], MINUTE);\n\n// MOMENTS\n\nvar getSetMinute = makeGetSet('Minutes', false);\n\n// FORMATTING\n\naddFormatToken('s', ['ss', 2], 0, 'second');\n\n// ALIASES\n\naddUnitAlias('second', 's');\n\n// PRIORITY\n\naddUnitPriority('second', 15);\n\n// PARSING\n\naddRegexToken('s',  match1to2);\naddRegexToken('ss', match1to2, match2);\naddParseToken(['s', 'ss'], SECOND);\n\n// MOMENTS\n\nvar getSetSecond = makeGetSet('Seconds', false);\n\n// FORMATTING\n\naddFormatToken('S', 0, 0, function () {\n    return ~~(this.millisecond() / 100);\n});\n\naddFormatToken(0, ['SS', 2], 0, function () {\n    return ~~(this.millisecond() / 10);\n});\n\naddFormatToken(0, ['SSS', 3], 0, 'millisecond');\naddFormatToken(0, ['SSSS', 4], 0, function () {\n    return this.millisecond() * 10;\n});\naddFormatToken(0, ['SSSSS', 5], 0, function () {\n    return this.millisecond() * 100;\n});\naddFormatToken(0, ['SSSSSS', 6], 0, function () {\n    return this.millisecond() * 1000;\n});\naddFormatToken(0, ['SSSSSSS', 7], 0, function () {\n    return this.millisecond() * 10000;\n});\naddFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n    return this.millisecond() * 100000;\n});\naddFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n    return this.millisecond() * 1000000;\n});\n\n\n// ALIASES\n\naddUnitAlias('millisecond', 'ms');\n\n// PRIORITY\n\naddUnitPriority('millisecond', 16);\n\n// PARSING\n\naddRegexToken('S',    match1to3, match1);\naddRegexToken('SS',   match1to3, match2);\naddRegexToken('SSS',  match1to3, match3);\n\nvar token;\nfor (token = 'SSSS'; token.length <= 9; token += 'S') {\n    addRegexToken(token, matchUnsigned);\n}\n\nfunction parseMs(input, array) {\n    array[MILLISECOND] = toInt(('0.' + input) * 1000);\n}\n\nfor (token = 'S'; token.length <= 9; token += 'S') {\n    addParseToken(token, parseMs);\n}\n// MOMENTS\n\nvar getSetMillisecond = makeGetSet('Milliseconds', false);\n\n// FORMATTING\n\naddFormatToken('z',  0, 0, 'zoneAbbr');\naddFormatToken('zz', 0, 0, 'zoneName');\n\n// MOMENTS\n\nfunction getZoneAbbr () {\n    return this._isUTC ? 'UTC' : '';\n}\n\nfunction getZoneName () {\n    return this._isUTC ? 'Coordinated Universal Time' : '';\n}\n\nvar proto = Moment.prototype;\n\nproto.add               = add;\nproto.calendar          = calendar$1;\nproto.clone             = clone;\nproto.diff              = diff;\nproto.endOf             = endOf;\nproto.format            = format;\nproto.from              = from;\nproto.fromNow           = fromNow;\nproto.to                = to;\nproto.toNow             = toNow;\nproto.get               = stringGet;\nproto.invalidAt         = invalidAt;\nproto.isAfter           = isAfter;\nproto.isBefore          = isBefore;\nproto.isBetween         = isBetween;\nproto.isSame            = isSame;\nproto.isSameOrAfter     = isSameOrAfter;\nproto.isSameOrBefore    = isSameOrBefore;\nproto.isValid           = isValid$2;\nproto.lang              = lang;\nproto.locale            = locale;\nproto.localeData        = localeData;\nproto.max               = prototypeMax;\nproto.min               = prototypeMin;\nproto.parsingFlags      = parsingFlags;\nproto.set               = stringSet;\nproto.startOf           = startOf;\nproto.subtract          = subtract;\nproto.toArray           = toArray;\nproto.toObject          = toObject;\nproto.toDate            = toDate;\nproto.toISOString       = toISOString;\nproto.inspect           = inspect;\nproto.toJSON            = toJSON;\nproto.toString          = toString;\nproto.unix              = unix;\nproto.valueOf           = valueOf;\nproto.creationData      = creationData;\n\n// Year\nproto.year       = getSetYear;\nproto.isLeapYear = getIsLeapYear;\n\n// Week Year\nproto.weekYear    = getSetWeekYear;\nproto.isoWeekYear = getSetISOWeekYear;\n\n// Quarter\nproto.quarter = proto.quarters = getSetQuarter;\n\n// Month\nproto.month       = getSetMonth;\nproto.daysInMonth = getDaysInMonth;\n\n// Week\nproto.week           = proto.weeks        = getSetWeek;\nproto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\nproto.weeksInYear    = getWeeksInYear;\nproto.isoWeeksInYear = getISOWeeksInYear;\n\n// Day\nproto.date       = getSetDayOfMonth;\nproto.day        = proto.days             = getSetDayOfWeek;\nproto.weekday    = getSetLocaleDayOfWeek;\nproto.isoWeekday = getSetISODayOfWeek;\nproto.dayOfYear  = getSetDayOfYear;\n\n// Hour\nproto.hour = proto.hours = getSetHour;\n\n// Minute\nproto.minute = proto.minutes = getSetMinute;\n\n// Second\nproto.second = proto.seconds = getSetSecond;\n\n// Millisecond\nproto.millisecond = proto.milliseconds = getSetMillisecond;\n\n// Offset\nproto.utcOffset            = getSetOffset;\nproto.utc                  = setOffsetToUTC;\nproto.local                = setOffsetToLocal;\nproto.parseZone            = setOffsetToParsedOffset;\nproto.hasAlignedHourOffset = hasAlignedHourOffset;\nproto.isDST                = isDaylightSavingTime;\nproto.isLocal              = isLocal;\nproto.isUtcOffset          = isUtcOffset;\nproto.isUtc                = isUtc;\nproto.isUTC                = isUtc;\n\n// Timezone\nproto.zoneAbbr = getZoneAbbr;\nproto.zoneName = getZoneName;\n\n// Deprecations\nproto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\nproto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\nproto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\nproto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\nproto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\nfunction createUnix (input) {\n    return createLocal(input * 1000);\n}\n\nfunction createInZone () {\n    return createLocal.apply(null, arguments).parseZone();\n}\n\nfunction preParsePostFormat (string) {\n    return string;\n}\n\nvar proto$1 = Locale.prototype;\n\nproto$1.calendar        = calendar;\nproto$1.longDateFormat  = longDateFormat;\nproto$1.invalidDate     = invalidDate;\nproto$1.ordinal         = ordinal;\nproto$1.preparse        = preParsePostFormat;\nproto$1.postformat      = preParsePostFormat;\nproto$1.relativeTime    = relativeTime;\nproto$1.pastFuture      = pastFuture;\nproto$1.set             = set;\n\n// Month\nproto$1.months            =        localeMonths;\nproto$1.monthsShort       =        localeMonthsShort;\nproto$1.monthsParse       =        localeMonthsParse;\nproto$1.monthsRegex       = monthsRegex;\nproto$1.monthsShortRegex  = monthsShortRegex;\n\n// Week\nproto$1.week = localeWeek;\nproto$1.firstDayOfYear = localeFirstDayOfYear;\nproto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n// Day of Week\nproto$1.weekdays       =        localeWeekdays;\nproto$1.weekdaysMin    =        localeWeekdaysMin;\nproto$1.weekdaysShort  =        localeWeekdaysShort;\nproto$1.weekdaysParse  =        localeWeekdaysParse;\n\nproto$1.weekdaysRegex       =        weekdaysRegex;\nproto$1.weekdaysShortRegex  =        weekdaysShortRegex;\nproto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n// Hours\nproto$1.isPM = localeIsPM;\nproto$1.meridiem = localeMeridiem;\n\nfunction get$1 (format, index, field, setter) {\n    var locale = getLocale();\n    var utc = createUTC().set(setter, index);\n    return locale[field](utc, format);\n}\n\nfunction listMonthsImpl (format, index, field) {\n    if (isNumber(format)) {\n        index = format;\n        format = undefined;\n    }\n\n    format = format || '';\n\n    if (index != null) {\n        return get$1(format, index, field, 'month');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 12; i++) {\n        out[i] = get$1(format, i, field, 'month');\n    }\n    return out;\n}\n\n// ()\n// (5)\n// (fmt, 5)\n// (fmt)\n// (true)\n// (true, 5)\n// (true, fmt, 5)\n// (true, fmt)\nfunction listWeekdaysImpl (localeSorted, format, index, field) {\n    if (typeof localeSorted === 'boolean') {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    } else {\n        format = localeSorted;\n        index = format;\n        localeSorted = false;\n\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    }\n\n    var locale = getLocale(),\n        shift = localeSorted ? locale._week.dow : 0;\n\n    if (index != null) {\n        return get$1(format, (index + shift) % 7, field, 'day');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 7; i++) {\n        out[i] = get$1(format, (i + shift) % 7, field, 'day');\n    }\n    return out;\n}\n\nfunction listMonths (format, index) {\n    return listMonthsImpl(format, index, 'months');\n}\n\nfunction listMonthsShort (format, index) {\n    return listMonthsImpl(format, index, 'monthsShort');\n}\n\nfunction listWeekdays (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n}\n\nfunction listWeekdaysShort (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n}\n\nfunction listWeekdaysMin (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n}\n\ngetSetGlobalLocale('en', {\n    dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n    ordinal : function (number) {\n        var b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? 'th' :\n            (b === 1) ? 'st' :\n            (b === 2) ? 'nd' :\n            (b === 3) ? 'rd' : 'th';\n        return number + output;\n    }\n});\n\n// Side effect imports\nhooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\nhooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\nvar mathAbs = Math.abs;\n\nfunction abs () {\n    var data           = this._data;\n\n    this._milliseconds = mathAbs(this._milliseconds);\n    this._days         = mathAbs(this._days);\n    this._months       = mathAbs(this._months);\n\n    data.milliseconds  = mathAbs(data.milliseconds);\n    data.seconds       = mathAbs(data.seconds);\n    data.minutes       = mathAbs(data.minutes);\n    data.hours         = mathAbs(data.hours);\n    data.months        = mathAbs(data.months);\n    data.years         = mathAbs(data.years);\n\n    return this;\n}\n\nfunction addSubtract$1 (duration, input, value, direction) {\n    var other = createDuration(input, value);\n\n    duration._milliseconds += direction * other._milliseconds;\n    duration._days         += direction * other._days;\n    duration._months       += direction * other._months;\n\n    return duration._bubble();\n}\n\n// supports only 2.0-style add(1, 's') or add(duration)\nfunction add$1 (input, value) {\n    return addSubtract$1(this, input, value, 1);\n}\n\n// supports only 2.0-style subtract(1, 's') or subtract(duration)\nfunction subtract$1 (input, value) {\n    return addSubtract$1(this, input, value, -1);\n}\n\nfunction absCeil (number) {\n    if (number < 0) {\n        return Math.floor(number);\n    } else {\n        return Math.ceil(number);\n    }\n}\n\nfunction bubble () {\n    var milliseconds = this._milliseconds;\n    var days         = this._days;\n    var months       = this._months;\n    var data         = this._data;\n    var seconds, minutes, hours, years, monthsFromDays;\n\n    // if we have a mix of positive and negative values, bubble down first\n    // check: https://github.com/moment/moment/issues/2166\n    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n            (milliseconds <= 0 && days <= 0 && months <= 0))) {\n        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n        days = 0;\n        months = 0;\n    }\n\n    // The following code bubbles up values, see the tests for\n    // examples of what that means.\n    data.milliseconds = milliseconds % 1000;\n\n    seconds           = absFloor(milliseconds / 1000);\n    data.seconds      = seconds % 60;\n\n    minutes           = absFloor(seconds / 60);\n    data.minutes      = minutes % 60;\n\n    hours             = absFloor(minutes / 60);\n    data.hours        = hours % 24;\n\n    days += absFloor(hours / 24);\n\n    // convert days to months\n    monthsFromDays = absFloor(daysToMonths(days));\n    months += monthsFromDays;\n    days -= absCeil(monthsToDays(monthsFromDays));\n\n    // 12 months -> 1 year\n    years = absFloor(months / 12);\n    months %= 12;\n\n    data.days   = days;\n    data.months = months;\n    data.years  = years;\n\n    return this;\n}\n\nfunction daysToMonths (days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    // 400 years have 12 months === 4800\n    return days * 4800 / 146097;\n}\n\nfunction monthsToDays (months) {\n    // the reverse of daysToMonths\n    return months * 146097 / 4800;\n}\n\nfunction as (units) {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    var days;\n    var months;\n    var milliseconds = this._milliseconds;\n\n    units = normalizeUnits(units);\n\n    if (units === 'month' || units === 'year') {\n        days   = this._days   + milliseconds / 864e5;\n        months = this._months + daysToMonths(days);\n        return units === 'month' ? months : months / 12;\n    } else {\n        // handle milliseconds separately because of floating point math errors (issue #1867)\n        days = this._days + Math.round(monthsToDays(this._months));\n        switch (units) {\n            case 'week'   : return days / 7     + milliseconds / 6048e5;\n            case 'day'    : return days         + milliseconds / 864e5;\n            case 'hour'   : return days * 24    + milliseconds / 36e5;\n            case 'minute' : return days * 1440  + milliseconds / 6e4;\n            case 'second' : return days * 86400 + milliseconds / 1000;\n            // Math.floor prevents floating point math errors here\n            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n            default: throw new Error('Unknown unit ' + units);\n        }\n    }\n}\n\n// TODO: Use this.as('ms')?\nfunction valueOf$1 () {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    return (\n        this._milliseconds +\n        this._days * 864e5 +\n        (this._months % 12) * 2592e6 +\n        toInt(this._months / 12) * 31536e6\n    );\n}\n\nfunction makeAs (alias) {\n    return function () {\n        return this.as(alias);\n    };\n}\n\nvar asMilliseconds = makeAs('ms');\nvar asSeconds      = makeAs('s');\nvar asMinutes      = makeAs('m');\nvar asHours        = makeAs('h');\nvar asDays         = makeAs('d');\nvar asWeeks        = makeAs('w');\nvar asMonths       = makeAs('M');\nvar asYears        = makeAs('y');\n\nfunction get$2 (units) {\n    units = normalizeUnits(units);\n    return this.isValid() ? this[units + 's']() : NaN;\n}\n\nfunction makeGetter(name) {\n    return function () {\n        return this.isValid() ? this._data[name] : NaN;\n    };\n}\n\nvar milliseconds = makeGetter('milliseconds');\nvar seconds      = makeGetter('seconds');\nvar minutes      = makeGetter('minutes');\nvar hours        = makeGetter('hours');\nvar days         = makeGetter('days');\nvar months       = makeGetter('months');\nvar years        = makeGetter('years');\n\nfunction weeks () {\n    return absFloor(this.days() / 7);\n}\n\nvar round = Math.round;\nvar thresholds = {\n    ss: 44,         // a few seconds to seconds\n    s : 45,         // seconds to minute\n    m : 45,         // minutes to hour\n    h : 22,         // hours to day\n    d : 26,         // days to month\n    M : 11          // months to year\n};\n\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\nfunction substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n}\n\nfunction relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n    var duration = createDuration(posNegDuration).abs();\n    var seconds  = round(duration.as('s'));\n    var minutes  = round(duration.as('m'));\n    var hours    = round(duration.as('h'));\n    var days     = round(duration.as('d'));\n    var months   = round(duration.as('M'));\n    var years    = round(duration.as('y'));\n\n    var a = seconds <= thresholds.ss && ['s', seconds]  ||\n            seconds < thresholds.s   && ['ss', seconds] ||\n            minutes <= 1             && ['m']           ||\n            minutes < thresholds.m   && ['mm', minutes] ||\n            hours   <= 1             && ['h']           ||\n            hours   < thresholds.h   && ['hh', hours]   ||\n            days    <= 1             && ['d']           ||\n            days    < thresholds.d   && ['dd', days]    ||\n            months  <= 1             && ['M']           ||\n            months  < thresholds.M   && ['MM', months]  ||\n            years   <= 1             && ['y']           || ['yy', years];\n\n    a[2] = withoutSuffix;\n    a[3] = +posNegDuration > 0;\n    a[4] = locale;\n    return substituteTimeAgo.apply(null, a);\n}\n\n// This function allows you to set the rounding function for relative time strings\nfunction getSetRelativeTimeRounding (roundingFunction) {\n    if (roundingFunction === undefined) {\n        return round;\n    }\n    if (typeof(roundingFunction) === 'function') {\n        round = roundingFunction;\n        return true;\n    }\n    return false;\n}\n\n// This function allows you to set a threshold for relative time strings\nfunction getSetRelativeTimeThreshold (threshold, limit) {\n    if (thresholds[threshold] === undefined) {\n        return false;\n    }\n    if (limit === undefined) {\n        return thresholds[threshold];\n    }\n    thresholds[threshold] = limit;\n    if (threshold === 's') {\n        thresholds.ss = limit - 1;\n    }\n    return true;\n}\n\nfunction humanize (withSuffix) {\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var locale = this.localeData();\n    var output = relativeTime$1(this, !withSuffix, locale);\n\n    if (withSuffix) {\n        output = locale.pastFuture(+this, output);\n    }\n\n    return locale.postformat(output);\n}\n\nvar abs$1 = Math.abs;\n\nfunction toISOString$1() {\n    // for ISO strings we do not use the normal bubbling rules:\n    //  * milliseconds bubble up until they become hours\n    //  * days do not bubble at all\n    //  * months bubble up until they become years\n    // This is because there is no context-free conversion between hours and days\n    // (think of clock changes)\n    // and also not between days and months (28-31 days per month)\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var seconds = abs$1(this._milliseconds) / 1000;\n    var days         = abs$1(this._days);\n    var months       = abs$1(this._months);\n    var minutes, hours, years;\n\n    // 3600 seconds -> 60 minutes -> 1 hour\n    minutes           = absFloor(seconds / 60);\n    hours             = absFloor(minutes / 60);\n    seconds %= 60;\n    minutes %= 60;\n\n    // 12 months -> 1 year\n    years  = absFloor(months / 12);\n    months %= 12;\n\n\n    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n    var Y = years;\n    var M = months;\n    var D = days;\n    var h = hours;\n    var m = minutes;\n    var s = seconds;\n    var total = this.asSeconds();\n\n    if (!total) {\n        // this is the same as C#'s (Noda) and python (isodate)...\n        // but not other JS (goog.date)\n        return 'P0D';\n    }\n\n    return (total < 0 ? '-' : '') +\n        'P' +\n        (Y ? Y + 'Y' : '') +\n        (M ? M + 'M' : '') +\n        (D ? D + 'D' : '') +\n        ((h || m || s) ? 'T' : '') +\n        (h ? h + 'H' : '') +\n        (m ? m + 'M' : '') +\n        (s ? s + 'S' : '');\n}\n\nvar proto$2 = Duration.prototype;\n\nproto$2.isValid        = isValid$1;\nproto$2.abs            = abs;\nproto$2.add            = add$1;\nproto$2.subtract       = subtract$1;\nproto$2.as             = as;\nproto$2.asMilliseconds = asMilliseconds;\nproto$2.asSeconds      = asSeconds;\nproto$2.asMinutes      = asMinutes;\nproto$2.asHours        = asHours;\nproto$2.asDays         = asDays;\nproto$2.asWeeks        = asWeeks;\nproto$2.asMonths       = asMonths;\nproto$2.asYears        = asYears;\nproto$2.valueOf        = valueOf$1;\nproto$2._bubble        = bubble;\nproto$2.get            = get$2;\nproto$2.milliseconds   = milliseconds;\nproto$2.seconds        = seconds;\nproto$2.minutes        = minutes;\nproto$2.hours          = hours;\nproto$2.days           = days;\nproto$2.weeks          = weeks;\nproto$2.months         = months;\nproto$2.years          = years;\nproto$2.humanize       = humanize;\nproto$2.toISOString    = toISOString$1;\nproto$2.toString       = toISOString$1;\nproto$2.toJSON         = toISOString$1;\nproto$2.locale         = locale;\nproto$2.localeData     = localeData;\n\n// Deprecations\nproto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\nproto$2.lang = lang;\n\n// Side effect imports\n\n// FORMATTING\n\naddFormatToken('X', 0, 0, 'unix');\naddFormatToken('x', 0, 0, 'valueOf');\n\n// PARSING\n\naddRegexToken('x', matchSigned);\naddRegexToken('X', matchTimestamp);\naddParseToken('X', function (input, array, config) {\n    config._d = new Date(parseFloat(input, 10) * 1000);\n});\naddParseToken('x', function (input, array, config) {\n    config._d = new Date(toInt(input));\n});\n\n// Side effect imports\n\n\nhooks.version = '2.18.1';\n\nsetHookCallback(createLocal);\n\nhooks.fn                    = proto;\nhooks.min                   = min;\nhooks.max                   = max;\nhooks.now                   = now;\nhooks.utc                   = createUTC;\nhooks.unix                  = createUnix;\nhooks.months                = listMonths;\nhooks.isDate                = isDate;\nhooks.locale                = getSetGlobalLocale;\nhooks.invalid               = createInvalid;\nhooks.duration              = createDuration;\nhooks.isMoment              = isMoment;\nhooks.weekdays              = listWeekdays;\nhooks.parseZone             = createInZone;\nhooks.localeData            = getLocale;\nhooks.isDuration            = isDuration;\nhooks.monthsShort           = listMonthsShort;\nhooks.weekdaysMin           = listWeekdaysMin;\nhooks.defineLocale          = defineLocale;\nhooks.updateLocale          = updateLocale;\nhooks.locales               = listLocales;\nhooks.weekdaysShort         = listWeekdaysShort;\nhooks.normalizeUnits        = normalizeUnits;\nhooks.relativeTimeRounding = getSetRelativeTimeRounding;\nhooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\nhooks.calendarFormat        = getCalendarFormat;\nhooks.prototype             = proto;\n\nreturn hooks;\n\n})));\n\n},{}],8:[function(require,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],9:[function(require,module,exports){\n/*!\n * Pikaday\n *\n * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday\n */\n\n(function (root, factory)\n{\n    'use strict';\n\n    var moment;\n    if (typeof exports === 'object') {\n        // CommonJS module\n        // Load moment.js as an optional dependency\n        try { moment = require('moment'); } catch (e) {}\n        module.exports = factory(moment);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(function (req)\n        {\n            // Load moment.js as an optional dependency\n            var id = 'moment';\n            try { moment = req(id); } catch (e) {}\n            return factory(moment);\n        });\n    } else {\n        root.Pikaday = factory(root.moment);\n    }\n}(this, function (moment)\n{\n    'use strict';\n\n    /**\n     * feature detection and helper functions\n     */\n    var hasMoment = typeof moment === 'function',\n\n    hasEventListeners = !!window.addEventListener,\n\n    document = window.document,\n\n    sto = window.setTimeout,\n\n    addEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.addEventListener(e, callback, !!capture);\n        } else {\n            el.attachEvent('on' + e, callback);\n        }\n    },\n\n    removeEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.removeEventListener(e, callback, !!capture);\n        } else {\n            el.detachEvent('on' + e, callback);\n        }\n    },\n\n    trim = function(str)\n    {\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\n    },\n\n    hasClass = function(el, cn)\n    {\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\n    },\n\n    addClass = function(el, cn)\n    {\n        if (!hasClass(el, cn)) {\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\n        }\n    },\n\n    removeClass = function(el, cn)\n    {\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\n    },\n\n    isArray = function(obj)\n    {\n        return (/Array/).test(Object.prototype.toString.call(obj));\n    },\n\n    isDate = function(obj)\n    {\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    },\n\n    isWeekend = function(date)\n    {\n        var day = date.getDay();\n        return day === 0 || day === 6;\n    },\n\n    isLeapYear = function(year)\n    {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n\n    getDaysInMonth = function(year, month)\n    {\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n\n    setToStartOfDay = function(date)\n    {\n        if (isDate(date)) date.setHours(0,0,0,0);\n    },\n\n    compareDates = function(a,b)\n    {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    },\n\n    extend = function(to, from, overwrite)\n    {\n        var prop, hasProp;\n        for (prop in from) {\n            hasProp = to[prop] !== undefined;\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\n                if (isDate(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = new Date(from[prop].getTime());\n                    }\n                }\n                else if (isArray(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = from[prop].slice(0);\n                    }\n                } else {\n                    to[prop] = extend({}, from[prop], overwrite);\n                }\n            } else if (overwrite || !hasProp) {\n                to[prop] = from[prop];\n            }\n        }\n        return to;\n    },\n\n    fireEvent = function(el, eventName, data)\n    {\n        var ev;\n\n        if (document.createEvent) {\n            ev = document.createEvent('HTMLEvents');\n            ev.initEvent(eventName, true, false);\n            ev = extend(ev, data);\n            el.dispatchEvent(ev);\n        } else if (document.createEventObject) {\n            ev = document.createEventObject();\n            ev = extend(ev, data);\n            el.fireEvent('on' + eventName, ev);\n        }\n    },\n\n    adjustCalendar = function(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    },\n\n    /**\n     * defaults and localisation\n     */\n    defaults = {\n\n        // bind the picker to a form field\n        field: null,\n\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\n        bound: undefined,\n\n        // position of the datepicker, relative to the field (default to bottom & left)\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\n        position: 'bottom left',\n\n        // automatically fit in the viewport even if it means repositioning from the position option\n        reposition: true,\n\n        // the default output format for `.toString()` and `field` value\n        format: 'YYYY-MM-DD',\n\n        // the toString function which gets passed a current date object and format\n        // and returns a string\n        toString: null,\n\n        // used to create date object from current input string\n        parse: null,\n\n        // the initial date to view when first opened\n        defaultDate: null,\n\n        // make the `defaultDate` the initial selected value\n        setDefaultDate: false,\n\n        // first day of week (0: Sunday, 1: Monday etc)\n        firstDay: 0,\n\n        // the default flag for moment's strict date parsing\n        formatStrict: false,\n\n        // the minimum/earliest date that can be selected\n        minDate: null,\n        // the maximum/latest date that can be selected\n        maxDate: null,\n\n        // number of years either side, or array of upper/lower range\n        yearRange: 10,\n\n        // show week numbers at head of row\n        showWeekNumber: false,\n\n        // Week picker mode\n        pickWholeWeek: false,\n\n        // used internally (don't config outside)\n        minYear: 0,\n        maxYear: 9999,\n        minMonth: undefined,\n        maxMonth: undefined,\n\n        startRange: null,\n        endRange: null,\n\n        isRTL: false,\n\n        // Additional text to append to the year in the calendar title\n        yearSuffix: '',\n\n        // Render the month after year in the calendar title\n        showMonthAfterYear: false,\n\n        // Render days of the calendar grid that fall in the next or previous month\n        showDaysInNextAndPreviousMonths: false,\n\n        // Allows user to select days that fall in the next or previous month\n        enableSelectionDaysInNextAndPreviousMonths: false,\n\n        // how many months are visible\n        numberOfMonths: 1,\n\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\n        // only used for the first display or when a selected date is not visible\n        mainCalendar: 'left',\n\n        // Specify a DOM element to render the calendar in\n        container: undefined,\n\n        // Blur field when date is selected\n        blurFieldOnSelect : true,\n\n        // internationalization\n        i18n: {\n            previousMonth : 'Previous Month',\n            nextMonth     : 'Next Month',\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\n        },\n\n        // Theme Classname\n        theme: null,\n\n        // events array\n        events: [],\n\n        // callback function\n        onSelect: null,\n        onOpen: null,\n        onClose: null,\n        onDraw: null\n    },\n\n\n    /**\n     * templating functions to abstract HTML rendering\n     */\n    renderDayName = function(opts, day, abbr)\n    {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\n    },\n\n    renderDay = function(opts)\n    {\n        var arr = [];\n        var ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\n                    arr.push('is-selection-disabled');\n                }\n\n            } else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return '<td data-day=\"' + opts.day + '\" class=\"' + arr.join(' ') + '\" aria-selected=\"' + ariaSelected + '\">' +\n                 '<button class=\"pika-button pika-day\" type=\"button\" ' +\n                    'data-pika-year=\"' + opts.year + '\" data-pika-month=\"' + opts.month + '\" data-pika-day=\"' + opts.day + '\">' +\n                        opts.day +\n                 '</button>' +\n               '</td>';\n    },\n\n    renderWeek = function (d, m, y) {\n        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.\n        var onejan = new Date(y, 0, 1),\n            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);\n        return '<td class=\"pika-week\">' + weekNum + '</td>';\n    },\n\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\n    {\n        return '<tr class=\"pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\n    },\n\n    renderBody = function(rows)\n    {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    },\n\n    renderHead = function(opts)\n    {\n        var i, arr = [];\n        if (opts.showWeekNumber) {\n            arr.push('<th></th>');\n        }\n        for (i = 0; i < 7; i++) {\n            arr.push('<th scope=\"col\"><abbr title=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</abbr></th>');\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    },\n\n    renderTitle = function(instance, c, year, month, refYear, randId)\n    {\n        var i, j, arr,\n            opts = instance._o,\n            isMinYear = year === opts.minYear,\n            isMaxYear = year === opts.maxYear,\n            html = '<div id=\"' + randId + '\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">',\n            monthHtml,\n            yearHtml,\n            prev = true,\n            next = true;\n\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\n                (i === month ? ' selected=\"selected\"': '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled=\"disabled\"' : '') + '>' +\n                opts.i18n.months[i] + '</option>');\n        }\n\n        monthHtml = '<div class=\"pika-label\">' + opts.i18n.months[month] + '<select class=\"pika-select pika-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        } else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\n            }\n        }\n        yearHtml = '<div class=\"pika-label\">' + year + opts.yearSuffix + '<select class=\"pika-select pika-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        } else {\n            html += monthHtml + yearHtml;\n        }\n\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n\n        if (c === 0) {\n            html += '<button class=\"pika-prev' + (prev ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.previousMonth + '</button>';\n        }\n        if (c === (instance._o.numberOfMonths - 1) ) {\n            html += '<button class=\"pika-next' + (next ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.nextMonth + '</button>';\n        }\n\n        return html += '</div>';\n    },\n\n    renderTable = function(opts, data, randId)\n    {\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\n    },\n\n\n    /**\n     * Pikaday constructor\n     */\n    Pikaday = function(options)\n    {\n        var self = this,\n            opts = self.config(options);\n\n        self._onMouseDown = function(e)\n        {\n            if (!self._v) {\n                return;\n            }\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n\n            if (!hasClass(target, 'is-disabled')) {\n                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\n                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));\n                    if (opts.bound) {\n                        sto(function() {\n                            self.hide();\n                            if (opts.blurFieldOnSelect && opts.field) {\n                                opts.field.blur();\n                            }\n                        }, 100);\n                    }\n                }\n                else if (hasClass(target, 'pika-prev')) {\n                    self.prevMonth();\n                }\n                else if (hasClass(target, 'pika-next')) {\n                    self.nextMonth();\n                }\n            }\n            if (!hasClass(target, 'pika-select')) {\n                // if this is touch event prevent mouse events emulation\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                    return false;\n                }\n            } else {\n                self._c = true;\n            }\n        };\n\n        self._onChange = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n            if (hasClass(target, 'pika-select-month')) {\n                self.gotoMonth(target.value);\n            }\n            else if (hasClass(target, 'pika-select-year')) {\n                self.gotoYear(target.value);\n            }\n        };\n\n        self._onKeyChange = function(e)\n        {\n            e = e || window.event;\n\n            if (self.isVisible()) {\n\n                switch(e.keyCode){\n                    case 13:\n                    case 27:\n                        if (opts.field) {\n                            opts.field.blur();\n                        }\n                        break;\n                    case 37:\n                        e.preventDefault();\n                        self.adjustDate('subtract', 1);\n                        break;\n                    case 38:\n                        self.adjustDate('subtract', 7);\n                        break;\n                    case 39:\n                        self.adjustDate('add', 1);\n                        break;\n                    case 40:\n                        self.adjustDate('add', 7);\n                        break;\n                }\n            }\n        };\n\n        self._onInputChange = function(e)\n        {\n            var date;\n\n            if (e.firedBy === self) {\n                return;\n            }\n            if (opts.parse) {\n                date = opts.parse(opts.field.value, opts.format);\n            } else if (hasMoment) {\n                date = moment(opts.field.value, opts.format, opts.formatStrict);\n                date = (date && date.isValid()) ? date.toDate() : null;\n            }\n            else {\n                date = new Date(Date.parse(opts.field.value));\n            }\n            if (isDate(date)) {\n              self.setDate(date);\n            }\n            if (!self._v) {\n                self.show();\n            }\n        };\n\n        self._onInputFocus = function()\n        {\n            self.show();\n        };\n\n        self._onInputClick = function()\n        {\n            self.show();\n        };\n\n        self._onInputBlur = function()\n        {\n            // IE allows pika div to gain focus; catch blur the input field\n            var pEl = document.activeElement;\n            do {\n                if (hasClass(pEl, 'pika-single')) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n\n            if (!self._c) {\n                self._b = sto(function() {\n                    self.hide();\n                }, 50);\n            }\n            self._c = false;\n        };\n\n        self._onClick = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement,\n                pEl = target;\n            if (!target) {\n                return;\n            }\n            if (!hasEventListeners && hasClass(target, 'pika-select')) {\n                if (!target.onchange) {\n                    target.setAttribute('onchange', 'return;');\n                    addEvent(target, 'change', self._onChange);\n                }\n            }\n            do {\n                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\n                self.hide();\n            }\n        };\n\n        self.el = document.createElement('div');\n        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');\n\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\n        addEvent(self.el, 'change', self._onChange);\n        addEvent(document, 'keydown', self._onKeyChange);\n\n        if (opts.field) {\n            if (opts.container) {\n                opts.container.appendChild(self.el);\n            } else if (opts.bound) {\n                document.body.appendChild(self.el);\n            } else {\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\n            }\n            addEvent(opts.field, 'change', self._onInputChange);\n\n            if (!opts.defaultDate) {\n                if (hasMoment && opts.field.value) {\n                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();\n                } else {\n                    opts.defaultDate = new Date(Date.parse(opts.field.value));\n                }\n                opts.setDefaultDate = true;\n            }\n        }\n\n        var defDate = opts.defaultDate;\n\n        if (isDate(defDate)) {\n            if (opts.setDefaultDate) {\n                self.setDate(defDate, true);\n            } else {\n                self.gotoDate(defDate);\n            }\n        } else {\n            self.gotoDate(new Date());\n        }\n\n        if (opts.bound) {\n            this.hide();\n            self.el.className += ' is-bound';\n            addEvent(opts.trigger, 'click', self._onInputClick);\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\n        } else {\n            this.show();\n        }\n    };\n\n\n    /**\n     * public Pikaday API\n     */\n    Pikaday.prototype = {\n\n\n        /**\n         * configure functionality\n         */\n        config: function(options)\n        {\n            if (!this._o) {\n                this._o = extend({}, defaults, true);\n            }\n\n            var opts = extend(this._o, options, true);\n\n            opts.isRTL = !!opts.isRTL;\n\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\n\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\n\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\n\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\n\n            opts.disableWeekends = !!opts.disableWeekends;\n\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\n\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\n\n            if (!isDate(opts.minDate)) {\n                opts.minDate = false;\n            }\n            if (!isDate(opts.maxDate)) {\n                opts.maxDate = false;\n            }\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\n                opts.maxDate = opts.minDate = false;\n            }\n            if (opts.minDate) {\n                this.setMinDate(opts.minDate);\n            }\n            if (opts.maxDate) {\n                this.setMaxDate(opts.maxDate);\n            }\n\n            if (isArray(opts.yearRange)) {\n                var fallback = new Date().getFullYear() - 10;\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\n            } else {\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\n                if (opts.yearRange > 100) {\n                    opts.yearRange = 100;\n                }\n            }\n\n            return opts;\n        },\n\n        /**\n         * return a formatted string of the current selection (using Moment.js if available)\n         */\n        toString: function(format)\n        {\n            format = format || this._o.format;\n            if (!isDate(this._d)) {\n                return '';\n            }\n            if (this._o.toString) {\n              return this._o.toString(this._d, format);\n            }\n            if (hasMoment) {\n              return moment(this._d).format(format);\n            }\n            return this._d.toDateString();\n        },\n\n        /**\n         * return a Moment.js object of the current selection (if available)\n         */\n        getMoment: function()\n        {\n            return hasMoment ? moment(this._d) : null;\n        },\n\n        /**\n         * set the current selection from a Moment.js object (if available)\n         */\n        setMoment: function(date, preventOnSelect)\n        {\n            if (hasMoment && moment.isMoment(date)) {\n                this.setDate(date.toDate(), preventOnSelect);\n            }\n        },\n\n        /**\n         * return a Date object of the current selection\n         */\n        getDate: function()\n        {\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\n        },\n\n        /**\n         * set the current selection\n         */\n        setDate: function(date, preventOnSelect)\n        {\n            if (!date) {\n                this._d = null;\n\n                if (this._o.field) {\n                    this._o.field.value = '';\n                    fireEvent(this._o.field, 'change', { firedBy: this });\n                }\n\n                return this.draw();\n            }\n            if (typeof date === 'string') {\n                date = new Date(Date.parse(date));\n            }\n            if (!isDate(date)) {\n                return;\n            }\n\n            var min = this._o.minDate,\n                max = this._o.maxDate;\n\n            if (isDate(min) && date < min) {\n                date = min;\n            } else if (isDate(max) && date > max) {\n                date = max;\n            }\n\n            this._d = new Date(date.getTime());\n            setToStartOfDay(this._d);\n            this.gotoDate(this._d);\n\n            if (this._o.field) {\n                this._o.field.value = this.toString();\n                fireEvent(this._o.field, 'change', { firedBy: this });\n            }\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\n                this._o.onSelect.call(this, this.getDate());\n            }\n        },\n\n        /**\n         * change view to a specific date\n         */\n        gotoDate: function(date)\n        {\n            var newCalendar = true;\n\n            if (!isDate(date)) {\n                return;\n            }\n\n            if (this.calendars) {\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\n                    visibleDate = date.getTime();\n                // get the end of the month\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\n            }\n\n            if (newCalendar) {\n                this.calendars = [{\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }];\n                if (this._o.mainCalendar === 'right') {\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\n                }\n            }\n\n            this.adjustCalendars();\n        },\n\n        adjustDate: function(sign, days) {\n\n            var day = this.getDate() || new Date();\n            var difference = parseInt(days)*24*60*60*1000;\n\n            var newDay;\n\n            if (sign === 'add') {\n                newDay = new Date(day.valueOf() + difference);\n            } else if (sign === 'subtract') {\n                newDay = new Date(day.valueOf() - difference);\n            }\n\n            this.setDate(newDay);\n        },\n\n        adjustCalendars: function() {\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\n                this.calendars[c] = adjustCalendar({\n                    month: this.calendars[0].month + c,\n                    year: this.calendars[0].year\n                });\n            }\n            this.draw();\n        },\n\n        gotoToday: function()\n        {\n            this.gotoDate(new Date());\n        },\n\n        /**\n         * change view to a specific month (zero-index, e.g. 0: January)\n         */\n        gotoMonth: function(month)\n        {\n            if (!isNaN(month)) {\n                this.calendars[0].month = parseInt(month, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        nextMonth: function()\n        {\n            this.calendars[0].month++;\n            this.adjustCalendars();\n        },\n\n        prevMonth: function()\n        {\n            this.calendars[0].month--;\n            this.adjustCalendars();\n        },\n\n        /**\n         * change view to a specific full year (e.g. \"2012\")\n         */\n        gotoYear: function(year)\n        {\n            if (!isNaN(year)) {\n                this.calendars[0].year = parseInt(year, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        /**\n         * change the minDate\n         */\n        setMinDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.minDate = value;\n                this._o.minYear  = value.getFullYear();\n                this._o.minMonth = value.getMonth();\n            } else {\n                this._o.minDate = defaults.minDate;\n                this._o.minYear  = defaults.minYear;\n                this._o.minMonth = defaults.minMonth;\n                this._o.startRange = defaults.startRange;\n            }\n\n            this.draw();\n        },\n\n        /**\n         * change the maxDate\n         */\n        setMaxDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.maxDate = value;\n                this._o.maxYear = value.getFullYear();\n                this._o.maxMonth = value.getMonth();\n            } else {\n                this._o.maxDate = defaults.maxDate;\n                this._o.maxYear = defaults.maxYear;\n                this._o.maxMonth = defaults.maxMonth;\n                this._o.endRange = defaults.endRange;\n            }\n\n            this.draw();\n        },\n\n        setStartRange: function(value)\n        {\n            this._o.startRange = value;\n        },\n\n        setEndRange: function(value)\n        {\n            this._o.endRange = value;\n        },\n\n        /**\n         * refresh the HTML\n         */\n        draw: function(force)\n        {\n            if (!this._v && !force) {\n                return;\n            }\n            var opts = this._o,\n                minYear = opts.minYear,\n                maxYear = opts.maxYear,\n                minMonth = opts.minMonth,\n                maxMonth = opts.maxMonth,\n                html = '',\n                randId;\n\n            if (this._y <= minYear) {\n                this._y = minYear;\n                if (!isNaN(minMonth) && this._m < minMonth) {\n                    this._m = minMonth;\n                }\n            }\n            if (this._y >= maxYear) {\n                this._y = maxYear;\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\n                    this._m = maxMonth;\n                }\n            }\n\n            randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\n\n            for (var c = 0; c < opts.numberOfMonths; c++) {\n                html += '<div class=\"pika-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\n            }\n\n            this.el.innerHTML = html;\n\n            if (opts.bound) {\n                if(opts.field.type !== 'hidden') {\n                    sto(function() {\n                        opts.trigger.focus();\n                    }, 1);\n                }\n            }\n\n            if (typeof this._o.onDraw === 'function') {\n                this._o.onDraw(this);\n            }\n\n            if (opts.bound) {\n                // let the screen reader user know to use arrow keys\n                opts.field.setAttribute('aria-label', 'Use the arrow keys to pick a date');\n            }\n        },\n\n        adjustPosition: function()\n        {\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect;\n\n            if (this._o.container) return;\n\n            this.el.style.position = 'absolute';\n\n            field = this._o.trigger;\n            pEl = field;\n            width = this.el.offsetWidth;\n            height = this.el.offsetHeight;\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n\n            if (typeof field.getBoundingClientRect === 'function') {\n                clientRect = field.getBoundingClientRect();\n                left = clientRect.left + window.pageXOffset;\n                top = clientRect.bottom + window.pageYOffset;\n            } else {\n                left = pEl.offsetLeft;\n                top  = pEl.offsetTop + pEl.offsetHeight;\n                while((pEl = pEl.offsetParent)) {\n                    left += pEl.offsetLeft;\n                    top  += pEl.offsetTop;\n                }\n            }\n\n            // default position is bottom & left\n            if ((this._o.reposition && left + width > viewportWidth) ||\n                (\n                    this._o.position.indexOf('right') > -1 &&\n                    left - width + field.offsetWidth > 0\n                )\n            ) {\n                left = left - width + field.offsetWidth;\n            }\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\n                (\n                    this._o.position.indexOf('top') > -1 &&\n                    top - height - field.offsetHeight > 0\n                )\n            ) {\n                top = top - height - field.offsetHeight;\n            }\n\n            this.el.style.left = left + 'px';\n            this.el.style.top = top + 'px';\n        },\n\n        /**\n         * render HTML for a particular month\n         */\n        render: function(year, month, randId)\n        {\n            var opts   = this._o,\n                now    = new Date(),\n                days   = getDaysInMonth(year, month),\n                before = new Date(year, month, 1).getDay(),\n                data   = [],\n                row    = [];\n            setToStartOfDay(now);\n            if (opts.firstDay > 0) {\n                before -= opts.firstDay;\n                if (before < 0) {\n                    before += 7;\n                }\n            }\n            var previousMonth = month === 0 ? 11 : month - 1,\n                nextMonth = month === 11 ? 0 : month + 1,\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\n                yearOfNextMonth = month === 11 ? year + 1 : year,\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\n            var cells = days + before,\n                after = cells;\n            while(after > 7) {\n                after -= 7;\n            }\n            cells += 7 - after;\n            var isWeekSelected = false;\n            for (var i = 0, r = 0; i < cells; i++)\n            {\n                var day = new Date(year, month, 1 + (i - before)),\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\n                    isToday = compareDates(day, now),\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\n                    isEmpty = i < before || i >= (days + before),\n                    dayNumber = 1 + (i - before),\n                    monthNumber = month,\n                    yearNumber = year,\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\n                                 (opts.maxDate && day > opts.maxDate) ||\n                                 (opts.disableWeekends && isWeekend(day)) ||\n                                 (opts.disableDayFn && opts.disableDayFn(day));\n\n                if (isEmpty) {\n                    if (i < before) {\n                        dayNumber = daysInPreviousMonth + dayNumber;\n                        monthNumber = previousMonth;\n                        yearNumber = yearOfPreviousMonth;\n                    } else {\n                        dayNumber = dayNumber - days;\n                        monthNumber = nextMonth;\n                        yearNumber = yearOfNextMonth;\n                    }\n                }\n\n                var dayConfig = {\n                        day: dayNumber,\n                        month: monthNumber,\n                        year: yearNumber,\n                        hasEvent: hasEvent,\n                        isSelected: isSelected,\n                        isToday: isToday,\n                        isDisabled: isDisabled,\n                        isEmpty: isEmpty,\n                        isStartRange: isStartRange,\n                        isEndRange: isEndRange,\n                        isInRange: isInRange,\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\n                    };\n\n                if (opts.pickWholeWeek && isSelected) {\n                    isWeekSelected = true;\n                }\n\n                row.push(renderDay(dayConfig));\n\n                if (++r === 7) {\n                    if (opts.showWeekNumber) {\n                        row.unshift(renderWeek(i - before, month, year));\n                    }\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\n                    row = [];\n                    r = 0;\n                    isWeekSelected = false;\n                }\n            }\n            return renderTable(opts, data, randId);\n        },\n\n        isVisible: function()\n        {\n            return this._v;\n        },\n\n        show: function()\n        {\n            if (!this.isVisible()) {\n                this._v = true;\n                this.draw();\n                removeClass(this.el, 'is-hidden');\n                if (this._o.bound) {\n                    addEvent(document, 'click', this._onClick);\n                    this.adjustPosition();\n                }\n                if (typeof this._o.onOpen === 'function') {\n                    this._o.onOpen.call(this);\n                }\n            }\n        },\n\n        hide: function()\n        {\n            var v = this._v;\n            if (v !== false) {\n                if (this._o.bound) {\n                    removeEvent(document, 'click', this._onClick);\n                }\n                this.el.style.position = 'static'; // reset\n                this.el.style.left = 'auto';\n                this.el.style.top = 'auto';\n                addClass(this.el, 'is-hidden');\n                this._v = false;\n                if (v !== undefined && typeof this._o.onClose === 'function') {\n                    this._o.onClose.call(this);\n                }\n            }\n        },\n\n        /**\n         * GAME OVER\n         */\n        destroy: function()\n        {\n            this.hide();\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\n            removeEvent(this.el, 'change', this._onChange);\n            removeEvent(document, 'keydown', this._onKeyChange);\n            if (this._o.field) {\n                removeEvent(this._o.field, 'change', this._onInputChange);\n                if (this._o.bound) {\n                    removeEvent(this._o.trigger, 'click', this._onInputClick);\n                    removeEvent(this._o.trigger, 'focus', this._onInputFocus);\n                    removeEvent(this._o.trigger, 'blur', this._onInputBlur);\n                }\n            }\n            if (this.el.parentNode) {\n                this.el.parentNode.removeChild(this.el);\n            }\n        }\n\n    };\n\n    return Pikaday;\n\n}));\n\n},{\"moment\":7}],10:[function(require,module,exports){\n'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\nvar decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeComponent(val);\n\n\t\tformatter(decodeComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\n},{\"decode-uri-component\":2,\"object-assign\":8,\"strict-uri-encode\":12}],11:[function(require,module,exports){\n/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n\n(function sortableModule(factory) {\n\t\"use strict\";\n\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(factory);\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function sortableFactory() {\n\t\"use strict\";\n\n\tif (typeof window == \"undefined\" || !window.document) {\n\t\treturn function sortableError() {\n\t\t\tthrow new Error(\"Sortable.js requires a window with a document\");\n\t\t};\n\t}\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\t\tlastDownEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\t\tscrollCustomFn,\n\n\t\tlastEl,\n\t\tlastCSS,\n\t\tlastParentCSS,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tputSortable,\n\n\t\tautoScroll = {},\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\t\t/** @const */\n\t\tR_SPACE = /\\s+/g,\n\t\tR_FLOAT = /left|right|inline/,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\n\t\t$ = win.jQuery || win.Zepto,\n\t\tPolymer = win.Polymer,\n\n\t\tcaptureMode = false,\n\n\t\tsupportDraggable = !!('draggable' in document.createElement('div')),\n\t\tsupportCssPointerEvents = (function (el) {\n\t\t\t// false when IE11\n\t\t\tif (!!navigator.userAgent.match(/Trident.*rv[ :]?11\\./)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tel = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\n\t\tabs = Math.abs,\n\t\tmin = Math.min,\n\n\t\tsavedInputChecked = [],\n\t\ttouchDragOverListeners = [],\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (rootEl && options.scroll) {\n\t\t\t\tvar _this = rootEl[expando],\n\t\t\t\t\tel,\n\t\t\t\t\trect,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinWidth = window.innerWidth,\n\t\t\t\t\twinHeight = window.innerHeight,\n\n\t\t\t\t\tvx,\n\t\t\t\t\tvy,\n\n\t\t\t\t\tscrollOffsetX,\n\t\t\t\t\tscrollOffsetY\n\t\t\t\t;\n\n\t\t\t\t// Delect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollParentEl = rootEl;\n\t\t\t\t\tscrollCustomFn = options.scrollFn;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = rootEl;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||\n\t\t\t\t\t\t\t\t(scrollEl.offsetHeight < scrollEl.scrollHeight)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\t\t} while (scrollEl = scrollEl.parentNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (scrollEl) {\n\t\t\t\t\tel = scrollEl;\n\t\t\t\t\trect = scrollEl.getBoundingClientRect();\n\t\t\t\t\tvx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\n\t\t\t\t\tvy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\n\t\t\t\t}\n\n\n\t\t\t\tif (!(vx || vy)) {\n\t\t\t\t\tvx = (winWidth - x <= sens) - (x <= sens);\n\t\t\t\t\tvy = (winHeight - y <= sens) - (y <= sens);\n\n\t\t\t\t\t/* jshint expr:true */\n\t\t\t\t\t(vx || vy) && (el = win);\n\t\t\t\t}\n\n\n\t\t\t\tif (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\n\t\t\t\t\tautoScroll.el = el;\n\t\t\t\t\tautoScroll.vx = vx;\n\t\t\t\t\tautoScroll.vy = vy;\n\n\t\t\t\t\tclearInterval(autoScroll.pid);\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tautoScroll.pid = setInterval(function () {\n\t\t\t\t\t\t\tscrollOffsetY = vy ? vy * speed : 0;\n\t\t\t\t\t\t\tscrollOffsetX = vx ? vx * speed : 0;\n\n\t\t\t\t\t\t\tif ('function' === typeof(scrollCustomFn)) {\n\t\t\t\t\t\t\t\treturn scrollCustomFn.call(_this, scrollOffsetX, scrollOffsetY, evt);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (el === win) {\n\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + scrollOffsetX, win.pageYOffset + scrollOffsetY);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.scrollTop += scrollOffsetY;\n\t\t\t\t\t\t\t\tel.scrollLeft += scrollOffsetX;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 24);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 30),\n\n\t\t_prepareGroup = function (options) {\n\t\t\tfunction toFn(value, pull) {\n\t\t\t\tif (value === void 0 || value === true) {\n\t\t\t\t\tvalue = group.name;\n\t\t\t\t}\n\n\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\treturn value;\n\t\t\t\t} else {\n\t\t\t\t\treturn function (to, from) {\n\t\t\t\t\t\tvar fromGroup = from.options.group.name;\n\n\t\t\t\t\t\treturn pull\n\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t: value && (value.join\n\t\t\t\t\t\t\t\t? value.indexOf(fromGroup) > -1\n\t\t\t\t\t\t\t\t: (fromGroup == value)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar group = {};\n\t\t\tvar originalGroup = options.group;\n\n\t\t\tif (!originalGroup || typeof originalGroup != 'object') {\n\t\t\t\toriginalGroup = {name: originalGroup};\n\t\t\t}\n\n\t\t\tgroup.name = originalGroup.name;\n\t\t\tgroup.checkPull = toFn(originalGroup.pull, true);\n\t\t\tgroup.checkPut = toFn(originalGroup.put);\n\t\t\tgroup.revertClone = originalGroup.revertClone;\n\n\t\t\toptions.group = group;\n\t\t}\n\t;\n\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow 'Sortable: `el` must be HTMLElement, and not ' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: Math.random(),\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tdragClass: 'sortable-drag',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tpreventOnFilter: true,\n\t\t\tanimation: 0,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\t\t\tfallbackTolerance: 0,\n\t\t\tfallbackOffset: {x: 0, y: 0}\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\t// Bind events\n\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t_on(el, 'touchstart', this._onTapStart);\n\t\t_on(el, 'pointerdown', this._onTapStart);\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\ttouchDragOverListeners.push(this._onDragOver);\n\n\t\t// Restore sorting\n\t\toptions.store && this.sort(options.store.get(this));\n\t}\n\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\tpreventOnFilter = options.preventOnFilter,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = evt.target.shadowRoot && (evt.path && evt.path[0]) || target,\n\t\t\t\tfilter = options.filter,\n\t\t\t\tstartIndex;\n\n\t\t\t_saveInputCheckedState(el);\n\n\n\t\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\t\t\tif (dragEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button or enabled\n\t\t\t}\n\n\n\t\t\ttarget = _closest(target, options.draggable, el);\n\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (lastDownEl === target) {\n\t\t\t\t// Ignoring duplicate `down`\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get the index of the dragged element within its parent\n\t\t\tstartIndex = _index(target, options.draggable);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, startIndex);\n\t\t\t\t\tpreventOnFilter && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, startIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tpreventOnFilter && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target, startIndex);\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target, /** Number */startIndex) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\ttapEvt = evt;\n\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tlastDownEl = target;\n\t\t\t\tactiveGroup = options.group;\n\t\t\t\toldIndex = startIndex;\n\n\t\t\t\tthis._lastX = (touch || evt).clientX;\n\t\t\t\tthis._lastY = (touch || evt).clientY;\n\n\t\t\t\tdragEl.style['will-change'] = 'transform';\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDrag();\n\n\t\t\t\t\t// Make the element draggable\n\t\t\t\t\tdragEl.draggable = _this.nativeDraggable;\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, options.chosenClass, true);\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(evt, touch);\n\n\t\t\t\t\t// Drag start event\n\t\t\t\t\t_dispatchEvent(_this, rootEl, 'choose', dragEl, rootEl, oldIndex);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'pointercancel', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'selectstart', _this);\n\n\t\t\t\tif (options.delay) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'pointermove', _this._disableDelayedDrag);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\n\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchmove', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'pointermove', this._disableDelayedDrag);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\n\t\t\ttouch = touch || (evt.pointerType == 'touch' ? evt : null);\n\n\t\t\tif (touch) {\n\t\t\t\t// Touch device support\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: touch.clientX,\n\t\t\t\t\tclientY: touch.clientY\n\t\t\t\t};\n\n\t\t\t\tthis._onDragStart(tapEvt, 'touch');\n\t\t\t}\n\t\t\telse if (!this.nativeDraggable) {\n\t\t\t\tthis._onDragStart(tapEvt, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\t// Timeout neccessary for IE9\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function () {\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\tvar options = this.options;\n\n\t\t\t\t// Apply effect\n\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\t\t\t\t_toggleClass(dragEl, options.dragClass, false);\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);\n\t\t\t} else {\n\t\t\t\tthis._nulling();\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function () {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t\t}\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\n\t\t\t\t\tparent = target,\n\t\t\t\t\ti = touchDragOverListeners.length;\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando]) {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\t\tif (tapEvt) {\n\t\t\t\tvar\toptions = this.options,\n\t\t\t\t\tfallbackTolerance = options.fallbackTolerance,\n\t\t\t\t\tfallbackOffset = options.fallbackOffset,\n\t\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tdx = (touch.clientX - tapEvt.clientX) + fallbackOffset.x,\n\t\t\t\t\tdy = (touch.clientY - tapEvt.clientY) + fallbackOffset.y,\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active) {\n\t\t\t\t\tif (fallbackTolerance &&\n\t\t\t\t\t\tmin(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY)) < fallbackTolerance\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._dragStarted();\n\t\t\t\t}\n\n\t\t\t\t// as well as creating the ghost element on the document body\n\t\t\t\tthis._appendGhost();\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar rect = dragEl.getBoundingClientRect(),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options,\n\t\t\t\t\tghostRect;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\t\t\t\t_toggleClass(ghostEl, options.dragClass, true);\n\n\t\t\t\t_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));\n\t\t\t\t_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', 'fixed');\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\toptions.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\n\n\t\t\t\t// Fixing dimensions.\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\n\t\t\t\t_css(ghostEl, 'width', rect.width * 2 - ghostRect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height * 2 - ghostRect.height);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {\n\t\t\tvar dataTransfer = evt.dataTransfer,\n\t\t\t\toptions = this.options;\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (activeGroup.checkPull(this, this, dragEl, evt)) {\n\t\t\t\tcloneEl = _clone(dragEl);\n\n\t\t\t\tcloneEl.draggable = false;\n\t\t\t\tcloneEl.style['will-change'] = '';\n\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\t_toggleClass(cloneEl, this.options.chosenClass, false);\n\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t_dispatchEvent(this, rootEl, 'clone', dragEl);\n\t\t\t}\n\n\t\t\t_toggleClass(dragEl, options.dragClass, true);\n\n\t\t\tif (useFallback) {\n\t\t\t\tif (useFallback === 'touch') {\n\t\t\t\t\t// Bind touch events\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'touchend', this._onDrop);\n\t\t\t\t\t_on(document, 'touchcancel', this._onDrop);\n\t\t\t\t\t_on(document, 'pointermove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'pointerup', this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t// Old brwoser\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'mouseup', this._onDrop);\n\t\t\t\t}\n\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 50);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', this);\n\t\t\t\tsetTimeout(this._dragStarted, 0);\n\t\t\t}\n\t\t},\n\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget,\n\t\t\t\tdragRect,\n\t\t\t\ttargetRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tactiveSortable = Sortable.active,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tisMovingBetweenSortable = false,\n\t\t\t\tcanSort = options.sort;\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation();\n\t\t\t}\n\n\t\t\tif (dragEl.animated) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmoved = true;\n\n\t\t\tif (activeSortable && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: (\n\t\t\t\t\t\tputSortable === this ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t(activeSortable.lastPullMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) &&\n\t\t\t\t\t\t\tgroup.checkPut(this, activeSortable, dragEl, evt)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) &&\n\t\t\t\t(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\n\t\t\t) {\n\t\t\t\t// Smart auto-scrolling\n\t\t\t\t_autoScroll(evt, options, this.el);\n\n\t\t\t\tif (_silent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttarget = _closest(evt.target, options.draggable, el);\n\t\t\t\tdragRect = dragEl.getBoundingClientRect();\n\n\t\t\t\tif (putSortable !== this) {\n\t\t\t\t\tputSortable = this;\n\t\t\t\t\tisMovingBetweenSortable = true;\n\t\t\t\t}\n\n\t\t\t\tif (revert) {\n\t\t\t\t\t_cloneHide(activeSortable, true);\n\t\t\t\t\tparentEl = rootEl; // actualization\n\n\t\t\t\t\tif (cloneEl || nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, cloneEl || nextEl);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!canSort) {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\n\t\t\t\t\t(el === evt.target) && (_ghostIsLast(el, evt))\n\t\t\t\t) {\n\t\t\t\t\t//assign target only if condition is true\n\t\t\t\t\tif (el.children.length !== 0 && el.children[0] !== ghostEl && el === evt.target) {\n\t\t\t\t\t\ttarget = el.lastElementChild;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tif (target.animated) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\t\t\t\t\t}\n\n\t\t\t\t\t_cloneHide(activeSortable, isOwner);\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt) !== false) {\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {\n\t\t\t\t\tif (lastEl !== target) {\n\t\t\t\t\t\tlastEl = target;\n\t\t\t\t\t\tlastCSS = _css(target);\n\t\t\t\t\t\tlastParentCSS = _css(target.parentNode);\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\n\t\t\t\t\tvar width = targetRect.right - targetRect.left,\n\t\t\t\t\t\theight = targetRect.bottom - targetRect.top,\n\t\t\t\t\t\tfloating = R_FLOAT.test(lastCSS.cssFloat + lastCSS.display)\n\t\t\t\t\t\t\t|| (lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0),\n\t\t\t\t\t\tisWide = (target.offsetWidth > dragEl.offsetWidth),\n\t\t\t\t\t\tisLong = (target.offsetHeight > dragEl.offsetHeight),\n\t\t\t\t\t\thalfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\n\t\t\t\t\t\tnextSibling = target.nextElementSibling,\n\t\t\t\t\t\tafter = false\n\t\t\t\t\t;\n\n\t\t\t\t\tif (floating) {\n\t\t\t\t\t\tvar elTop = dragEl.offsetTop,\n\t\t\t\t\t\t\ttgTop = target.offsetTop;\n\n\t\t\t\t\t\tif (elTop === tgTop) {\n\t\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (target.previousElementSibling === dragEl || dragEl.previousElementSibling === target) {\n\t\t\t\t\t\t\tafter = (evt.clientY - targetRect.top) / height > 0.5;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter = tgTop > elTop;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (!isMovingBetweenSortable) {\n\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\t_cloneHide(activeSortable, isOwner);\n\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\tthis._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = target.getBoundingClientRect();\n\n\t\t\t\tif (prevRect.nodeType === 1) {\n\t\t\t\t\tprevRect = prevRect.getBoundingClientRect();\n\t\t\t\t}\n\n\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t+ (prevRect.left - currentRect.left) + 'px,'\n\t\t\t\t\t+ (prevRect.top - currentRect.top) + 'px,0)'\n\t\t\t\t);\n\n\t\t\t\ttarget.offsetWidth; // repaint\n\n\t\t\t\t_css(target, 'transition', 'all ' + ms + 'ms');\n\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\n\t\t\t\tclearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(document, 'pointermove', this._onTouchMove);\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointerup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointercancel', this._onDrop);\n\t\t\t_off(ownerDocument, 'selectstart', this);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\n\t\t\tclearInterval(this._loopId);\n\t\t\tclearInterval(autoScroll.pid);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (rootEl === parentEl || Sortable.active.lastPullMode !== 'clone') {\n\t\t\t\t\t// Remove clone\n\t\t\t\t\tcloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\t\t\t\t\tdragEl.style['will-change'] = '';\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\t// Drag stop event\n\t\t\t\t\t_dispatchEvent(this, rootEl, 'unchoose', dragEl, rootEl, oldIndex);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\t/* jshint eqnull:true */\n\t\t\t\t\t\tif (newIndex == null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._nulling();\n\t\t},\n\n\t\t_nulling: function() {\n\t\t\trootEl =\n\t\t\tdragEl =\n\t\t\tparentEl =\n\t\t\tghostEl =\n\t\t\tnextEl =\n\t\t\tcloneEl =\n\t\t\tlastDownEl =\n\n\t\t\tscrollEl =\n\t\t\tscrollParentEl =\n\n\t\t\ttapEvt =\n\t\t\ttouchEvt =\n\n\t\t\tmoved =\n\t\t\tnewIndex =\n\n\t\t\tlastEl =\n\t\t\tlastCSS =\n\n\t\t\tputSortable =\n\t\t\tactiveGroup =\n\t\t\tSortable.active = null;\n\n\t\t\tsavedInputChecked.forEach(function (el) {\n\t\t\t\tel.checked = true;\n\t\t\t});\n\t\t\tsavedInputChecked.length = 0;\n\t\t},\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tswitch (evt.type) {\n\t\t\t\tcase 'drop':\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis._onDrop(evt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'dragover':\n\t\t\t\tcase 'dragenter':\n\t\t\t\t\tif (dragEl) {\n\t\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'selectstart':\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\t\t\t_off(el, 'pointerdown', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n\t\t\tthis._onDrop();\n\n\t\t\tthis.el = el = null;\n\t\t}\n\t};\n\n\n\tfunction _cloneHide(sortable, state) {\n\t\tif (sortable.lastPullMode !== 'clone') {\n\t\t\tstate = true;\n\t\t}\n\n\t\tif (cloneEl && (cloneEl.state !== state)) {\n\t\t\t_css(cloneEl, 'display', state ? 'none' : '');\n\n\t\t\tif (!state) {\n\t\t\t\tif (cloneEl.state) {\n\t\t\t\t\tif (sortable.options.group.revertClone) {\n\t\t\t\t\t\trootEl.insertBefore(cloneEl, nextEl);\n\t\t\t\t\t\tsortable._animate(dragEl, cloneEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcloneEl.state = state;\n\t\t}\n\t}\n\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\n\t\t\tdo {\n\t\t\t\tif ((selector === '>*' && el.parentNode === ctx) || _matches(el, selector)) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t\t/* jshint boss:true */\n\t\t\t} while (el = _getParentOrHost(el));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _getParentOrHost(el) {\n\t\tvar parent = el.host;\n\n\t\treturn (parent && parent.nodeType) ? parent : el.parentNode;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, captureMode);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, captureMode);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style)) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\n\t\tsortable = (sortable || rootEl[expando]);\n\n\t\tvar evt = document.createEvent('Event'),\n\t\t\toptions = sortable.options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\n\t\tevt.initEvent(name, true, true);\n\n\t\tevt.to = rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\trootEl.dispatchEvent(evt);\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvt, willInsertAfter) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\n\t\tevt = document.createEvent('Event');\n\t\tevt.initEvent('move', true, true);\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || toEl.getBoundingClientRect();\n\t\tevt.willInsertAfter = willInsertAfter;\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt, originalEvt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\n\t/** @returns {HTMLElement|false} */\n\tfunction _ghostIsLast(el, evt) {\n\t\tvar lastEl = el.lastElementChild,\n\t\t\trect = lastEl.getBoundingClientRect();\n\n\t\t// 5  min delta\n\t\t// abs   ,      \n\t\treturn (evt.clientY - (rect.top + rect.height) > 5) ||\n\t\t\t(evt.clientX - (rect.left + rect.width) > 5);\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent for a selected set of\n\t * elements\n\t * @param  {HTMLElement} el\n\t * @param  {selector} selector\n\t * @return {number}\n\t */\n\tfunction _index(el, selector) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && (selector === '>*' || _matches(el, selector))) {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _matches(/**HTMLElement*/el, /**String*/selector) {\n\t\tif (el) {\n\t\t\tselector = selector.split('.');\n\n\t\t\tvar tag = selector.shift().toUpperCase(),\n\t\t\t\tre = new RegExp('\\\\s(' + selector.join('|') + ')(?=\\\\s)', 'g');\n\n\t\t\treturn (\n\t\t\t\t(tag === '' || el.nodeName.toUpperCase() == tag) &&\n\t\t\t\t(!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length)\n\t\t\t);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction _throttle(callback, ms) {\n\t\tvar args, _this;\n\n\t\treturn function () {\n\t\t\tif (args === void 0) {\n\t\t\t\targs = arguments;\n\t\t\t\t_this = this;\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\targs = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\tfunction _clone(el) {\n\t\treturn $\n\t\t\t? $(el).clone(true)[0]\n\t\t\t: (Polymer && Polymer.dom\n\t\t\t\t? Polymer.dom(el).cloneNode(true)\n\t\t\t\t: el.cloneNode(true)\n\t\t\t);\n\t}\n\n\tfunction _saveInputCheckedState(root) {\n\t\tvar inputs = root.getElementsByTagName('input');\n\t\tvar idx = inputs.length;\n\n\t\twhile (idx--) {\n\t\t\tvar el = inputs[idx];\n\t\t\tel.checked && savedInputChecked.push(el);\n\t\t}\n\t}\n\n\t// Fixed #973: \n\t_on(document, 'touchmove', function (evt) {\n\t\tif (Sortable.active) {\n\t\t\tevt.preventDefault();\n\t\t}\n\t});\n\n\ttry {\n\t\twindow.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n\t\t\tget: function () {\n\t\t\t\tcaptureMode = {\n\t\t\t\t\tcapture: false,\n\t\t\t\t\tpassive: false\n\t\t\t\t};\n\t\t\t}\n\t\t}));\n\t} catch (err) {}\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tclone: _clone,\n\t\tindex: _index\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.6.1';\n\treturn Sortable;\n});\n\n},{}],12:[function(require,module,exports){\n'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar t = require('./../translator').translate('blocks.bigtext.');\n\nfunction getCode() {\n  return '<div class=\"cell\"><p class=\"desc\">' + t('description') + '</p></div>\\n      <div class=\"cell\"><textarea class=\"in name text\"></textarea></div>';\n}\n\nfunction assemble() {\n  var block = wrap('bigtext', getCode());\n  init(block);\n  return block;\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./../translator\":42,\"./util\":28}],14:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar _require2 = require('./../fields/fields'),\n    read = _require2.read,\n    write = _require2.write;\n\nvar t = require('./../translator').translate('blocks.countlist.');\n\nfunction update(el) {\n  var rows = [].slice.call(el.querySelectorAll('.row'));\n  var total = rows.reduce(function (acc, row) {\n    var units = read(row.querySelector('.units'));\n    return acc + units;\n  }, 0);\n  write(el.querySelector('.total'), total);\n  hideEmpty(el.querySelectorAll('.countlist-item'));\n}\n\nfunction hideEmpty(items) {\n  var lastEmpty = false;\n  [].slice.call(items).forEach(function (item) {\n    var values = item.querySelectorAll('input');\n    var empty = values[0].value === '' && values[1].value === '';\n    if (lastEmpty && empty) {\n      item.style.display = 'none';\n    } else {\n      item.style.display = 'flex';\n    }\n    lastEmpty = empty;\n  });\n}\n\nvar header = '<div class=\"cell\"><div class=\"countlist-header grid-x\">\\n    <div class=\"cell medium-10\"><p class=\"desc\">' + t('unit') + '</p></div>\\n    <div class=\"cell medium-2\"><p class=\"desc\">' + t('count') + '</p></div>\\n  </div></div>';\nvar row = '<div class=\"row grid-x countlist-item\">\\n    <div class=\"cell medium-10\"><input type=\"text\" class=\"in text\"></div>\\n    <div class=\"cell medium-2\"><input type=\"text\" class=\"in number units\"></div>\\n  </div>';\nvar totals = '<div class=\"totals grid-x\">\\n    <div class=\"cell medium-10\"><p class=\"desc\">' + t('total') + '</p></div>\\n    <div class=\"cell medium-2\"><input type=\"text\" class=\"out name number total\"></div>\\n  </div>';\n\nfunction assemble() {\n  var block = wrap('countlist', header + ' <div class=\"cell\">' + row.repeat(10) + ' ' + totals + '</div>');\n  init(block, update);\n  return block;\n}\n\nmodule.exports = { assemble: assemble, update: update };\n\n},{\"./../fields/fields\":36,\"./../translator\":42,\"./util\":28}],15:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar t = require('./../translator').translate('blocks.dateinput.');\n\nfunction getCode() {\n  return '<div class=\"cell medium-3\">\\n        <input type=\"text\" class=\"in name date\">\\n      </div>\\n      <div class=\"cell medium-9\">\\n        <p class=\"desc\">' + t('description') + '</p>\\n      </div>';\n}\n\nfunction assemble() {\n  var block = wrap('dateinput', getCode());\n  init(block);\n  return block;\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./../translator\":42,\"./util\":28}],16:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar t = require('./../translator').translate('blocks.dateoutput.');\n\nfunction getCode() {\n  var todo = '<div class=\"grid-x todo\">\\n    <div class=\"cell small-1\"></div>\\n    <div class=\"cell small-11\">\\n      <div class=\"input-group\">\\n        <label class=\"input-group-label\"><input type=\"checkbox\" class=\"in checkbox\"></label>\\n        <input type=\"text\" class=\"input-group-field in text\">\\n      </div>\\n    </div>\\n  </div>';\n\n  return '<div class=\"cell medium-3\">\\n        <input type=\"text\" class=\"out formula date\">\\n      </div>\\n      <div class=\"cell medium-9\">\\n        <p class=\"desc\">' + t('description') + '</p>\\n      </div>\\n      <div class=\"cell\">\\n        ' + todo.repeat(10) + '\\n      </div>';\n}\n\nfunction update(el) {\n  hideEmpty(el.querySelectorAll('.todo'));\n}\n\nfunction hideEmpty(items) {\n  var lastEmpty = false;\n  [].slice.call(items).forEach(function (item) {\n    var empty = item.querySelector('[type=\"text\"]').value === '';\n    if (lastEmpty && empty) {\n      item.style.display = 'none';\n    } else {\n      item.style.display = 'flex';\n    }\n    lastEmpty = empty;\n  });\n}\n\nfunction assemble() {\n  var block = wrap('dateoutput', getCode());\n  init(block, update);\n  return block;\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./../translator\":42,\"./util\":28}],17:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar t = require('./../translator').translate('blocks.doubletext.');\n\nfunction getCode() {\n  return '<div class=\"cell medium-6\">\\n      <p class=\"desc\">' + t('description') + '</p>\\n      <textarea class=\"in name text\"></textarea>\\n    </div>\\n    <div class=\"cell medium-6\">\\n      <p class=\"desc\">' + t('description') + '</p>\\n      <textarea class=\"in name text\"></textarea>\\n    </div>';\n}\n\nfunction assemble() {\n  var block = wrap('doubletext', getCode());\n  init(block);\n  return block;\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./../translator\":42,\"./util\":28}],18:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nfunction getCode() {\n  return '<div class=\"cell\"><p style=\"height: 1rem\">&nbsp;</p></div>';\n}\n\nfunction assemble() {\n  var block = wrap('final', getCode());\n  init(block);\n  return block;\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./util\":28}],19:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar t = require('./../translator').translate('blocks.header.');\n\nfunction getCode() {\n  return '\\n    <div class=\"cell medium-6 card-info\">\\n      <h4 class=\"desc card-name\">' + t('title') + '</h4>\\n      <p class=\"desc\">' + t('short') + '</p>\\n    </div>\\n    <div class=\"cell medium-6 card-info\">\\n      <h4>' + t('authorHeading') + '</h4>\\n      <p class=\"desc\">' + t('author') + '</p>\\n      <h4>' + t('licenseHeading') + '</h4>\\n      <p class=\"desc\">' + t('license') + '</p>\\n    </div>\\n    <div class=\"cell\">\\n      <p><label class=\"desc\">' + t('activityName') + '</label>\\n        <input name=\"_activity-name\" type=\"text\" class=\"in text\">\\n      </label></p>\\n    </div>\\n    <div class=\"cell medium-6\">\\n      <p><label>\\n        ' + t('goal') + '<br>\\n        <textarea class=\"in text\"></textarea>\\n      </label></p>\\n    </div>\\n    <div class=\"cell medium-6\">\\n      <p><label>\\n        ' + t('notes') + '<br>\\n        <textarea class=\"in text\"></textarea>\\n      </label></p>\\n    </div>';\n}\n\nfunction assemble() {\n  var block = wrap('header', getCode());\n  init(block);\n  return block;\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./../translator\":42,\"./util\":28}],20:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar _require2 = require('./../fields/fields'),\n    read = _require2.read;\n\nvar t = require('./../translator').translate('blocks.indicator.');\n\nfunction update(el) {\n  if (read(el.querySelector('.bool'))) {\n    el.classList.add('true');\n  } else {\n    el.classList.remove('true');\n  }\n}\n\nvar code = '\\n<div class=\"cell is-true\">\\n  <p class=\"icon\"><i class=\"fa fa-check\" aria-hidden=\"true\"></i></p>\\n  <p class=\"desc\">' + t('isTrue') + '</p>\\n</div>\\n<div class=\"cell is-false\">\\n  <p class=\"icon\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i></p>\\n  <p class=\"desc\">' + t('isFalse') + '</p>\\n</div>\\n<div class=\"cell hide-in-fill-mode\"><input type=\"text\" class=\"out name formula bool\"></div>';\n\nfunction assemble() {\n  var block = wrap('indicator', '' + code);\n  init(block, update);\n  return block;\n}\n\nmodule.exports = { assemble: assemble, update: update };\n\n},{\"./../fields/fields\":36,\"./../translator\":42,\"./util\":28}],21:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar t = require('./../translator').translate('blocks.note.');\n\nfunction getCode() {\n  return '<div class=\"cell\"><p class=\"desc\">' + t('text') + '</p></div>';\n}\n\nfunction assemble() {\n  var block = wrap('note', getCode());\n  init(block);\n  return block;\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./../translator\":42,\"./util\":28}],22:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar t = require('./../translator').translate('blocks.number.');\n\nfunction getCode() {\n  return '<div class=\"cell medium-3\">\\n    <input type=\"text\" class=\"in name number\">\\n  </div>\\n  <div class=\"cell medium-9\">\\n    <p class=\"desc\">' + t('description') + '</p>\\n  </div>\\n  ';\n}\n\nfunction assemble() {\n  var block = wrap('number', getCode());\n  init(block);\n  return block;\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./../translator\":42,\"./util\":28}],23:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar _require2 = require('./../fields/fields'),\n    read = _require2.read,\n    write = _require2.write;\n\nvar t = require('./../translator').translate('blocks.pricelist.');\n\nfunction update(el) {\n  var rows = [].slice.call(el.querySelectorAll('.row'));\n  var total = rows.reduce(function (acc, row) {\n    var price = read(row.querySelector('.price'));\n    var units = read(row.querySelector('.units'));\n    write(row.querySelector('.subtotal'), price * units);\n    return acc + price * units;\n  }, 0);\n  write(el.querySelector('.total'), total);\n  hideEmpty(el.querySelectorAll('.pricelist-item'));\n}\n\nfunction hideEmpty(items) {\n  var lastEmpty = false;\n  [].slice.call(items).forEach(function (item) {\n    var values = item.querySelectorAll('input');\n    var empty = values[0].value === '' && values[1].value === '' && values[2].value === '';\n    if (lastEmpty && empty) {\n      item.style.display = 'none';\n    } else {\n      item.style.display = 'flex';\n    }\n    lastEmpty = empty;\n  });\n}\nvar header = '<div class=\"cell\"><div class=\"pricelist-header grid-x\">\\n    <div class=\"cell medium-6\"><p class=\"desc\">' + t('item') + '</p></div>\\n    <div class=\"cell medium-2\"><p class=\"desc\">' + t('price') + '</p></div>\\n    <div class=\"cell medium-2\"><p class=\"desc\">' + t('count') + '</p></div>\\n    <div class=\"cell medium-2\"><p class=\"desc\">' + t('total') + '</p></div>\\n  </div></div>';\nvar row = '<div class=\"row grid-x pricelist-item\">\\n    <div class=\"cell medium-6\"><input type=\"text\" class=\"in text\"></div>\\n    <div class=\"cell medium-2\"><input type=\"text\" class=\"in number price\"></div>\\n    <div class=\"cell medium-2\"><input type=\"text\" class=\"in number units\"></div>\\n    <div class=\"cell medium-2\"><input type=\"text\" class=\"out number subtotal\"></div>\\n  </div>';\nvar totals = '<div class=\"totals grid-x\">\\n    <div class=\"cell medium-6\"><p class=\"desc\">' + t('total') + '</p></div>\\n    <div class=\"cell medium-6\"><input type=\"text\" class=\"out name number total\"></div>\\n  </div>';\n\nfunction assemble() {\n  var block = wrap('pricelist', header + ' <div class=\"cell\">' + row.repeat(10) + ' ' + totals + '</div>');\n  init(block, update);\n  return block;\n}\n\nmodule.exports = { assemble: assemble, update: update };\n\n},{\"./../fields/fields\":36,\"./../translator\":42,\"./util\":28}],24:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap;\n\nfunction assemble() {\n  return wrap('separator', '<div class=\"cell\"><hr></div>');\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./util\":28}],25:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar t = require('./../translator').translate('blocks.subhead.');\n\nfunction getCode() {\n  return '\\n    <div class=\"cell\">\\n      <h4 class=\"desc card-name\">' + t('text') + '</h4>\\n    </div>';\n}\n\nfunction assemble() {\n  var block = wrap('subhead', getCode());\n  init(block);\n  return block;\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./../translator\":42,\"./util\":28}],26:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    wrap = _require.wrap,\n    init = _require.init;\n\nvar t = require('./../translator').translate('blocks.sum.');\n\nfunction getCode() {\n  return '<div class=\"cell medium-6\">\\n    <p class=\"desc\">' + t('description') + '</p>\\n  </div>\\n  <div class=\"cell medium-6\">\\n    <input type=\"text\" class=\"out name formula number\">\\n  </div>';\n}\n\nfunction assemble() {\n  var block = wrap('sum', getCode());\n  init(block);\n  return block;\n}\n\nmodule.exports = { assemble: assemble };\n\n},{\"./../translator\":42,\"./util\":28}],27:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./../util.js'),\n    allArray = _require.allArray;\n\nvar fields = require('./../fields/fields');\nvar autosize = require('autosize');\n\nvar bigtext = require('./_bigtext');\nvar countlist = require('./_countlist');\nvar dateinput = require('./_dateinput');\nvar dateoutput = require('./_dateoutput');\nvar doubletext = require('./_doubletext');\nvar final = require('./_final');\nvar header = require('./_header');\nvar indicator = require('./_indicator');\nvar pricelist = require('./_pricelist');\nvar note = require('./_note');\nvar number = require('./_number');\nvar separator = require('./_separator');\nvar subhead = require('./_subhead');\nvar sum = require('./_sum');\n\nvar all = {\n  bigtext: bigtext,\n  countlist: countlist,\n  dateinput: dateinput,\n  dateoutput: dateoutput,\n  doubletext: doubletext,\n  final: final,\n  header: header,\n  indicator: indicator,\n  pricelist: pricelist,\n  note: note,\n  number: number,\n  separator: separator,\n  subhead: subhead,\n  sum: sum\n};\n\nvar nav = {\n  text: ['bigtext', 'doubletext', '---', 'number', 'sum', '---', 'dateinput', 'dateoutput'],\n  list: ['countlist', 'pricelist'],\n  context: ['subhead', 'note', 'separator', '---', 'indicator']\n};\n\nfunction create(type, data) {\n  var block = all[type].assemble();\n  if (data) fill(block, data);\n  if (all[type].update) all[type].update(block);\n  autosize(block.querySelectorAll('textarea'));\n  return block;\n}\n\nfunction poll(wrapper) {\n  return {\n    type: wrapper.dataset.type,\n    data: {\n      inputs: pollFieldType(wrapper, '.in'),\n      descriptions: pollFieldType(wrapper, '.desc'),\n      names: pollNames(wrapper),\n      formulas: pollFormulas(wrapper)\n    }\n  };\n}\n\nfunction pollFieldType(wrapper, fieldName) {\n  return allArray(wrapper, fieldName).map(function (el) {\n    return fields.read(el);\n  });\n}\n\nfunction pollNames(wrapper) {\n  return allArray(wrapper, '.name-setter').map(function (el) {\n    return el.value;\n  });\n}\n\nfunction pollFormulas(wrapper) {\n  return allArray(wrapper, '.formula-setter').map(function (el) {\n    return el.value;\n  });\n}\n\nfunction fill(wrapper, data) {\n  fillFieldType(wrapper, '.in', data.inputs);\n  fillFieldType(wrapper, '.desc', data.descriptions);\n  fillNames(wrapper, data.names);\n  fillFormulas(wrapper, data.formulas);\n}\n\nfunction fillFieldType(wrapper, fieldName, data) {\n  if (data) {\n    allArray(wrapper, fieldName).forEach(function (el, index) {\n      if (data[index]) fields.write(el, data[index]);\n    });\n  }\n}\n\nfunction fillNames(wrapper, data) {\n  if (data) {\n    allArray(wrapper, '.name-setter').forEach(function (el, index) {\n      if (data[index]) {\n        el.value = data[index];\n        el.dispatchEvent(new Event('input'));\n      }\n    });\n  }\n}\n\nfunction fillFormulas(wrapper, data) {\n  if (data) {\n    allArray(wrapper, '.formula-setter').forEach(function (el, index) {\n      if (data[index]) {\n        el.value = data[index];\n        el.dispatchEvent(new Event('input'));\n      }\n    });\n  }\n}\n\nmodule.exports = {\n  create: create,\n  poll: poll,\n  fill: fill,\n  all: all,\n  nav: nav\n};\n\n},{\"./../fields/fields\":36,\"./../util.js\":44,\"./_bigtext\":13,\"./_countlist\":14,\"./_dateinput\":15,\"./_dateoutput\":16,\"./_doubletext\":17,\"./_final\":18,\"./_header\":19,\"./_indicator\":20,\"./_note\":21,\"./_number\":22,\"./_pricelist\":23,\"./_separator\":24,\"./_subhead\":25,\"./_sum\":26,\"autosize\":1}],28:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./../util.js'),\n    allArray = _require.allArray;\n\nvar fields = require('./../fields/fields');\nvar t = require('./../translator').translate;\n\nfunction wrap(type, html) {\n  var wrapper = document.createElement('DIV');\n  wrapper.classList.add('grid-x');\n  wrapper.classList.add('grid-margin-x');\n  wrapper.classList.add('block');\n  wrapper.dataset.type = type;\n  wrapper.classList.add('block-' + type);\n  wrapper.innerHTML = html;\n  var tools = document.createElement('DIV');\n  tools.classList.add('cell');\n  tools.classList.add('block-tools');\n  tools.innerHTML = '\\n    <div class=\"external-tools\">\\n      <a class=\"add-block tool\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i></a>\\n    </div>\\n    <p class=\"internal-tools\">\\n      <span class=\"block-handle\">\\n        <i class=\"fa fa-bars\" aria-hidden=\"true\"></i>\\n        ' + t('blocks', type, 'name') + '\\n      </span>\\n      <a class=\"remove-block tool\">\\n        <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\\n      </a>\\n    </p>';\n  wrapper.insertAdjacentElement('afterbegin', tools);\n  return wrapper;\n}\n\nfunction init(wrapper, update) {\n  Object.keys(fields.all).forEach(function (key) {\n    allArray(wrapper, '.' + key).forEach(function (el) {\n      return fields.all[key].init(el);\n    });\n  });\n  wrapper.addEventListener('externalUpdate', function () {\n    if (update) update(wrapper);\n  });\n  allArray(wrapper, '.in').forEach(function (el) {\n    return el.addEventListener('input', function () {\n      if (update) update(wrapper);\n    });\n  });\n}\n\nmodule.exports = { wrap: wrap, init: init };\n\n},{\"./../fields/fields\":36,\"./../translator\":42,\"./../util.js\":44}],29:[function(require,module,exports){\n'use strict';\n\nvar sortable = require('sortablejs');\nvar autosize = require('autosize');\nvar fields = require('./fields/fields');\nvar parser = require('expr-eval').Parser;\n\nvar store = require('./store');\nvar blocks = require('./blocks/blocks');\nvar workspace = require('./workspace');\nvar t = require('./translator').translate;\n\nvar _require = require('./util'),\n    allArray = _require.allArray,\n    findAncestor = _require.findAncestor,\n    setClasses = _require.setClasses;\n\nvar card = document.getElementById('card');\n\nvar autosaveInterval = 5000;\nvar autosaveTimer = void 0;\n\nvar updateInterval = 180;\nvar updateTimer = void 0;\n\nvar blockSort = void 0;\n\nfunction getName() {\n  var nameEl = document.querySelector('[name=\"_activity-name\"]');\n  return nameEl && nameEl.value ? nameEl.value : 'karta';\n}\n\nfunction getTemplateName() {\n  var nameEl = document.querySelector('.card-name');\n  return nameEl && nameEl.innerHTML ? nameEl.innerHTML : 'ablona';\n}\n\nvar blockActions = {\n  'swap-blocks': function swapBlocks(button) {\n    var block = findAncestor(button, 'block');\n    var previous = block.previousSibling;\n    if (previous) block.parentNode.insertBefore(block, previous);\n  },\n  'remove-block': function removeBlock(button) {\n    var block = findAncestor(button, 'block');\n    block.remove();\n  },\n  'add-block': function addBlock(button) {\n    if (button.classList.contains('opened')) {\n      findAncestor(button, 'block-tools').querySelector('.add-block-tool').remove();\n      button.classList.remove('opened');\n    } else {\n      var tools = findAncestor(button, 'block-tools');\n      tools.insertAdjacentElement('beforeend', createAddBlockTool());\n      button.classList.add('opened');\n    }\n  },\n  'add-block-type': function addBlockType(button) {\n    var block = findAncestor(button, 'block');\n    var newBlock = blocks.create(button.dataset.type);\n    block.insertAdjacentElement('beforebegin', newBlock);\n    allArray(newBlock, '.desc').forEach(function (el) {\n      el.setAttribute('contenteditable', 'true');\n    });\n    findAncestor(button, 'block-tools').querySelector('.add-block').classList.remove('opened');\n    findAncestor(button, 'add-block-tool').remove();\n  }\n};\n\nfunction triggerBlockToolAction(e) {\n  var target = e.target.classList.contains('tool') ? e.target : e.target.parentNode.classList.contains('tool') ? e.target.parentNode : null;\n\n  if (target) {\n    Object.keys(blockActions).forEach(function (key) {\n      if (target.classList.contains(key)) blockActions[key](target);\n    });\n  }\n}\n\nfunction createAddBlockTool() {\n  var addBlockTool = document.createElement('DIV');\n  addBlockTool.classList.add('add-block-tool');\n  addBlockTool.innerHTML = '<div class=\"arrow-up\"></div><div class=\"content grid-x grid-margin-x\"></div>';\n  var content = addBlockTool.querySelector('.content');\n\n  Object.keys(blocks.nav).forEach(function (navGroup) {\n    var fragment = document.createDocumentFragment();\n    var section = document.createElement('section');\n\n    setClasses(section, ['cell', 'medium-4']);\n    section.innerHTML = '<p>' + t('blockNav', navGroup) + '</p>';\n    fragment.appendChild(section);\n\n    blocks.nav[navGroup].forEach(function (key) {\n      if (key === '---') {\n        section.appendChild(document.createElement('HR'));\n      } else {\n        var blockLink = document.createElement('A');\n        setClasses(blockLink, ['tool', 'add-block-type']);\n        blockLink.dataset.type = key;\n        blockLink.innerHTML = t('blocks', key, 'name');\n        section.appendChild(blockLink);\n      }\n    });\n\n    content.appendChild(fragment);\n  });\n\n  return addBlockTool;\n}\n\nfunction pollData(empty) {\n  var cardExport = [];\n  allArray(card, '.block').forEach(function (block) {\n    var info = blocks.poll(block);\n    if (empty) info.data.inputs = [];\n    cardExport.push(info);\n  });\n  return cardExport;\n}\n\nfunction startAutosave() {\n  clearInterval(autosaveTimer);\n  autosaveTimer = setInterval(save, autosaveInterval);\n}\n\nfunction stopAutosave() {\n  clearInterval(autosaveTimer);\n}\n\nfunction download() {\n  store.exportCard(getName(), pollData());\n}\n\nfunction downloadTemplate() {\n  store.exportCard(getTemplateName(), pollData(true));\n}\n\nfunction fileImport(files, callback) {\n  store.importFromFile(files, callback);\n}\n\nfunction urlImport(query, callback) {\n  if (query.cardurl) {\n    store.importFromUrl(query.cardurl, callback);\n  } else if (query.cardjson) {\n    store.importFromEncodedString(query.cardjson, callback);\n  }\n}\n\nfunction load(data) {\n  var fragment = document.createDocumentFragment();\n  data.forEach(function (block) {\n    fragment.appendChild(blocks.create(block.type, block.data));\n  });\n  card.appendChild(fragment);\n  update();\n  startAutosave();\n\n  if (blockSort) blockSort.destroy();\n  blockSort = sortable.create(card, {\n    animation: 150,\n    handle: '.block-handle',\n    draggable: '.block',\n    filter: '.block-header, .block-final',\n    preventOnFilter: false,\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag'\n  });\n}\n\nfunction close() {\n  stopAutosave();\n  save();\n  workspace.close();\n\n  card.innerHTML = '';\n}\n\nfunction save() {\n  workspace.save(pollData(), getTemplateName(), getName());\n}\n\nvar customFunctions = {\n  daysAfter: function daysAfter(date, days) {\n    return date.clone().add(days, 'days');\n  },\n  daysBefore: function daysBefore(date, days) {\n    return date.clone().subtract(days, 'days');\n  }\n};\n\nfunction update() {\n  var variables = Object.assign({}, collectVariables(), customFunctions);\n  updateFormulaResults(variables);\n  autosize.update(document.querySelectorAll('textarea'));\n}\n\nfunction softUpdate() {\n  clearTimeout(updateTimer);\n  updateTimer = setTimeout(update, updateInterval);\n}\n\nfunction updateFormulaResults(variables) {\n  allArray(card, '.formula').forEach(function (el) {\n    if (el.dataset.formula) {\n      fields.write(el, parser.evaluate(el.dataset.formula, variables));\n      var block = findAncestor(el, 'block');\n      block.dispatchEvent(new Event('externalUpdate'));\n    }\n  });\n}\n\nfunction collectVariables() {\n  return allArray(card, '[name]').reduce(function (acc, el) {\n    acc[el.getAttribute('name')] = fields.read(el);\n    return acc;\n  }, {});\n}\n\nmodule.exports = {\n  load: load,\n  close: close,\n  urlImport: urlImport,\n  fileImport: fileImport,\n  download: download,\n  downloadTemplate: downloadTemplate,\n  triggerBlockToolAction: triggerBlockToolAction,\n  update: update,\n  softUpdate: softUpdate\n};\n\n},{\"./blocks/blocks\":27,\"./fields/fields\":36,\"./store\":39,\"./translator\":42,\"./util\":44,\"./workspace\":45,\"autosize\":1,\"expr-eval\":4,\"sortablejs\":11}],30:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    activate = _require.activate;\n\nfunction init(el) {\n  activate(el, 'bool');\n}\n\nfunction read(el) {\n  return el.value === 'true';\n}\n\nfunction write(el, val) {\n  el.value = val;\n}\n\nmodule.exports = { init: init, read: read, write: write };\n\n},{\"./util\":37}],31:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    activate = _require.activate;\n\nfunction init(el) {\n  activate(el, 'checkbox');\n}\n\nfunction read(el) {\n  return el.checked;\n}\n\nfunction write(el, val) {\n  el.checked = val;\n}\n\nmodule.exports = { init: init, read: read, write: write };\n\n},{\"./util\":37}],32:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar moment = require('moment');\nvar Pikaday = require('pikaday');\n\nvar _require = require('./util'),\n    activate = _require.activate;\n\nvar t = require('./../translator').translate;\n\nfunction init(el) {\n  activate(el, 'date');\n  decorate(el);\n}\n\nfunction decorate(el) {\n  if (el.classList.contains('in')) {\n    new Pikaday({\n      field: el,\n      format: t('dateFormat'),\n      firstDay: 1,\n      onSelect: function onSelect() {\n        return el.dispatchEvent(new Event('input'));\n      },\n      i18n: t('pikadayNames')\n    });\n  }\n}\n\nfunction read(el) {\n  return moment(el.value, t('dateFormat'));\n}\n\nfunction write(el, val) {\n  if (typeof val === 'string') {\n    el.value = moment(val).format(t('dateFormat'));\n  } else if ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' && val.format === moment.prototype.format) {\n    el.value = val.format(t('dateFormat'));\n  }\n}\n\nmodule.exports = { init: init, read: read, write: write };\n\n},{\"./../translator\":42,\"./util\":37,\"moment\":7,\"pikaday\":9}],33:[function(require,module,exports){\n'use strict';\n\nfunction init(el) {\n  el.dataset.fieldName = 'desc';\n}\n\nfunction read(el) {\n  return el.innerHTML;\n}\n\nfunction write(el, val) {\n  el.innerHTML = val;\n}\n\nmodule.exports = { init: init, read: read, write: write };\n\n},{}],34:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    activate = _require.activate;\n\nfunction init(el) {\n  el.dataset.isFloat = el.classList.contains('float') ? 'true' : 'false';\n  activate(el, 'number');\n}\n\nfunction read(el) {\n  return parseNumber(el, el.value);\n}\n\nfunction write(el, val) {\n  el.value = parseNumber(el, val);\n}\n\nfunction parseNumber(el, val) {\n  var numeric = el.dataset.isFloat === 'true' ? parseFloat(val, 10) : parseInt(val, 10);\n  return Number.isNaN(numeric) ? 0 : numeric;\n}\n\nmodule.exports = { init: init, read: read, write: write };\n\n},{\"./util\":37}],35:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./util'),\n    activate = _require.activate;\n\nfunction init(el) {\n  activate(el, 'text');\n}\n\nfunction read(el) {\n  return el.value;\n}\n\nfunction write(el, val) {\n  el.value = val;\n}\n\nmodule.exports = { init: init, read: read, write: write };\n\n},{\"./util\":37}],36:[function(require,module,exports){\n'use strict';\n\nvar bool = require('./_bool');\nvar date = require('./_date');\nvar desc = require('./_desc');\nvar number = require('./_number');\nvar text = require('./_text');\nvar checkbox = require('./_checkbox');\n\nvar all = {\n  bool: bool,\n  date: date,\n  desc: desc,\n  number: number,\n  text: text,\n  checkbox: checkbox\n};\n\nfunction read(activeField) {\n  return all[activeField.dataset.fieldName].read(activeField);\n}\n\nfunction write(activeField, val) {\n  all[activeField.dataset.fieldName].write(activeField, val);\n}\n\nmodule.exports = { read: read, write: write, all: all };\n\n},{\"./_bool\":30,\"./_checkbox\":31,\"./_date\":32,\"./_desc\":33,\"./_number\":34,\"./_text\":35}],37:[function(require,module,exports){\n'use strict';\n\nvar t = require('./../translator').translate('fields.util.');\n\nfunction activate(el, fieldName) {\n  el.dataset.fieldName = fieldName;\n\n  var showsOutput = el.classList.contains('out') || el.classList.contains('formula');\n  if (showsOutput) el.setAttribute('readonly', 'readonly');\n\n  var descriptors = createDescriptors(el);\n  if (descriptors) el.insertAdjacentElement('afterend', descriptors);\n}\n\nfunction createDescriptors(el) {\n  var name = void 0;\n  var formula = void 0;\n\n  var descriptors = createElement('DIV', ['descriptors']);\n\n  if (el.classList.contains('name')) {\n    name = createDescriptor('name', '<i class=\"fa fa-tag\" aria-hidden=\"true\"></i>', nameInput, el);\n    descriptors.appendChild(name);\n  }\n\n  if (el.classList.contains('formula')) {\n    formula = createDescriptor('formula', '&fnof;=', appendFormula, el);\n    descriptors.appendChild(formula);\n  }\n\n  return formula || name ? descriptors : null;\n}\n\nfunction createDescriptor(type, labelHtml, listener, input) {\n  var descriptor = createElement('SPAN', ['descriptor', type + '-descriptor']);\n\n  var label = createElement('SPAN', ['descriptor-label'], labelHtml);\n  descriptor.appendChild(label);\n\n  var field = createElement('INPUT', ['descriptor-value', type + '-setter']);\n  field.addEventListener('input', function () {\n    return listener(input, field.value);\n  });\n  field.setAttribute('placeholder', t(type));\n  descriptor.appendChild(field);\n\n  return descriptor;\n}\n\nfunction createElement(name, classNames, html) {\n  var el = document.createElement(name);\n  if (classNames) el.setAttribute('class', classNames.join(' '));\n  if (html) el.innerHTML = html;\n  return el;\n}\n\nfunction nameInput(el, name) {\n  el.setAttribute('name', name);\n}\n\nfunction appendFormula(el, formula) {\n  el.dataset.formula = formula;\n}\n\nmodule.exports = { activate: activate };\n\n},{\"./../translator\":42}],38:[function(require,module,exports){\n'use strict';\n\nvar ui = require('./ui');\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  run();\n});\n\nfunction run() {\n  preventSubmit();\n\n  ui.init();\n}\n\nfunction preventSubmit() {\n  document.getElementById('card').addEventListener('submit', function (e) {\n    return e.preventDefault();\n  });\n}\n\n},{\"./ui\":43}],39:[function(require,module,exports){\n'use strict';\n\nvar fileSaver = require('file-saver');\nvar lzs = require('lz-string');\nvar t = require('./translator').translate;\n\nfunction wrapExport(title, data) {\n  var json = JSON.stringify(data);\n  var encodedJson = lzs.compressToEncodedURIComponent(json);\n  var url = 'https://jan-martinek.github.io/plancards/';\n  return '<!DOCTYPE html>\\n  <html>\\n  <head>\\n    <meta charset=\"utf-8\">\\n    <title>' + t('export.storedCard') + ' \\u201E' + title + '\\u201C</title>\\n\\n    <style>\\n      body, html {\\n        background: white;\\n      }\\n      h1, h2, p {\\n        font-family: sans-serif;\\n        font-weight: normal;\\n      }\\n      h1, h2 { margin: 2rem 0 0.5rem; }\\n      p { margin: 0 0 1rem; }\\n      .wrapper {\\n        margin: 100px auto;\\n        max-width: 450px;\\n      }\\n      .box {\\n        padding: 2rem;\\n        border: 1px solid #aaa;\\n        background: #fafafa;\\n      }\\n    </style>\\n  </head>\\n  <body>\\n    <div class=\"wrapper\">\\n      <h1>' + title + '</h1>\\n      <p>' + t('export.storedCardLong') + '</p>\\n      <div class=\"box\">\\n        <p>\\n          ' + t('export.usage') + '\\n          <a href=\"' + url + '?entry=savedCard\">' + t('export.usageLoc') + '</a>.\\n        </p>\\n\\n        <div id=\"quickLink\">\\n          <h2>' + t('export.quickLink') + '</h2>\\n          <p>\\n            ' + t('export.luck') + '\\n            <a href=\"' + url + '?cardjson=' + encodedJson + '\">' + t('export.click') + '</a>.\\n            ' + t('export.depends') + '\\n          </p>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <script>\\n      // long links do not work at all in IE\\n      // other browsers generally accept > 80k chars\\n      var ua = window.navigator.userAgent;\\n      if (ua.indexOf(\\'MSIE \\') > 0 || ua.indexOf(\\'Trident/\\') > 0) {\\n        document.getElementById(\\'quickLink\\').style.display = \\'none\\';\\n      }\\n    </script>\\n\\n\\n    <!-- !!!' + json + '!!! -->\\n  </body>\\n  </html>';\n}\n\nfunction unwrapExport(html) {\n  var matches = /<!-- !!!([\\S\\s]+)!!! -->/.exec(html);\n  if (matches) return JSON.parse(matches[1]);\n  return false;\n}\n\nfunction exportCard(title, data) {\n  var titleFallback = t('export.quickLink');\n  var contents = wrapExport(title || titleFallback, data);\n  var blob = new Blob([contents], { type: 'text/plain;charset=utf-8' });\n  var today = new Date().toISOString().split('T')[0];\n  fileSaver.saveAs(blob, (title || titleFallback) + '-' + today + '.html');\n}\n\nfunction exportTemplate(title, data) {\n  exportCard(title || t('export.template'), data);\n}\n\nfunction importFromFile(file, callback) {\n  var reader = new FileReader();\n  reader.readAsText(file);\n  reader.onload = function (e) {\n    return callback(unwrapExport(e.target.result));\n  };\n}\n\nfunction importFromUrl(url, callback) {\n  var request = new XMLHttpRequest();\n  request.open('GET', url, true);\n  request.send();\n  request.onreadystatechange = function () {\n    if (request.readyState === 4 && request.status === 200) {\n      callback(unwrapExport(request.responseText));\n    }\n  };\n}\n\nfunction importFromEncodedString(string, callback) {\n  callback(JSON.parse(lzs.decompressFromEncodedURIComponent(string)));\n}\n\nmodule.exports = {\n  importFromFile: importFromFile,\n  importFromUrl: importFromUrl,\n  importFromEncodedString: importFromEncodedString,\n  exportCard: exportCard,\n  exportTemplate: exportTemplate\n};\n\n},{\"./translator\":42,\"file-saver\":5,\"lz-string\":6}],40:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  lang: 'esky',\n  dateFormat: 'D. M. YYYY',\n  app: {\n    plancards: 'Plnovac karty',\n    editCard: 'upravit kartu',\n    editingNow: 'pravy karty',\n    download: 'sthnout',\n    templateDownload: 'sthnout ablonu',\n    saveAndClose: 'uloit a zavt'\n  },\n  home: {\n    note: 'Zaznamenvejte sv postupy',\n    improve: 'Zlepujte svou prci',\n    share: 'Sdlejte dobrou praxi',\n    tips: 'Tipy',\n    purpose: 'Na tto strnce mete vyplovat a upravovat sv plnovac karty.',\n    privacy: 'Vechny informace jsou uloeny ve vaem potai a nikam se neodeslaj, nezapomete vak sv karty proto ukldat.',\n    shareHow: 'Vytvoen karty mete sdlet s ostatnmi  polete je mailem, sdlejte je na internetu.',\n    open: 'Otevt kartu',\n    openButton: 'Otevt',\n    workspace: 'Rozpracovan karty',\n    noneOpened: 'Nemte rozpracovan dn karty.',\n    openFromFile: 'Nahrt ze souboru',\n    openFromFileHl: 'Uloen soubor vyberte zde:',\n    openFromUrl: 'Otevt pomoc odkazu',\n    openFromUrlPlaceholder: 'odkaz',\n    basic: 'Zkladn ablony',\n    footer: 'Vyvinuto v rmci projektu Profesionalizace <a href=\"http://www.ranapecezlin.cz\">Stediska ran pe EDUCO Zln z.s.</a>, kter byl podpoen z Evropskho socilnho fondu. Registran slo projektu: CZ.03.3.60/0.0/0.0/15_031/0001866.',\n    partners: 'Partnery projektu jsou <a href=\"http://fundraising.cz\">esk centrum fundraisingu</a> a <a href=\"http://muni.cz\">Masarykova univerzita</a>.'\n  },\n  pikadayNames: {\n    previousMonth: 'Pedchoz msc',\n    nextMonth: 'Nsledujc msc',\n    months: ['leden', 'nor', 'bezen', 'duben', 'kvten', 'erven', 'ervenec', 'srpen', 'z', 'jen', 'listopad', 'prosinec'],\n    weekdays: ['Nedle', 'Pondl', 'ter', 'Steda', 'tvrtek', 'Ptek', 'Sobota'],\n    weekdaysShort: ['Ne', 'Po', 't', 'St', 't', 'P', 'So']\n  },\n  blocks: {\n    bigtext: {\n      name: 'Velk textov pole',\n      description: 'Popis'\n    },\n    countlist: {\n      name: 'Polokov seznam (ks)',\n      unit: 'Poloka',\n      count: 'Poet',\n      total: 'Celkem'\n    },\n    dateinput: {\n      name: 'Termn',\n      description: 'Popis'\n    },\n    dateoutput: {\n      name: 'Milnk s koly',\n      description: 'Popis'\n    },\n    doubletext: {\n      name: 'Dv textov pole',\n      description: 'Popis'\n    },\n    final: {\n      name: 'Zvren panel'\n    },\n    header: {\n      name: 'Hlavika',\n      short: 'Krtce popite, k emu se tato karta hod.',\n      authorHeading: 'Autor/ka karty',\n      author: 'Jmno Pjmen, jmeno.prijmeni@email.cz',\n      licenseHeading: 'Licence (pravidla pro sdlen)',\n      license: 'Zde kr\\xE1tce popi\\u0161te, zda kartu sd\\xEDl\\xEDte voln\\u011B nebo zda\\n        \\u017E\\xE1d\\xE1te o dodr\\u017Een\\xED n\\u011Bjak\\xFDch pravidel (nap\\u0159. ponech\\xE1n\\xED kontaktu\\n        na p\\u016Fvodn\\xEDho autora atp. M\\u016F\\u017Eete ur\\u010Dit i konkr\\xE9tn\\xED licenci\\n        (nap\\u0159\\xEDklad Creative Commons).',\n      activityName: 'Nzev aktivity',\n      goal: 'Cl aktivity v jedn vt',\n      notes: 'Poznmky'\n    },\n    indicator: {\n      name: 'Indiktor (ano/ne)',\n      isTrue: 'Text, pokud je podmnka splnna',\n      isFalse: 'Text, pokud podmnka nen splnna'\n    },\n    pricelist: {\n      name: 'Polokov seznam (cena/ks)',\n      item: 'Poloka',\n      price: 'Cena',\n      count: 'Poet',\n      total: 'Celkem'\n    },\n    note: {\n      name: 'Poznmka',\n      text: 'Text poznmky'\n    },\n    number: {\n      name: 'seln poloka',\n      description: 'Popis seln hodnoty'\n    },\n    separator: {\n      name: 'Oddlova'\n    },\n    subhead: {\n      name: 'Mezititulek',\n      text: 'Mezititulek'\n    },\n    sum: {\n      name: 'Vpoet',\n      description: 'Popis'\n    }\n  },\n  fields: {\n    util: {\n      name: 'nzev',\n      formula: 'vzorec'\n    }\n  },\n  blockNav: {\n    text: 'Polka',\n    list: 'Seznamy',\n    context: 'Popisky'\n  },\n  export: {\n    card: 'karta',\n    template: 'ablona',\n    storedCard: 'Uloen karta',\n    storedCardLong: 'Uloen karta z aplikace Plnovac karty.',\n    usage: 'Obsah karty mete otevt a upravovat',\n    usageLoc: 'na webu Plnovacch karet',\n    quickLink: 'Rychl odkaz',\n    luck: 'S trochou tst sta',\n    click: 'kliknout na odkaz',\n    depends: 'Nen nicmn funkn vdy  zle to na prohlei a mnostv obsahu v kart.'\n  }\n};\n\n},{}],41:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  lang: 'english',\n  dateFormat: 'M/D/YYYY',\n  app: {\n    plancards: 'PlanCards',\n    editCard: 'edit card',\n    editingNow: 'editing card',\n    download: 'download',\n    templateDownload: 'download template',\n    saveAndClose: 'save and close'\n  },\n  home: {\n    note: 'Keep notes about repeating tasks',\n    improve: 'Improve solutions over time',\n    share: 'Share best practices',\n    tips: 'Tips',\n    purpose: 'Use this web app to create and edit your plan cards.',\n    privacy: 'Everything is stored in your browser. Export cards into a file to store it safely for a long time.',\n    shareHow: 'Share cards with other people  use e-mail or upload them on the web.',\n    open: 'Open card',\n    openButton: 'Open',\n    workspace: 'Opened cards',\n    noneOpened: 'You have no currently opened cards.',\n    openFromFile: 'Load from file',\n    openFromFileHl: 'Select a file from drive:',\n    openFromUrl: 'Load from a web link (URL)',\n    openFromUrlPlaceholder: 'web link',\n    basic: 'Basic templates',\n    footer: 'Developed as part of a project Profesionalization of <a href=\"http://www.ranapecezlin.cz\">Early Intervention Centre Zlin o.p.s.</a>, supported by European Social Fund. Project ID: CZ.03.3.60/0.0/0.0/15_031/0001866.',\n    partners: 'Projects partners are <a href=\"http://fundraising.cz\">Czech Fundraising Center</a> and <a href=\"http://muni.cz\">Masaryk University</a>.'\n  },\n  pikadayNames: {\n    previousMonth: 'Previous month',\n    nextMonth: 'Next month',\n    months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n  },\n  blocks: {\n    bigtext: {\n      name: 'Large text field',\n      description: 'Description'\n    },\n    countlist: {\n      name: 'Item list',\n      unit: 'Item',\n      count: 'Count',\n      total: 'Total'\n    },\n    dateinput: {\n      name: 'Date',\n      description: 'Description'\n    },\n    dateoutput: {\n      name: 'Milestone with todos',\n      description: 'Description'\n    },\n    doubletext: {\n      name: 'Two text fields',\n      description: 'Description'\n    },\n    final: {\n      name: 'Final panel'\n    },\n    header: {\n      name: 'Header',\n      short: 'A few words about the purpose of this card.',\n      authorHeading: 'Cards author',\n      author: 'Name Surname, name.surname@mailbox.xyz',\n      licenseHeading: 'License (rules for sharing)',\n      license: 'Is this card shared freely or do you want some\\n      rules to be kept (e. g. leaving your contact intact)?\\n      You can use a specific license, such as Creative Commons.',\n      activityName: 'Activity name',\n      goal: 'Goals (in one sentence)',\n      notes: 'Notes'\n    },\n    indicator: {\n      name: 'Indicator (yes/no)',\n      isTrue: 'Text displayed, when the condition is satisfied',\n      isFalse: 'Text displayed, when the condition isnt satisfied'\n    },\n    pricelist: {\n      name: 'Pricelist (price/unit)',\n      item: 'Item',\n      price: 'Price',\n      count: 'Count',\n      total: 'Total'\n    },\n    note: {\n      name: 'Note',\n      text: 'Notes content'\n    },\n    number: {\n      name: 'Numeric input',\n      description: 'Description of the number'\n    },\n    separator: {\n      name: 'Separator'\n    },\n    subhead: {\n      name: 'Subtitle',\n      text: 'Subtitle'\n    },\n    sum: {\n      name: 'Sum',\n      description: 'Description'\n    }\n  },\n  fields: {\n    util: {\n      name: 'name',\n      formula: 'formula'\n    }\n  },\n  blockNav: {\n    text: 'Fields',\n    list: 'Lists',\n    context: 'Structure'\n  },\n  export: {\n    card: 'card',\n    template: 'template',\n    storedCard: 'Saved card',\n    storedCardLong: 'A card saved in the web app Plan Cards.',\n    usage: 'You can view and edit the contents of this card on the',\n    usageLoc: 'PlanCards website',\n    quickLink: 'Quick Link',\n    luck: 'With a little bit of luck, it might be enough',\n    click: 'to just click this link',\n    depends: 'It does not work all the time it depends on your browser and the content of the card.'\n  }\n};\n\n},{}],42:[function(require,module,exports){\n'use strict';\n\nvar cs = require('./translations/cs');\nvar en = require('./translations/en');\nvar cookies = require('doc-cookies');\n\nvar _require = require('./util'),\n    allArray = _require.allArray;\n\nvar dictionaries = {\n  en: en,\n  cs: cs\n};\n\nvar dictionary = dictionaries[getLang()];\n\nfunction getLang() {\n  var saved = cookies.hasItem('lang') && dictionaries[cookies.getItem('lang')];\n  return saved ? cookies.getItem('lang') : 'en';\n}\n\nfunction setLang(lang) {\n  if (dictionaries[lang]) {\n    cookies.setItem('lang', lang);\n    dictionary = dictionaries[lang];\n  }\n}\n\nfunction getLanguages() {\n  return Object.keys(dictionaries).map(function (short) {\n    return { short: short, name: dictionaries[short].lang };\n  });\n}\n\nfunction translate(keys) {\n  if (keys.match(/\\.$/)) {\n    return function (subkey) {\n      return translate(keys + subkey);\n    };\n  }\n\n  var keylist = arguments.length > 1 ? [].slice.call(arguments) : keys.split('.');\n  return keylist.reduce(function (prev, curr) {\n    return prev ? prev[curr] : undefined;\n  }, dictionary);\n}\n\nfunction refreshTranslations() {\n  var currentLang = getLang();\n\n  allArray(document.querySelector('html'), '[data-phrase]').forEach(function (el) {\n    if (el.dataset.currentLang !== currentLang) {\n      el.dataset.currentLang = currentLang;\n      if (el.dataset.tt) {\n        el.setAttribute(el.dataset.tt, translate(el.dataset.phrase));\n      } else {\n        el.innerHTML = translate(el.dataset.phrase);\n      }\n    }\n  });\n}\n\nmodule.exports = {\n  setLang: setLang,\n  getLang: getLang,\n  getLanguages: getLanguages,\n  translate: translate,\n  refreshTranslations: refreshTranslations\n};\n\n},{\"./translations/cs\":40,\"./translations/en\":41,\"./util\":44,\"doc-cookies\":3}],43:[function(require,module,exports){\n'use strict';\n\nvar queryString = require('query-string');\nvar moment = require('moment');\n\nvar card = require('./card');\nvar workspace = require('./workspace');\nvar translator = require('./translator');\n\nvar _require = require('./util'),\n    allArray = _require.allArray,\n    findAncestor = _require.findAncestor,\n    removeUrlParams = _require.removeUrlParams,\n    setClasses = _require.setClasses,\n    show = _require.show,\n    hide = _require.hide;\n\nvar t = translator.translate;\n\nfunction init() {\n  bindActions();\n  initImport();\n  updateLangSelector();\n  showDashboard();\n}\n\n// General\nfunction updateLangSelector() {\n  var langs = translator.getLanguages();\n  var current = translator.getLang();\n\n  document.querySelector('.lang-selector').innerHTML = langs.map(function (lang) {\n    return '<a href=\"#\"\\n        data-lang=\"' + lang.short + '\"\\n        ' + (current === lang.short ? 'class=\"current\"' : '') + '\\n      >' + lang.name + '</a>';\n  }).join(' &middot; ');\n}\n\nfunction bindActions() {\n  var clickActions = {\n    '.mode-toggle': toggleMode,\n    '#close': closeCard,\n    '#save': card.download,\n    '#saveTemplate': card.downloadTemplate,\n    '#card': card.triggerBlockToolAction,\n    '#workspace': triggerWorkspaceAction\n  };\n\n  Object.keys(clickActions).forEach(function (elId) {\n    document.querySelector(elId).addEventListener('click', function (event) {\n      event.preventDefault();\n      clickActions[elId](event);\n    });\n  });\n\n  document.querySelectorAll('.lang-selector a').forEach(function (el) {\n    el.addEventListener('click', function () {\n      translator.setLang(el.dataset.lang);\n      translator.refreshTranslations();\n      updateLangSelector();\n    });\n  });\n\n  document.body.addEventListener('input', function () {\n    return card.softUpdate();\n  });\n}\n\n// App mode\nfunction showDashboard() {\n  show('dashboard');\n  hide('card', 'toolbar');\n\n  refreshWorkspace();\n  translator.refreshTranslations();\n}\n\nfunction openCard(data) {\n  hide('dashboard');\n  show('card', 'toolbar');\n\n  card.load(data);\n  setFillMode();\n}\n\nfunction closeCard() {\n  card.close();\n  showDashboard();\n}\n\n// Card editing mode\nfunction setEditMode() {\n  setClasses(document.body, ['edit-mode'], ['fill-mode']);\n  allArray(document.body, '.desc').forEach(function (el) {\n    el.setAttribute('contenteditable', 'true');\n  });\n}\n\nfunction setFillMode() {\n  setClasses(document.body, ['fill-mode'], ['edit-mode']);\n  allArray(document.body, '.desc').forEach(function (el) {\n    el.removeAttribute('contenteditable');\n  });\n  card.update();\n}\n\nfunction toggleMode() {\n  if (document.body.classList.contains('fill-mode')) setEditMode();else setFillMode();\n}\n\n// Dashboard\nfunction initImport() {\n  document.getElementById('loadFromFile').addEventListener('change', function (e) {\n    card.fileImport(e.target.files[0], openCard);\n  });\n\n  var query = queryString.parse(window.location.search);\n  if (query.entry && query.entry === 'savedCard') {\n    highlightFileImport();\n    removeUrlParams();\n  } else if (query.cardjson || query.cardurl) {\n    card.urlImport(query, openCard);\n    removeUrlParams();\n  }\n}\n\nfunction highlightFileImport() {\n  var input = document.getElementById('loadFromFile');\n  var label = findAncestor(input, 'callout');\n  label.insertBefore(document.createTextNode(t('openFromFileHl') + ' '), input);\n  label.classList.add('labelHighlight');\n}\n\nfunction triggerWorkspaceAction(e) {\n  if (e.target.classList.contains('card-link')) {\n    openCard(workspace.open(e.target.dataset.id).card);\n  } else if (e.target.classList.contains('card-remove')) {\n    workspace.remove(e.target.dataset.id);\n    refreshWorkspace();\n  }\n}\n\nfunction refreshWorkspace() {\n  var list = workspace.list();\n  var workspaceEl = document.getElementById('workspace');\n  workspaceEl.innerHTML = '';\n\n  if (list.length > 0) {\n    var fragment = document.createDocumentFragment();\n    list.forEach(function (openedCard) {\n      var date = moment(openedCard.mtime).format(t('dateFormat'));\n      var item = document.createElement('LI');\n      item.innerHTML = '<p>\\n        <a class=\"card-link\" data-id=\"' + openedCard.id + '\">' + openedCard.cardName + '</a>\\n        <i class=\"fa fa-times card-remove\" data-id=\"' + openedCard.id + '\" aria-hidden=\"true\"></i>\\n        <br>\\n        <span class=\"label\">' + openedCard.templateName + '</span>\\n        <span class=\"label\">' + date + '</span>\\n      </p>';\n      fragment.appendChild(item);\n    });\n    workspaceEl.appendChild(fragment);\n    hide('none-opened');\n  } else {\n    show('none-opened');\n  }\n}\n\nmodule.exports = { init: init };\n\n},{\"./card\":29,\"./translator\":42,\"./util\":44,\"./workspace\":45,\"moment\":7,\"query-string\":10}],44:[function(require,module,exports){\n'use strict';\n\nfunction makeArray(nodelist) {\n  return [].slice.call(nodelist);\n}\n\nfunction allArray(el, query) {\n  return makeArray(el.querySelectorAll(query));\n}\n\nfunction findAncestor(el, className) {\n  var parent = el.parentElement;\n\n  if (parent.classList.contains(className)) return parent;\n  return findAncestor(parent, className);\n}\n\nfunction setClasses(el, add, remove) {\n  if (add && add.length > 0) {\n    add.forEach(function (className) {\n      return el.classList.add(className);\n    });\n  }\n  if (remove && remove.length > 0) {\n    remove.forEach(function (className) {\n      return el.classList.remove(className);\n    });\n  }\n}\n\nvar displayValues = {\n  card: { shown: 'block', hidden: 'none' },\n  toolbar: { shown: 'flex', hidden: 'none' },\n  dashboard: { shown: 'flex', hidden: 'none' },\n  'none-opened': { shown: 'block', hidden: 'none' }\n};\n\nfunction show() {\n  [].forEach.call(arguments, function (id) {\n    document.getElementById(id).style.display = displayValues[id].shown;\n  });\n}\n\nfunction hide() {\n  [].forEach.call(arguments, function (id) {\n    document.getElementById(id).style.display = displayValues[id].hidden;\n  });\n}\n\nfunction removeUrlParams() {\n  window.history.replaceState(null, null, '' + window.location.pathname);\n}\n\nmodule.exports = {\n  allArray: allArray,\n  findAncestor: findAncestor,\n  setClasses: setClasses,\n  show: show,\n  hide: hide,\n  removeUrlParams: removeUrlParams\n};\n\n},{}],45:[function(require,module,exports){\n\"use strict\";\n\nvar currentId = void 0;\n\nfunction save(data, templateName, cardName) {\n  var now = new Date().getTime();\n  if (!currentId) currentId = \"card\" + now;\n\n  localStorage.setItem(currentId, JSON.stringify({\n    id: currentId,\n    templateName: templateName,\n    cardName: cardName,\n    mtime: now,\n    card: data\n  }));\n}\n\nfunction load(id) {\n  return JSON.parse(localStorage.getItem(id));\n}\n\nfunction open(id) {\n  currentId = id;\n  return load(id);\n}\n\nfunction close() {\n  currentId = null;\n}\n\nfunction remove(id) {\n  localStorage.removeItem(id);\n}\n\nfunction list() {\n  return Object.keys(localStorage).filter(function (key) {\n    return key.match(/^card\\d+$/);\n  }).map(function (key) {\n    return load(key);\n  }).sort(function (a, b) {\n    return b.mtime - a.mtime;\n  });\n}\n\nmodule.exports = {\n  save: save,\n  load: load,\n  open: open,\n  close: close,\n  remove: remove,\n  list: list\n};\n\n},{}]},{},[38])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYXV0b3NpemUvZGlzdC9hdXRvc2l6ZS5qcyIsIm5vZGVfbW9kdWxlcy9kZWNvZGUtdXJpLWNvbXBvbmVudC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9kb2MtY29va2llcy9kb2NDb29raWVzLnVtZC5qcyIsIm5vZGVfbW9kdWxlcy9leHByLWV2YWwvZGlzdC9idW5kbGUuanMiLCJub2RlX21vZHVsZXMvZmlsZS1zYXZlci9GaWxlU2F2ZXIuanMiLCJub2RlX21vZHVsZXMvbHotc3RyaW5nL2xpYnMvbHotc3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzL21vbWVudC9tb21lbnQuanMiLCJub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9waWthZGF5L3Bpa2FkYXkuanMiLCJub2RlX21vZHVsZXMvcXVlcnktc3RyaW5nL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3NvcnRhYmxlanMvU29ydGFibGUuanMiLCJub2RlX21vZHVsZXMvc3RyaWN0LXVyaS1lbmNvZGUvaW5kZXguanMiLCJzcmMvanMvYmxvY2tzL19iaWd0ZXh0LmpzIiwic3JjL2pzL2Jsb2Nrcy9fY291bnRsaXN0LmpzIiwic3JjL2pzL2Jsb2Nrcy9fZGF0ZWlucHV0LmpzIiwic3JjL2pzL2Jsb2Nrcy9fZGF0ZW91dHB1dC5qcyIsInNyYy9qcy9ibG9ja3MvX2RvdWJsZXRleHQuanMiLCJzcmMvanMvYmxvY2tzL19maW5hbC5qcyIsInNyYy9qcy9ibG9ja3MvX2hlYWRlci5qcyIsInNyYy9qcy9ibG9ja3MvX2luZGljYXRvci5qcyIsInNyYy9qcy9ibG9ja3MvX25vdGUuanMiLCJzcmMvanMvYmxvY2tzL19udW1iZXIuanMiLCJzcmMvanMvYmxvY2tzL19wcmljZWxpc3QuanMiLCJzcmMvanMvYmxvY2tzL19zZXBhcmF0b3IuanMiLCJzcmMvanMvYmxvY2tzL19zdWJoZWFkLmpzIiwic3JjL2pzL2Jsb2Nrcy9fc3VtLmpzIiwic3JjL2pzL2Jsb2Nrcy9ibG9ja3MuanMiLCJzcmMvanMvYmxvY2tzL3V0aWwuanMiLCJzcmMvanMvY2FyZC5qcyIsInNyYy9qcy9maWVsZHMvX2Jvb2wuanMiLCJzcmMvanMvZmllbGRzL19jaGVja2JveC5qcyIsInNyYy9qcy9maWVsZHMvX2RhdGUuanMiLCJzcmMvanMvZmllbGRzL19kZXNjLmpzIiwic3JjL2pzL2ZpZWxkcy9fbnVtYmVyLmpzIiwic3JjL2pzL2ZpZWxkcy9fdGV4dC5qcyIsInNyYy9qcy9maWVsZHMvZmllbGRzLmpzIiwic3JjL2pzL2ZpZWxkcy91dGlsLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvc3RvcmUuanMiLCJzcmMvanMvdHJhbnNsYXRpb25zL2NzLmpzIiwic3JjL2pzL3RyYW5zbGF0aW9ucy9lbi5qcyIsInNyYy9qcy90cmFuc2xhdG9yLmpzIiwic3JjL2pzL3VpLmpzIiwic3JjL2pzL3V0aWwuanMiLCJzcmMvanMvd29ya3NwYWNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDblNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzlGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMTVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDLzJJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcHRDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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dW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyohXG5cdEF1dG9zaXplIDQuMC4wXG5cdGxpY2Vuc2U6IE1JVFxuXHRodHRwOi8vd3d3LmphY2tsbW9vcmUuY29tL2F1dG9zaXplXG4qL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShbJ2V4cG9ydHMnLCAnbW9kdWxlJ10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuXHRcdGZhY3RvcnkoZXhwb3J0cywgbW9kdWxlKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgbW9kID0ge1xuXHRcdFx0ZXhwb3J0czoge31cblx0XHR9O1xuXHRcdGZhY3RvcnkobW9kLmV4cG9ydHMsIG1vZCk7XG5cdFx0Z2xvYmFsLmF1dG9zaXplID0gbW9kLmV4cG9ydHM7XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzLCBtb2R1bGUpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYXAgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiAoZnVuY3Rpb24gKCkge1xuXHRcdHZhciBrZXlzID0gW107XG5cdFx0dmFyIHZhbHVlcyA9IFtdO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGhhczogZnVuY3Rpb24gaGFzKGtleSkge1xuXHRcdFx0XHRyZXR1cm4ga2V5cy5pbmRleE9mKGtleSkgPiAtMTtcblx0XHRcdH0sXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlc1trZXlzLmluZGV4T2Yoa2V5KV07XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRpZiAoa2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG5cdFx0XHRcdFx0a2V5cy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0dmFsdWVzLnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0J2RlbGV0ZSc6IGZ1bmN0aW9uIF9kZWxldGUoa2V5KSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IGtleXMuaW5kZXhPZihrZXkpO1xuXHRcdFx0XHRpZiAoaW5kZXggPiAtMSkge1xuXHRcdFx0XHRcdGtleXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHR2YWx1ZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0pKCk7XG5cblx0dmFyIGNyZWF0ZUV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlRXZlbnQobmFtZSkge1xuXHRcdHJldHVybiBuZXcgRXZlbnQobmFtZSwgeyBidWJibGVzOiB0cnVlIH0pO1xuXHR9O1xuXHR0cnkge1xuXHRcdG5ldyBFdmVudCgndGVzdCcpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gSUUgZG9lcyBub3Qgc3VwcG9ydCBgbmV3IEV2ZW50KClgXG5cdFx0Y3JlYXRlRXZlbnQgPSBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0dmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHRcdFx0ZXZ0LmluaXRFdmVudChuYW1lLCB0cnVlLCBmYWxzZSk7XG5cdFx0XHRyZXR1cm4gZXZ0O1xuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBhc3NpZ24odGEpIHtcblx0XHRpZiAoIXRhIHx8ICF0YS5ub2RlTmFtZSB8fCB0YS5ub2RlTmFtZSAhPT0gJ1RFWFRBUkVBJyB8fCBtYXAuaGFzKHRhKSkgcmV0dXJuO1xuXG5cdFx0dmFyIGhlaWdodE9mZnNldCA9IG51bGw7XG5cdFx0dmFyIGNsaWVudFdpZHRoID0gdGEuY2xpZW50V2lkdGg7XG5cdFx0dmFyIGNhY2hlZEhlaWdodCA9IG51bGw7XG5cblx0XHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdFx0dmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpO1xuXG5cdFx0XHRpZiAoc3R5bGUucmVzaXplID09PSAndmVydGljYWwnKSB7XG5cdFx0XHRcdHRhLnN0eWxlLnJlc2l6ZSA9ICdub25lJztcblx0XHRcdH0gZWxzZSBpZiAoc3R5bGUucmVzaXplID09PSAnYm90aCcpIHtcblx0XHRcdFx0dGEuc3R5bGUucmVzaXplID0gJ2hvcml6b250YWwnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc3R5bGUuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnKSB7XG5cdFx0XHRcdGhlaWdodE9mZnNldCA9IC0ocGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKSArIHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGVpZ2h0T2Zmc2V0ID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKTtcblx0XHRcdH1cblx0XHRcdC8vIEZpeCB3aGVuIGEgdGV4dGFyZWEgaXMgbm90IG9uIGRvY3VtZW50IGJvZHkgYW5kIGhlaWdodE9mZnNldCBpcyBOb3QgYSBOdW1iZXJcblx0XHRcdGlmIChpc05hTihoZWlnaHRPZmZzZXQpKSB7XG5cdFx0XHRcdGhlaWdodE9mZnNldCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZSgpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNoYW5nZU92ZXJmbG93KHZhbHVlKSB7XG5cdFx0XHR7XG5cdFx0XHRcdC8vIENocm9tZS9TYWZhcmktc3BlY2lmaWMgZml4OlxuXHRcdFx0XHQvLyBXaGVuIHRoZSB0ZXh0YXJlYSB5LW92ZXJmbG93IGlzIGhpZGRlbiwgQ2hyb21lL1NhZmFyaSBkbyBub3QgcmVmbG93IHRoZSB0ZXh0IHRvIGFjY291bnQgZm9yIHRoZSBzcGFjZVxuXHRcdFx0XHQvLyBtYWRlIGF2YWlsYWJsZSBieSByZW1vdmluZyB0aGUgc2Nyb2xsYmFyLiBUaGUgZm9sbG93aW5nIGZvcmNlcyB0aGUgbmVjZXNzYXJ5IHRleHQgcmVmbG93LlxuXHRcdFx0XHR2YXIgd2lkdGggPSB0YS5zdHlsZS53aWR0aDtcblx0XHRcdFx0dGEuc3R5bGUud2lkdGggPSAnMHB4Jztcblx0XHRcdFx0Ly8gRm9yY2UgcmVmbG93OlxuXHRcdFx0XHQvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5cdFx0XHRcdHRhLm9mZnNldFdpZHRoO1xuXHRcdFx0XHQvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXHRcdFx0XHR0YS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0fVxuXG5cdFx0XHR0YS5zdHlsZS5vdmVyZmxvd1kgPSB2YWx1ZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXRQYXJlbnRPdmVyZmxvd3MoZWwpIHtcblx0XHRcdHZhciBhcnIgPSBbXTtcblxuXHRcdFx0d2hpbGUgKGVsICYmIGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcblx0XHRcdFx0aWYgKGVsLnBhcmVudE5vZGUuc2Nyb2xsVG9wKSB7XG5cdFx0XHRcdFx0YXJyLnB1c2goe1xuXHRcdFx0XHRcdFx0bm9kZTogZWwucGFyZW50Tm9kZSxcblx0XHRcdFx0XHRcdHNjcm9sbFRvcDogZWwucGFyZW50Tm9kZS5zY3JvbGxUb3Bcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbCA9IGVsLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhcnI7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVzaXplKCkge1xuXHRcdFx0dmFyIG9yaWdpbmFsSGVpZ2h0ID0gdGEuc3R5bGUuaGVpZ2h0O1xuXHRcdFx0dmFyIG92ZXJmbG93cyA9IGdldFBhcmVudE92ZXJmbG93cyh0YSk7XG5cdFx0XHR2YXIgZG9jVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7IC8vIE5lZWRlZCBmb3IgTW9iaWxlIElFICh0aWNrZXQgIzI0MClcblxuXHRcdFx0dGEuc3R5bGUuaGVpZ2h0ID0gJyc7XG5cblx0XHRcdHZhciBlbmRIZWlnaHQgPSB0YS5zY3JvbGxIZWlnaHQgKyBoZWlnaHRPZmZzZXQ7XG5cblx0XHRcdGlmICh0YS5zY3JvbGxIZWlnaHQgPT09IDApIHtcblx0XHRcdFx0Ly8gSWYgdGhlIHNjcm9sbEhlaWdodCBpcyAwLCB0aGVuIHRoZSBlbGVtZW50IHByb2JhYmx5IGhhcyBkaXNwbGF5Om5vbmUgb3IgaXMgZGV0YWNoZWQgZnJvbSB0aGUgRE9NLlxuXHRcdFx0XHR0YS5zdHlsZS5oZWlnaHQgPSBvcmlnaW5hbEhlaWdodDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR0YS5zdHlsZS5oZWlnaHQgPSBlbmRIZWlnaHQgKyAncHgnO1xuXG5cdFx0XHQvLyB1c2VkIHRvIGNoZWNrIGlmIGFuIHVwZGF0ZSBpcyBhY3R1YWxseSBuZWNlc3Nhcnkgb24gd2luZG93LnJlc2l6ZVxuXHRcdFx0Y2xpZW50V2lkdGggPSB0YS5jbGllbnRXaWR0aDtcblxuXHRcdFx0Ly8gcHJldmVudHMgc2Nyb2xsLXBvc2l0aW9uIGp1bXBpbmdcblx0XHRcdG92ZXJmbG93cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0XHRlbC5ub2RlLnNjcm9sbFRvcCA9IGVsLnNjcm9sbFRvcDtcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoZG9jVG9wKSB7XG5cdFx0XHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBkb2NUb3A7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdXBkYXRlKCkge1xuXHRcdFx0cmVzaXplKCk7XG5cblx0XHRcdHZhciBzdHlsZUhlaWdodCA9IE1hdGgucm91bmQocGFyc2VGbG9hdCh0YS5zdHlsZS5oZWlnaHQpKTtcblx0XHRcdHZhciBjb21wdXRlZCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKTtcblxuXHRcdFx0Ly8gVXNpbmcgb2Zmc2V0SGVpZ2h0IGFzIGEgcmVwbGFjZW1lbnQgZm9yIGNvbXB1dGVkLmhlaWdodCBpbiBJRSwgYmVjYXVzZSBJRSBkb2VzIG5vdCBhY2NvdW50IHVzZSBvZiBib3JkZXItYm94XG5cdFx0XHR2YXIgYWN0dWFsSGVpZ2h0ID0gY29tcHV0ZWQuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnID8gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGNvbXB1dGVkLmhlaWdodCkpIDogdGEub2Zmc2V0SGVpZ2h0O1xuXG5cdFx0XHQvLyBUaGUgYWN0dWFsIGhlaWdodCBub3QgbWF0Y2hpbmcgdGhlIHN0eWxlIGhlaWdodCAoc2V0IHZpYSB0aGUgcmVzaXplIG1ldGhvZCkgaW5kaWNhdGVzIHRoYXRcblx0XHRcdC8vIHRoZSBtYXgtaGVpZ2h0IGhhcyBiZWVuIGV4Y2VlZGVkLCBpbiB3aGljaCBjYXNlIHRoZSBvdmVyZmxvdyBzaG91bGQgYmUgYWxsb3dlZC5cblx0XHRcdGlmIChhY3R1YWxIZWlnaHQgIT09IHN0eWxlSGVpZ2h0KSB7XG5cdFx0XHRcdGlmIChjb21wdXRlZC5vdmVyZmxvd1kgPT09ICdoaWRkZW4nKSB7XG5cdFx0XHRcdFx0Y2hhbmdlT3ZlcmZsb3coJ3Njcm9sbCcpO1xuXHRcdFx0XHRcdHJlc2l6ZSgpO1xuXHRcdFx0XHRcdGFjdHVhbEhlaWdodCA9IGNvbXB1dGVkLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94JyA/IE1hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YSwgbnVsbCkuaGVpZ2h0KSkgOiB0YS5vZmZzZXRIZWlnaHQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIE5vcm1hbGx5IGtlZXAgb3ZlcmZsb3cgc2V0IHRvIGhpZGRlbiwgdG8gYXZvaWQgZmxhc2ggb2Ygc2Nyb2xsYmFyIGFzIHRoZSB0ZXh0YXJlYSBleHBhbmRzLlxuXHRcdFx0XHRpZiAoY29tcHV0ZWQub3ZlcmZsb3dZICE9PSAnaGlkZGVuJykge1xuXHRcdFx0XHRcdGNoYW5nZU92ZXJmbG93KCdoaWRkZW4nKTtcblx0XHRcdFx0XHRyZXNpemUoKTtcblx0XHRcdFx0XHRhY3R1YWxIZWlnaHQgPSBjb21wdXRlZC5ib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcgPyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpLmhlaWdodCkpIDogdGEub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjYWNoZWRIZWlnaHQgIT09IGFjdHVhbEhlaWdodCkge1xuXHRcdFx0XHRjYWNoZWRIZWlnaHQgPSBhY3R1YWxIZWlnaHQ7XG5cdFx0XHRcdHZhciBldnQgPSBjcmVhdGVFdmVudCgnYXV0b3NpemU6cmVzaXplZCcpO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHRhLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0Ly8gRmlyZWZveCB3aWxsIHRocm93IGFuIGVycm9yIG9uIGRpc3BhdGNoRXZlbnQgZm9yIGEgZGV0YWNoZWQgZWxlbWVudFxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTg4OTM3NlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIHBhZ2VSZXNpemUgPSBmdW5jdGlvbiBwYWdlUmVzaXplKCkge1xuXHRcdFx0aWYgKHRhLmNsaWVudFdpZHRoICE9PSBjbGllbnRXaWR0aCkge1xuXHRcdFx0XHR1cGRhdGUoKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0dmFyIGRlc3Ryb3kgPSAoZnVuY3Rpb24gKHN0eWxlKSB7XG5cdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcGFnZVJlc2l6ZSwgZmFsc2UpO1xuXHRcdFx0dGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB1cGRhdGUsIGZhbHNlKTtcblx0XHRcdHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0XHR0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdhdXRvc2l6ZTpkZXN0cm95JywgZGVzdHJveSwgZmFsc2UpO1xuXHRcdFx0dGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignYXV0b3NpemU6dXBkYXRlJywgdXBkYXRlLCBmYWxzZSk7XG5cblx0XHRcdE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0dGEuc3R5bGVba2V5XSA9IHN0eWxlW2tleV07XG5cdFx0XHR9KTtcblxuXHRcdFx0bWFwWydkZWxldGUnXSh0YSk7XG5cdFx0fSkuYmluZCh0YSwge1xuXHRcdFx0aGVpZ2h0OiB0YS5zdHlsZS5oZWlnaHQsXG5cdFx0XHRyZXNpemU6IHRhLnN0eWxlLnJlc2l6ZSxcblx0XHRcdG92ZXJmbG93WTogdGEuc3R5bGUub3ZlcmZsb3dZLFxuXHRcdFx0b3ZlcmZsb3dYOiB0YS5zdHlsZS5vdmVyZmxvd1gsXG5cdFx0XHR3b3JkV3JhcDogdGEuc3R5bGUud29yZFdyYXBcblx0XHR9KTtcblxuXHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOmRlc3Ryb3knLCBkZXN0cm95LCBmYWxzZSk7XG5cblx0XHQvLyBJRTkgZG9lcyBub3QgZmlyZSBvbnByb3BlcnR5Y2hhbmdlIG9yIG9uaW5wdXQgZm9yIGRlbGV0aW9ucyxcblx0XHQvLyBzbyBiaW5kaW5nIHRvIG9ua2V5dXAgdG8gY2F0Y2ggbW9zdCBvZiB0aG9zZSBldmVudHMuXG5cdFx0Ly8gVGhlcmUgaXMgbm8gd2F5IHRoYXQgSSBrbm93IG9mIHRvIGRldGVjdCBzb21ldGhpbmcgbGlrZSAnY3V0JyBpbiBJRTkuXG5cdFx0aWYgKCdvbnByb3BlcnR5Y2hhbmdlJyBpbiB0YSAmJiAnb25pbnB1dCcgaW4gdGEpIHtcblx0XHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBhZ2VSZXNpemUsIGZhbHNlKTtcblx0XHR0YS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOnVwZGF0ZScsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdHRhLnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuXHRcdHRhLnN0eWxlLndvcmRXcmFwID0gJ2JyZWFrLXdvcmQnO1xuXG5cdFx0bWFwLnNldCh0YSwge1xuXHRcdFx0ZGVzdHJveTogZGVzdHJveSxcblx0XHRcdHVwZGF0ZTogdXBkYXRlXG5cdFx0fSk7XG5cblx0XHRpbml0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBkZXN0cm95KHRhKSB7XG5cdFx0dmFyIG1ldGhvZHMgPSBtYXAuZ2V0KHRhKTtcblx0XHRpZiAobWV0aG9kcykge1xuXHRcdFx0bWV0aG9kcy5kZXN0cm95KCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdXBkYXRlKHRhKSB7XG5cdFx0dmFyIG1ldGhvZHMgPSBtYXAuZ2V0KHRhKTtcblx0XHRpZiAobWV0aG9kcykge1xuXHRcdFx0bWV0aG9kcy51cGRhdGUoKTtcblx0XHR9XG5cdH1cblxuXHR2YXIgYXV0b3NpemUgPSBudWxsO1xuXG5cdC8vIERvIG5vdGhpbmcgaW4gTm9kZS5qcyBlbnZpcm9ubWVudCBhbmQgSUU4IChvciBsb3dlcilcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdGF1dG9zaXplID0gZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0XHRhdXRvc2l6ZS5kZXN0cm95ID0gZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0XHRhdXRvc2l6ZS51cGRhdGUgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGF1dG9zaXplID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XG5cdFx0XHRpZiAoZWwpIHtcblx0XHRcdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5sZW5ndGggPyBlbCA6IFtlbF0sIGZ1bmN0aW9uICh4KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGFzc2lnbih4LCBvcHRpb25zKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0XHRhdXRvc2l6ZS5kZXN0cm95ID0gZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRpZiAoZWwpIHtcblx0XHRcdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5sZW5ndGggPyBlbCA6IFtlbF0sIGRlc3Ryb3kpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdFx0YXV0b3NpemUudXBkYXRlID0gZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRpZiAoZWwpIHtcblx0XHRcdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5sZW5ndGggPyBlbCA6IFtlbF0sIHVwZGF0ZSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0gYXV0b3NpemU7XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgdG9rZW4gPSAnJVthLWYwLTldezJ9JztcbnZhciBzaW5nbGVNYXRjaGVyID0gbmV3IFJlZ0V4cCh0b2tlbiwgJ2dpJyk7XG52YXIgbXVsdGlNYXRjaGVyID0gbmV3IFJlZ0V4cCgnKCcgKyB0b2tlbiArICcpKycsICdnaScpO1xuXG5mdW5jdGlvbiBkZWNvZGVDb21wb25lbnRzKGNvbXBvbmVudHMsIHNwbGl0KSB7XG5cdHRyeSB7XG5cdFx0Ly8gVHJ5IHRvIGRlY29kZSB0aGUgZW50aXJlIHN0cmluZyBmaXJzdFxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoY29tcG9uZW50cy5qb2luKCcnKSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIERvIG5vdGhpbmdcblx0fVxuXG5cdGlmIChjb21wb25lbnRzLmxlbmd0aCA9PT0gMSkge1xuXHRcdHJldHVybiBjb21wb25lbnRzO1xuXHR9XG5cblx0c3BsaXQgPSBzcGxpdCB8fCAxO1xuXG5cdC8vIFNwbGl0IHRoZSBhcnJheSBpbiAyIHBhcnRzXG5cdHZhciBsZWZ0ID0gY29tcG9uZW50cy5zbGljZSgwLCBzcGxpdCk7XG5cdHZhciByaWdodCA9IGNvbXBvbmVudHMuc2xpY2Uoc3BsaXQpO1xuXG5cdHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmNhbGwoW10sIGRlY29kZUNvbXBvbmVudHMobGVmdCksIGRlY29kZUNvbXBvbmVudHMocmlnaHQpKTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChpbnB1dCk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdHZhciB0b2tlbnMgPSBpbnB1dC5tYXRjaChzaW5nbGVNYXRjaGVyKTtcblxuXHRcdGZvciAodmFyIGkgPSAxOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpbnB1dCA9IGRlY29kZUNvbXBvbmVudHModG9rZW5zLCBpKS5qb2luKCcnKTtcblxuXHRcdFx0dG9rZW5zID0gaW5wdXQubWF0Y2goc2luZ2xlTWF0Y2hlcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGlucHV0O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGN1c3RvbURlY29kZVVSSUNvbXBvbmVudChpbnB1dCkge1xuXHQvLyBLZWVwIHRyYWNrIG9mIGFsbCB0aGUgcmVwbGFjZW1lbnRzIGFuZCBwcmVmaWxsIHRoZSBtYXAgd2l0aCB0aGUgYEJPTWBcblx0dmFyIHJlcGxhY2VNYXAgPSB7XG5cdFx0JyVGRSVGRic6ICdcXHVGRkZEXFx1RkZGRCcsXG5cdFx0JyVGRiVGRSc6ICdcXHVGRkZEXFx1RkZGRCdcblx0fTtcblxuXHR2YXIgbWF0Y2ggPSBtdWx0aU1hdGNoZXIuZXhlYyhpbnB1dCk7XG5cdHdoaWxlIChtYXRjaCkge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBEZWNvZGUgYXMgYmlnIGNodW5rcyBhcyBwb3NzaWJsZVxuXHRcdFx0cmVwbGFjZU1hcFttYXRjaFswXV0gPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMF0pO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dmFyIHJlc3VsdCA9IGRlY29kZShtYXRjaFswXSk7XG5cblx0XHRcdGlmIChyZXN1bHQgIT09IG1hdGNoWzBdKSB7XG5cdFx0XHRcdHJlcGxhY2VNYXBbbWF0Y2hbMF1dID0gcmVzdWx0O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG1hdGNoID0gbXVsdGlNYXRjaGVyLmV4ZWMoaW5wdXQpO1xuXHR9XG5cblx0Ly8gQWRkIGAlQzJgIGF0IHRoZSBlbmQgb2YgdGhlIG1hcCB0byBtYWtlIHN1cmUgaXQgZG9lcyBub3QgcmVwbGFjZSB0aGUgY29tYmluYXRvciBiZWZvcmUgZXZlcnl0aGluZyBlbHNlXG5cdHJlcGxhY2VNYXBbJyVDMiddID0gJ1xcdUZGRkQnO1xuXG5cdHZhciBlbnRyaWVzID0gT2JqZWN0LmtleXMocmVwbGFjZU1hcCk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Ly8gUmVwbGFjZSBhbGwgZGVjb2RlZCBjb21wb25lbnRzXG5cdFx0dmFyIGtleSA9IGVudHJpZXNbaV07XG5cdFx0aW5wdXQgPSBpbnB1dC5yZXBsYWNlKG5ldyBSZWdFeHAoa2V5LCAnZycpLCByZXBsYWNlTWFwW2tleV0pO1xuXHR9XG5cblx0cmV0dXJuIGlucHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbmNvZGVkVVJJKSB7XG5cdGlmICh0eXBlb2YgZW5jb2RlZFVSSSAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBgZW5jb2RlZFVSSWAgdG8gYmUgb2YgdHlwZSBgc3RyaW5nYCwgZ290IGAnICsgdHlwZW9mIGVuY29kZWRVUkkgKyAnYCcpO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRlbmNvZGVkVVJJID0gZW5jb2RlZFVSSS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcblxuXHRcdC8vIFRyeSB0aGUgYnVpbHQgaW4gZGVjb2RlciBmaXJzdFxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlZFVSSSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIEZhbGxiYWNrIHRvIGEgbW9yZSBhZHZhbmNlZCBkZWNvZGVyXG5cdFx0cmV0dXJuIGN1c3RvbURlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkVVJJKTtcblx0fVxufTtcbiIsIihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc31nLmRvY0Nvb2tpZXMgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO1xuLypcXFxufCp8XG58KnwgIDo6IGNvb2tpZXMuanMgOjpcbnwqfFxufCp8ICBBIGNvbXBsZXRlIGNvb2tpZXMgcmVhZGVyL3dyaXRlciBmcmFtZXdvcmsgd2l0aCBmdWxsIHVuaWNvZGUgc3VwcG9ydC5cbnwqfFxufCp8ICBSZXZpc2lvbiAjMSAtIFNlcHRlbWJlciA0LCAyMDE0XG58KnxcbnwqfCAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL2RvY3VtZW50LmNvb2tpZVxufCp8ICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Vc2VyOmZ1c2lvbmNoZXNzXG58KnxcbnwqfCAgVGhpcyBmcmFtZXdvcmsgaXMgcmVsZWFzZWQgdW5kZXIgdGhlIEdOVSBQdWJsaWMgTGljZW5zZSwgdmVyc2lvbiAzIG9yIGxhdGVyLlxufCp8ICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLTMuMC1zdGFuZGFsb25lLmh0bWxcbnwqfFxufCp8ICBTeW50YXhlczpcbnwqfFxufCp8ICAqIGRvY0Nvb2tpZXMuc2V0SXRlbShuYW1lLCB2YWx1ZVssIGVuZFssIHBhdGhbLCBkb21haW5bLCBzZWN1cmVdXV1dKVxufCp8ICAqIGRvY0Nvb2tpZXMuZ2V0SXRlbShuYW1lKVxufCp8ICAqIGRvY0Nvb2tpZXMucmVtb3ZlSXRlbShuYW1lWywgcGF0aFssIGRvbWFpbl1dKVxufCp8ICAqIGRvY0Nvb2tpZXMuaGFzSXRlbShuYW1lKVxufCp8ICAqIGRvY0Nvb2tpZXMua2V5cygpXG58KnxcblxcKi9cblxudmFyIGRvY0Nvb2tpZXMgPSB7XG4gIGdldEl0ZW06IGZ1bmN0aW9uIChzS2V5KSB7XG4gICAgaWYgKCFzS2V5KSB7IHJldHVybiBudWxsOyB9XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUucmVwbGFjZShuZXcgUmVnRXhwKFwiKD86KD86XnwuKjspXFxcXHMqXCIgKyBlbmNvZGVVUklDb21wb25lbnQoc0tleSkucmVwbGFjZSgvW1xcLVxcLlxcK1xcKl0vZywgXCJcXFxcJCZcIikgKyBcIlxcXFxzKlxcXFw9XFxcXHMqKFteO10qKS4qJCl8Xi4qJFwiKSwgXCIkMVwiKSkgfHwgbnVsbDtcbiAgfSxcbiAgc2V0SXRlbTogZnVuY3Rpb24gKHNLZXksIHNWYWx1ZSwgdkVuZCwgc1BhdGgsIHNEb21haW4sIGJTZWN1cmUpIHtcbiAgICBpZiAoIXNLZXkgfHwgL14oPzpleHBpcmVzfG1heFxcLWFnZXxwYXRofGRvbWFpbnxzZWN1cmUpJC9pLnRlc3Qoc0tleSkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgdmFyIHNFeHBpcmVzID0gXCJcIjtcbiAgICBpZiAodkVuZCkge1xuICAgICAgc3dpdGNoICh2RW5kLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgIHNFeHBpcmVzID0gdkVuZCA9PT0gSW5maW5pdHkgPyBcIjsgZXhwaXJlcz1GcmksIDMxIERlYyA5OTk5IDIzOjU5OjU5IEdNVFwiIDogXCI7IG1heC1hZ2U9XCIgKyB2RW5kO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFN0cmluZzpcbiAgICAgICAgICBzRXhwaXJlcyA9IFwiOyBleHBpcmVzPVwiICsgdkVuZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBEYXRlOlxuICAgICAgICAgIHNFeHBpcmVzID0gXCI7IGV4cGlyZXM9XCIgKyB2RW5kLnRvVVRDU3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGRvY3VtZW50LmNvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChzS2V5KSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHNWYWx1ZSkgKyBzRXhwaXJlcyArIChzRG9tYWluID8gXCI7IGRvbWFpbj1cIiArIHNEb21haW4gOiBcIlwiKSArIChzUGF0aCA/IFwiOyBwYXRoPVwiICsgc1BhdGggOiBcIlwiKSArIChiU2VjdXJlID8gXCI7IHNlY3VyZVwiIDogXCJcIik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIChzS2V5LCBzUGF0aCwgc0RvbWFpbikge1xuICAgIGlmICghdGhpcy5oYXNJdGVtKHNLZXkpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGRvY3VtZW50LmNvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChzS2V5KSArIFwiPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVFwiICsgKHNEb21haW4gPyBcIjsgZG9tYWluPVwiICsgc0RvbWFpbiA6IFwiXCIpICsgKHNQYXRoID8gXCI7IHBhdGg9XCIgKyBzUGF0aCA6IFwiXCIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBoYXNJdGVtOiBmdW5jdGlvbiAoc0tleSkge1xuICAgIGlmICghc0tleSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICByZXR1cm4gKG5ldyBSZWdFeHAoXCIoPzpefDtcXFxccyopXCIgKyBlbmNvZGVVUklDb21wb25lbnQoc0tleSkucmVwbGFjZSgvW1xcLVxcLlxcK1xcKl0vZywgXCJcXFxcJCZcIikgKyBcIlxcXFxzKlxcXFw9XCIpKS50ZXN0KGRvY3VtZW50LmNvb2tpZSk7XG4gIH0sXG4gIGtleXM6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYUtleXMgPSBkb2N1bWVudC5jb29raWUucmVwbGFjZSgvKCg/Ol58XFxzKjspW15cXD1dKykoPz07fCQpfF5cXHMqfFxccyooPzpcXD1bXjtdKik/KD86XFwxfCQpL2csIFwiXCIpLnNwbGl0KC9cXHMqKD86XFw9W147XSopPztcXHMqLyk7XG4gICAgZm9yICh2YXIgbkxlbiA9IGFLZXlzLmxlbmd0aCwgbklkeCA9IDA7IG5JZHggPCBuTGVuOyBuSWR4KyspIHsgYUtleXNbbklkeF0gPSBkZWNvZGVVUklDb21wb25lbnQoYUtleXNbbklkeF0pOyB9XG4gICAgcmV0dXJuIGFLZXlzO1xuICB9XG59O1xuXG5yZXR1cm4gZG9jQ29va2llcztcblxufSk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwuZXhwckV2YWwgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbnZhciBJTlVNQkVSID0gJ0lOVU1CRVInO1xudmFyIElPUDEgPSAnSU9QMSc7XG52YXIgSU9QMiA9ICdJT1AyJztcbnZhciBJT1AzID0gJ0lPUDMnO1xudmFyIElWQVIgPSAnSVZBUic7XG52YXIgSUZVTkNBTEwgPSAnSUZVTkNBTEwnO1xudmFyIElFWFBSID0gJ0lFWFBSJztcbnZhciBJTUVNQkVSID0gJ0lNRU1CRVInO1xuXG5mdW5jdGlvbiBJbnN0cnVjdGlvbih0eXBlLCB2YWx1ZSkge1xuICB0aGlzLnR5cGUgPSB0eXBlO1xuICB0aGlzLnZhbHVlID0gKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpID8gdmFsdWUgOiAwO1xufVxuXG5JbnN0cnVjdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgY2FzZSBJTlVNQkVSOlxuICAgIGNhc2UgSU9QMTpcbiAgICBjYXNlIElPUDI6XG4gICAgY2FzZSBJT1AzOlxuICAgIGNhc2UgSVZBUjpcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIGNhc2UgSUZVTkNBTEw6XG4gICAgICByZXR1cm4gJ0NBTEwgJyArIHRoaXMudmFsdWU7XG4gICAgY2FzZSBJTUVNQkVSOlxuICAgICAgcmV0dXJuICcuJyArIHRoaXMudmFsdWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnSW52YWxpZCBJbnN0cnVjdGlvbic7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHVuYXJ5SW5zdHJ1Y3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBJbnN0cnVjdGlvbihJT1AxLCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGJpbmFyeUluc3RydWN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBuZXcgSW5zdHJ1Y3Rpb24oSU9QMiwgdmFsdWUpO1xufVxuXG5mdW5jdGlvbiB0ZXJuYXJ5SW5zdHJ1Y3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBJbnN0cnVjdGlvbihJT1AzLCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHNpbXBsaWZ5KHRva2VucywgdW5hcnlPcHMsIGJpbmFyeU9wcywgdGVybmFyeU9wcywgdmFsdWVzKSB7XG4gIHZhciBuc3RhY2sgPSBbXTtcbiAgdmFyIG5ld2V4cHJlc3Npb24gPSBbXTtcbiAgdmFyIG4xLCBuMiwgbjM7XG4gIHZhciBmO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gdG9rZW5zW2ldO1xuICAgIHZhciB0eXBlID0gaXRlbS50eXBlO1xuICAgIGlmICh0eXBlID09PSBJTlVNQkVSKSB7XG4gICAgICBuc3RhY2sucHVzaChpdGVtKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElWQVIgJiYgdmFsdWVzLmhhc093blByb3BlcnR5KGl0ZW0udmFsdWUpKSB7XG4gICAgICBpdGVtID0gbmV3IEluc3RydWN0aW9uKElOVU1CRVIsIHZhbHVlc1tpdGVtLnZhbHVlXSk7XG4gICAgICBuc3RhY2sucHVzaChpdGVtKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElPUDIgJiYgbnN0YWNrLmxlbmd0aCA+IDEpIHtcbiAgICAgIG4yID0gbnN0YWNrLnBvcCgpO1xuICAgICAgbjEgPSBuc3RhY2sucG9wKCk7XG4gICAgICBmID0gYmluYXJ5T3BzW2l0ZW0udmFsdWVdO1xuICAgICAgaXRlbSA9IG5ldyBJbnN0cnVjdGlvbihJTlVNQkVSLCBmKG4xLnZhbHVlLCBuMi52YWx1ZSkpO1xuICAgICAgbnN0YWNrLnB1c2goaXRlbSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBJT1AzICYmIG5zdGFjay5sZW5ndGggPiAyKSB7XG4gICAgICBuMyA9IG5zdGFjay5wb3AoKTtcbiAgICAgIG4yID0gbnN0YWNrLnBvcCgpO1xuICAgICAgbjEgPSBuc3RhY2sucG9wKCk7XG4gICAgICBpZiAoaXRlbS52YWx1ZSA9PT0gJz8nKSB7XG4gICAgICAgIG5zdGFjay5wdXNoKG4xLnZhbHVlID8gbjIudmFsdWUgOiBuMy52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmID0gdGVybmFyeU9wc1tpdGVtLnZhbHVlXTtcbiAgICAgICAgaXRlbSA9IG5ldyBJbnN0cnVjdGlvbihJTlVNQkVSLCBmKG4xLnZhbHVlLCBuMi52YWx1ZSwgbjMudmFsdWUpKTtcbiAgICAgICAgbnN0YWNrLnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBJT1AxICYmIG5zdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICBuMSA9IG5zdGFjay5wb3AoKTtcbiAgICAgIGYgPSB1bmFyeU9wc1tpdGVtLnZhbHVlXTtcbiAgICAgIGl0ZW0gPSBuZXcgSW5zdHJ1Y3Rpb24oSU5VTUJFUiwgZihuMS52YWx1ZSkpO1xuICAgICAgbnN0YWNrLnB1c2goaXRlbSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBJRVhQUikge1xuICAgICAgd2hpbGUgKG5zdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgIG5ld2V4cHJlc3Npb24ucHVzaChuc3RhY2suc2hpZnQoKSk7XG4gICAgICB9XG4gICAgICBuZXdleHByZXNzaW9uLnB1c2gobmV3IEluc3RydWN0aW9uKElFWFBSLCBzaW1wbGlmeShpdGVtLnZhbHVlLCB1bmFyeU9wcywgYmluYXJ5T3BzLCB0ZXJuYXJ5T3BzLCB2YWx1ZXMpKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBJTUVNQkVSICYmIG5zdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICBuMSA9IG5zdGFjay5wb3AoKTtcbiAgICAgIG5zdGFjay5wdXNoKG5ldyBJbnN0cnVjdGlvbihJTlVNQkVSLCBuMS52YWx1ZVtpdGVtLnZhbHVlXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAobnN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbmV3ZXhwcmVzc2lvbi5wdXNoKG5zdGFjay5zaGlmdCgpKTtcbiAgICAgIH1cbiAgICAgIG5ld2V4cHJlc3Npb24ucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKG5zdGFjay5sZW5ndGggPiAwKSB7XG4gICAgbmV3ZXhwcmVzc2lvbi5wdXNoKG5zdGFjay5zaGlmdCgpKTtcbiAgfVxuICByZXR1cm4gbmV3ZXhwcmVzc2lvbjtcbn1cblxuZnVuY3Rpb24gc3Vic3RpdHV0ZSh0b2tlbnMsIHZhcmlhYmxlLCBleHByKSB7XG4gIHZhciBuZXdleHByZXNzaW9uID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSB0b2tlbnNbaV07XG4gICAgdmFyIHR5cGUgPSBpdGVtLnR5cGU7XG4gICAgaWYgKHR5cGUgPT09IElWQVIgJiYgaXRlbS52YWx1ZSA9PT0gdmFyaWFibGUpIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZXhwci50b2tlbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIGV4cHJpdGVtID0gZXhwci50b2tlbnNbal07XG4gICAgICAgIHZhciByZXBsaXRlbTtcbiAgICAgICAgaWYgKGV4cHJpdGVtLnR5cGUgPT09IElPUDEpIHtcbiAgICAgICAgICByZXBsaXRlbSA9IHVuYXJ5SW5zdHJ1Y3Rpb24oZXhwcml0ZW0udmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGV4cHJpdGVtLnR5cGUgPT09IElPUDIpIHtcbiAgICAgICAgICByZXBsaXRlbSA9IGJpbmFyeUluc3RydWN0aW9uKGV4cHJpdGVtLnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChleHByaXRlbS50eXBlID09PSBJT1AzKSB7XG4gICAgICAgICAgcmVwbGl0ZW0gPSB0ZXJuYXJ5SW5zdHJ1Y3Rpb24oZXhwcml0ZW0udmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcGxpdGVtID0gbmV3IEluc3RydWN0aW9uKGV4cHJpdGVtLnR5cGUsIGV4cHJpdGVtLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdleHByZXNzaW9uLnB1c2gocmVwbGl0ZW0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gSUVYUFIpIHtcbiAgICAgIG5ld2V4cHJlc3Npb24ucHVzaChuZXcgSW5zdHJ1Y3Rpb24oSUVYUFIsIHN1YnN0aXR1dGUoaXRlbS52YWx1ZSwgdmFyaWFibGUsIGV4cHIpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld2V4cHJlc3Npb24ucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld2V4cHJlc3Npb247XG59XG5cbmZ1bmN0aW9uIGV2YWx1YXRlKHRva2VucywgZXhwciwgdmFsdWVzKSB7XG4gIHZhciBuc3RhY2sgPSBbXTtcbiAgdmFyIG4xLCBuMiwgbjM7XG4gIHZhciBmO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gdG9rZW5zW2ldO1xuICAgIHZhciB0eXBlID0gaXRlbS50eXBlO1xuICAgIGlmICh0eXBlID09PSBJTlVNQkVSKSB7XG4gICAgICBuc3RhY2sucHVzaChpdGVtLnZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElPUDIpIHtcbiAgICAgIG4yID0gbnN0YWNrLnBvcCgpO1xuICAgICAgbjEgPSBuc3RhY2sucG9wKCk7XG4gICAgICBmID0gZXhwci5iaW5hcnlPcHNbaXRlbS52YWx1ZV07XG4gICAgICBuc3RhY2sucHVzaChmKG4xLCBuMikpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gSU9QMykge1xuICAgICAgbjMgPSBuc3RhY2sucG9wKCk7XG4gICAgICBuMiA9IG5zdGFjay5wb3AoKTtcbiAgICAgIG4xID0gbnN0YWNrLnBvcCgpO1xuICAgICAgaWYgKGl0ZW0udmFsdWUgPT09ICc/Jykge1xuICAgICAgICBuc3RhY2sucHVzaChldmFsdWF0ZShuMSA/IG4yIDogbjMsIGV4cHIsIHZhbHVlcykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZiA9IGV4cHIudGVybmFyeU9wc1tpdGVtLnZhbHVlXTtcbiAgICAgICAgbnN0YWNrLnB1c2goZihuMSwgbjIsIG4zKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBJVkFSKSB7XG4gICAgICBpZiAoaXRlbS52YWx1ZSBpbiBleHByLmZ1bmN0aW9ucykge1xuICAgICAgICBuc3RhY2sucHVzaChleHByLmZ1bmN0aW9uc1tpdGVtLnZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdiA9IHZhbHVlc1tpdGVtLnZhbHVlXTtcbiAgICAgICAgaWYgKHYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5zdGFjay5wdXNoKHYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5kZWZpbmVkIHZhcmlhYmxlOiAnICsgaXRlbS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElPUDEpIHtcbiAgICAgIG4xID0gbnN0YWNrLnBvcCgpO1xuICAgICAgZiA9IGV4cHIudW5hcnlPcHNbaXRlbS52YWx1ZV07XG4gICAgICBuc3RhY2sucHVzaChmKG4xKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBJRlVOQ0FMTCkge1xuICAgICAgdmFyIGFyZ0NvdW50ID0gaXRlbS52YWx1ZTtcbiAgICAgIHZhciBhcmdzID0gW107XG4gICAgICB3aGlsZSAoYXJnQ291bnQtLSA+IDApIHtcbiAgICAgICAgYXJncy51bnNoaWZ0KG5zdGFjay5wb3AoKSk7XG4gICAgICB9XG4gICAgICBmID0gbnN0YWNrLnBvcCgpO1xuICAgICAgaWYgKGYuYXBwbHkgJiYgZi5jYWxsKSB7XG4gICAgICAgIG5zdGFjay5wdXNoKGYuYXBwbHkodW5kZWZpbmVkLCBhcmdzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZiArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElFWFBSKSB7XG4gICAgICBuc3RhY2sucHVzaChpdGVtLnZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElNRU1CRVIpIHtcbiAgICAgIG4xID0gbnN0YWNrLnBvcCgpO1xuICAgICAgbnN0YWNrLnB1c2gobjFbaXRlbS52YWx1ZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgRXhwcmVzc2lvbicpO1xuICAgIH1cbiAgfVxuICBpZiAobnN0YWNrLmxlbmd0aCA+IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgRXhwcmVzc2lvbiAocGFyaXR5KScpO1xuICB9XG4gIHJldHVybiBuc3RhY2tbMF07XG59XG5cbmZ1bmN0aW9uIGV4cHJlc3Npb25Ub1N0cmluZyh0b2tlbnMsIHRvSlMpIHtcbiAgdmFyIG5zdGFjayA9IFtdO1xuICB2YXIgbjEsIG4yLCBuMztcbiAgdmFyIGY7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSB0b2tlbnNbaV07XG4gICAgdmFyIHR5cGUgPSBpdGVtLnR5cGU7XG4gICAgaWYgKHR5cGUgPT09IElOVU1CRVIpIHtcbiAgICAgIGlmICh0eXBlb2YgaXRlbS52YWx1ZSA9PT0gJ251bWJlcicgJiYgaXRlbS52YWx1ZSA8IDApIHtcbiAgICAgICAgbnN0YWNrLnB1c2goJygnICsgaXRlbS52YWx1ZSArICcpJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuc3RhY2sucHVzaChlc2NhcGVWYWx1ZShpdGVtLnZhbHVlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBJT1AyKSB7XG4gICAgICBuMiA9IG5zdGFjay5wb3AoKTtcbiAgICAgIG4xID0gbnN0YWNrLnBvcCgpO1xuICAgICAgZiA9IGl0ZW0udmFsdWU7XG4gICAgICBpZiAodG9KUykge1xuICAgICAgICBpZiAoZiA9PT0gJ14nKSB7XG4gICAgICAgICAgbnN0YWNrLnB1c2goJ01hdGgucG93KCcgKyBuMSArICcsICcgKyBuMiArICcpJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZiA9PT0gJ2FuZCcpIHtcbiAgICAgICAgICBuc3RhY2sucHVzaCgnKCEhJyArIG4xICsgJyAmJiAhIScgKyBuMiArICcpJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZiA9PT0gJ29yJykge1xuICAgICAgICAgIG5zdGFjay5wdXNoKCcoISEnICsgbjEgKyAnIHx8ICEhJyArIG4yICsgJyknKTtcbiAgICAgICAgfSBlbHNlIGlmIChmID09PSAnfHwnKSB7XG4gICAgICAgICAgbnN0YWNrLnB1c2goJyhTdHJpbmcoJyArIG4xICsgJykgKyBTdHJpbmcoJyArIG4yICsgJykpJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZiA9PT0gJz09Jykge1xuICAgICAgICAgIG5zdGFjay5wdXNoKCcoJyArIG4xICsgJyA9PT0gJyArIG4yICsgJyknKTtcbiAgICAgICAgfSBlbHNlIGlmIChmID09PSAnIT0nKSB7XG4gICAgICAgICAgbnN0YWNrLnB1c2goJygnICsgbjEgKyAnICE9PSAnICsgbjIgKyAnKScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5zdGFjay5wdXNoKCcoJyArIG4xICsgJyAnICsgZiArICcgJyArIG4yICsgJyknKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnN0YWNrLnB1c2goJygnICsgbjEgKyAnICcgKyBmICsgJyAnICsgbjIgKyAnKScpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gSU9QMykge1xuICAgICAgbjMgPSBuc3RhY2sucG9wKCk7XG4gICAgICBuMiA9IG5zdGFjay5wb3AoKTtcbiAgICAgIG4xID0gbnN0YWNrLnBvcCgpO1xuICAgICAgZiA9IGl0ZW0udmFsdWU7XG4gICAgICBpZiAoZiA9PT0gJz8nKSB7XG4gICAgICAgIG5zdGFjay5wdXNoKCcoJyArIG4xICsgJyA/ICcgKyBuMiArICcgOiAnICsgbjMgKyAnKScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIEV4cHJlc3Npb24nKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElWQVIpIHtcbiAgICAgIG5zdGFjay5wdXNoKGl0ZW0udmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gSU9QMSkge1xuICAgICAgbjEgPSBuc3RhY2sucG9wKCk7XG4gICAgICBmID0gaXRlbS52YWx1ZTtcbiAgICAgIGlmIChmID09PSAnLScgfHwgZiA9PT0gJysnKSB7XG4gICAgICAgIG5zdGFjay5wdXNoKCcoJyArIGYgKyBuMSArICcpJyk7XG4gICAgICB9IGVsc2UgaWYgKHRvSlMpIHtcbiAgICAgICAgaWYgKGYgPT09ICdub3QnKSB7XG4gICAgICAgICAgbnN0YWNrLnB1c2goJygnICsgJyEnICsgbjEgKyAnKScpO1xuICAgICAgICB9IGVsc2UgaWYgKGYgPT09ICchJykge1xuICAgICAgICAgIG5zdGFjay5wdXNoKCdmYWMoJyArIG4xICsgJyknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuc3RhY2sucHVzaChmICsgJygnICsgbjEgKyAnKScpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGYgPT09ICchJykge1xuICAgICAgICBuc3RhY2sucHVzaCgnKCcgKyBuMSArICchKScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnN0YWNrLnB1c2goJygnICsgZiArICcgJyArIG4xICsgJyknKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElGVU5DQUxMKSB7XG4gICAgICB2YXIgYXJnQ291bnQgPSBpdGVtLnZhbHVlO1xuICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgIHdoaWxlIChhcmdDb3VudC0tID4gMCkge1xuICAgICAgICBhcmdzLnVuc2hpZnQobnN0YWNrLnBvcCgpKTtcbiAgICAgIH1cbiAgICAgIGYgPSBuc3RhY2sucG9wKCk7XG4gICAgICBuc3RhY2sucHVzaChmICsgJygnICsgYXJncy5qb2luKCcsICcpICsgJyknKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElNRU1CRVIpIHtcbiAgICAgIG4xID0gbnN0YWNrLnBvcCgpO1xuICAgICAgbnN0YWNrLnB1c2gobjEgKyAnLicgKyBpdGVtLnZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElFWFBSKSB7XG4gICAgICBuc3RhY2sucHVzaCgnKCcgKyBleHByZXNzaW9uVG9TdHJpbmcoaXRlbS52YWx1ZSwgdG9KUykgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgRXhwcmVzc2lvbicpO1xuICAgIH1cbiAgfVxuICBpZiAobnN0YWNrLmxlbmd0aCA+IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgRXhwcmVzc2lvbiAocGFyaXR5KScpO1xuICB9XG4gIHJldHVybiBuc3RhY2tbMF07XG59XG5cbmZ1bmN0aW9uIGVzY2FwZVZhbHVlKHYpIHtcbiAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KS5yZXBsYWNlKC9cXHUyMDI4L2csICdcXFxcdTIwMjgnKS5yZXBsYWNlKC9cXHUyMDI5L2csICdcXFxcdTIwMjknKTtcbiAgfVxuICByZXR1cm4gdjtcbn1cblxuZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIG9iaikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSBvYmopIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFN5bWJvbHModG9rZW5zLCBzeW1ib2xzLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgd2l0aE1lbWJlcnMgPSAhIW9wdGlvbnMud2l0aE1lbWJlcnM7XG4gIHZhciBwcmV2VmFyID0gbnVsbDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gdG9rZW5zW2ldO1xuICAgIGlmIChpdGVtLnR5cGUgPT09IElWQVIgJiYgIWNvbnRhaW5zKHN5bWJvbHMsIGl0ZW0udmFsdWUpKSB7XG4gICAgICBpZiAoIXdpdGhNZW1iZXJzKSB7XG4gICAgICAgIHN5bWJvbHMucHVzaChpdGVtLnZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAocHJldlZhciAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoIWNvbnRhaW5zKHN5bWJvbHMsIHByZXZWYXIpKSB7XG4gICAgICAgICAgc3ltYm9scy5wdXNoKHByZXZWYXIpO1xuICAgICAgICB9XG4gICAgICAgIHByZXZWYXIgPSBpdGVtLnZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldlZhciA9IGl0ZW0udmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09IElNRU1CRVIgJiYgd2l0aE1lbWJlcnMgJiYgcHJldlZhciAhPT0gbnVsbCkge1xuICAgICAgcHJldlZhciArPSAnLicgKyBpdGVtLnZhbHVlO1xuICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSBJRVhQUikge1xuICAgICAgZ2V0U3ltYm9scyhpdGVtLnZhbHVlLCBzeW1ib2xzLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHByZXZWYXIgIT09IG51bGwpIHtcbiAgICAgIGlmICghY29udGFpbnMoc3ltYm9scywgcHJldlZhcikpIHtcbiAgICAgICAgc3ltYm9scy5wdXNoKHByZXZWYXIpO1xuICAgICAgfVxuICAgICAgcHJldlZhciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgaWYgKHByZXZWYXIgIT09IG51bGwgJiYgIWNvbnRhaW5zKHN5bWJvbHMsIHByZXZWYXIpKSB7XG4gICAgc3ltYm9scy5wdXNoKHByZXZWYXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIEV4cHJlc3Npb24odG9rZW5zLCBwYXJzZXIpIHtcbiAgdGhpcy50b2tlbnMgPSB0b2tlbnM7XG4gIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICB0aGlzLnVuYXJ5T3BzID0gcGFyc2VyLnVuYXJ5T3BzO1xuICB0aGlzLmJpbmFyeU9wcyA9IHBhcnNlci5iaW5hcnlPcHM7XG4gIHRoaXMudGVybmFyeU9wcyA9IHBhcnNlci50ZXJuYXJ5T3BzO1xuICB0aGlzLmZ1bmN0aW9ucyA9IHBhcnNlci5mdW5jdGlvbnM7XG59XG5cbkV4cHJlc3Npb24ucHJvdG90eXBlLnNpbXBsaWZ5ID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICB2YWx1ZXMgPSB2YWx1ZXMgfHwge307XG4gIHJldHVybiBuZXcgRXhwcmVzc2lvbihzaW1wbGlmeSh0aGlzLnRva2VucywgdGhpcy51bmFyeU9wcywgdGhpcy5iaW5hcnlPcHMsIHRoaXMudGVybmFyeU9wcywgdmFsdWVzKSwgdGhpcy5wYXJzZXIpO1xufTtcblxuRXhwcmVzc2lvbi5wcm90b3R5cGUuc3Vic3RpdHV0ZSA9IGZ1bmN0aW9uICh2YXJpYWJsZSwgZXhwcikge1xuICBpZiAoIShleHByIGluc3RhbmNlb2YgRXhwcmVzc2lvbikpIHtcbiAgICBleHByID0gdGhpcy5wYXJzZXIucGFyc2UoU3RyaW5nKGV4cHIpKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgRXhwcmVzc2lvbihzdWJzdGl0dXRlKHRoaXMudG9rZW5zLCB2YXJpYWJsZSwgZXhwciksIHRoaXMucGFyc2VyKTtcbn07XG5cbkV4cHJlc3Npb24ucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICB2YWx1ZXMgPSB2YWx1ZXMgfHwge307XG4gIHJldHVybiBldmFsdWF0ZSh0aGlzLnRva2VucywgdGhpcywgdmFsdWVzKTtcbn07XG5cbkV4cHJlc3Npb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZXhwcmVzc2lvblRvU3RyaW5nKHRoaXMudG9rZW5zLCBmYWxzZSk7XG59O1xuXG5FeHByZXNzaW9uLnByb3RvdHlwZS5zeW1ib2xzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB2YXJzID0gW107XG4gIGdldFN5bWJvbHModGhpcy50b2tlbnMsIHZhcnMsIG9wdGlvbnMpO1xuICByZXR1cm4gdmFycztcbn07XG5cbkV4cHJlc3Npb24ucHJvdG90eXBlLnZhcmlhYmxlcyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdmFycyA9IFtdO1xuICBnZXRTeW1ib2xzKHRoaXMudG9rZW5zLCB2YXJzLCBvcHRpb25zKTtcbiAgdmFyIGZ1bmN0aW9ucyA9IHRoaXMuZnVuY3Rpb25zO1xuICByZXR1cm4gdmFycy5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gIShuYW1lIGluIGZ1bmN0aW9ucyk7XG4gIH0pO1xufTtcblxuRXhwcmVzc2lvbi5wcm90b3R5cGUudG9KU0Z1bmN0aW9uID0gZnVuY3Rpb24gKHBhcmFtLCB2YXJpYWJsZXMpIHtcbiAgdmFyIGV4cHIgPSB0aGlzO1xuICB2YXIgZiA9IG5ldyBGdW5jdGlvbihwYXJhbSwgJ3dpdGgodGhpcy5mdW5jdGlvbnMpIHdpdGggKHRoaXMudGVybmFyeU9wcykgd2l0aCAodGhpcy5iaW5hcnlPcHMpIHdpdGggKHRoaXMudW5hcnlPcHMpIHsgcmV0dXJuICcgKyBleHByZXNzaW9uVG9TdHJpbmcodGhpcy5zaW1wbGlmeSh2YXJpYWJsZXMpLnRva2VucywgdHJ1ZSkgKyAnOyB9Jyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LWZ1bmNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZi5hcHBseShleHByLCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxudmFyIFRFT0YgPSAnVEVPRic7XG52YXIgVE9QID0gJ1RPUCc7XG52YXIgVE5VTUJFUiA9ICdUTlVNQkVSJztcbnZhciBUU1RSSU5HID0gJ1RTVFJJTkcnO1xudmFyIFRQQVJFTiA9ICdUUEFSRU4nO1xudmFyIFRDT01NQSA9ICdUQ09NTUEnO1xudmFyIFROQU1FID0gJ1ROQU1FJztcblxuZnVuY3Rpb24gVG9rZW4odHlwZSwgdmFsdWUsIGluZGV4KSB7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpcy5pbmRleCA9IGluZGV4O1xufVxuXG5Ub2tlbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnR5cGUgKyAnOiAnICsgdGhpcy52YWx1ZTtcbn07XG5cbmZ1bmN0aW9uIFRva2VuU3RyZWFtKHBhcnNlciwgZXhwcmVzc2lvbikge1xuICB0aGlzLnBvcyA9IDA7XG4gIHRoaXMuY3VycmVudCA9IG51bGw7XG4gIHRoaXMudW5hcnlPcHMgPSBwYXJzZXIudW5hcnlPcHM7XG4gIHRoaXMuYmluYXJ5T3BzID0gcGFyc2VyLmJpbmFyeU9wcztcbiAgdGhpcy50ZXJuYXJ5T3BzID0gcGFyc2VyLnRlcm5hcnlPcHM7XG4gIHRoaXMuY29uc3RzID0gcGFyc2VyLmNvbnN0cztcbiAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgdGhpcy5zYXZlZFBvc2l0aW9uID0gMDtcbiAgdGhpcy5zYXZlZEN1cnJlbnQgPSBudWxsO1xuICB0aGlzLm9wdGlvbnMgPSBwYXJzZXIub3B0aW9ucztcbn1cblxuVG9rZW5TdHJlYW0ucHJvdG90eXBlLm5ld1Rva2VuID0gZnVuY3Rpb24gKHR5cGUsIHZhbHVlLCBwb3MpIHtcbiAgcmV0dXJuIG5ldyBUb2tlbih0eXBlLCB2YWx1ZSwgcG9zICE9IG51bGwgPyBwb3MgOiB0aGlzLnBvcyk7XG59O1xuXG5Ub2tlblN0cmVhbS5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5zYXZlZFBvc2l0aW9uID0gdGhpcy5wb3M7XG4gIHRoaXMuc2F2ZWRDdXJyZW50ID0gdGhpcy5jdXJyZW50O1xufTtcblxuVG9rZW5TdHJlYW0ucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucG9zID0gdGhpcy5zYXZlZFBvc2l0aW9uO1xuICB0aGlzLmN1cnJlbnQgPSB0aGlzLnNhdmVkQ3VycmVudDtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5wb3MgPj0gdGhpcy5leHByZXNzaW9uLmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLm5ld1Rva2VuKFRFT0YsICdFT0YnKTtcbiAgfVxuXG4gIGlmICh0aGlzLmlzV2hpdGVzcGFjZSgpIHx8IHRoaXMuaXNDb21tZW50KCkpIHtcbiAgICByZXR1cm4gdGhpcy5uZXh0KCk7XG4gIH0gZWxzZSBpZiAodGhpcy5pc1JhZGl4SW50ZWdlcigpIHx8XG4gICAgICB0aGlzLmlzTnVtYmVyKCkgfHxcbiAgICAgIHRoaXMuaXNPcGVyYXRvcigpIHx8XG4gICAgICB0aGlzLmlzU3RyaW5nKCkgfHxcbiAgICAgIHRoaXMuaXNQYXJlbigpIHx8XG4gICAgICB0aGlzLmlzQ29tbWEoKSB8fFxuICAgICAgdGhpcy5pc05hbWVkT3AoKSB8fFxuICAgICAgdGhpcy5pc0NvbnN0KCkgfHxcbiAgICAgIHRoaXMuaXNOYW1lKCkpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50O1xuICB9IGVsc2Uge1xuICAgIHRoaXMucGFyc2VFcnJvcignVW5rbm93biBjaGFyYWN0ZXIgXCInICsgdGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcykgKyAnXCInKTtcbiAgfVxufTtcblxuVG9rZW5TdHJlYW0ucHJvdG90eXBlLmlzU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICB2YXIgciA9IGZhbHNlO1xuICB2YXIgc3RhcnRQb3MgPSB0aGlzLnBvcztcbiAgdmFyIHF1b3RlID0gdGhpcy5leHByZXNzaW9uLmNoYXJBdChzdGFydFBvcyk7XG5cbiAgaWYgKHF1b3RlID09PSAnXFwnJyB8fCBxdW90ZSA9PT0gJ1wiJykge1xuICAgIHZhciBpbmRleCA9IHRoaXMuZXhwcmVzc2lvbi5pbmRleE9mKHF1b3RlLCBzdGFydFBvcyArIDEpO1xuICAgIHdoaWxlIChpbmRleCA+PSAwICYmIHRoaXMucG9zIDwgdGhpcy5leHByZXNzaW9uLmxlbmd0aCkge1xuICAgICAgdGhpcy5wb3MgPSBpbmRleCArIDE7XG4gICAgICBpZiAodGhpcy5leHByZXNzaW9uLmNoYXJBdChpbmRleCAtIDEpICE9PSAnXFxcXCcpIHtcbiAgICAgICAgdmFyIHJhd1N0cmluZyA9IHRoaXMuZXhwcmVzc2lvbi5zdWJzdHJpbmcoc3RhcnRQb3MgKyAxLCBpbmRleCk7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubmV3VG9rZW4oVFNUUklORywgdGhpcy51bmVzY2FwZShyYXdTdHJpbmcpLCBzdGFydFBvcyk7XG4gICAgICAgIHIgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGluZGV4ID0gdGhpcy5leHByZXNzaW9uLmluZGV4T2YocXVvdGUsIGluZGV4ICsgMSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcblxuVG9rZW5TdHJlYW0ucHJvdG90eXBlLmlzUGFyZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjID0gdGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcyk7XG4gIGlmIChjID09PSAnKCcgfHwgYyA9PT0gJyknKSB7XG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5uZXdUb2tlbihUUEFSRU4sIGMpO1xuICAgIHRoaXMucG9zKys7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuVG9rZW5TdHJlYW0ucHJvdG90eXBlLmlzQ29tbWEgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjID0gdGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcyk7XG4gIGlmIChjID09PSAnLCcpIHtcbiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLm5ld1Rva2VuKFRDT01NQSwgJywnKTtcbiAgICB0aGlzLnBvcysrO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5pc0NvbnN0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhcnRQb3MgPSB0aGlzLnBvcztcbiAgdmFyIGkgPSBzdGFydFBvcztcbiAgZm9yICg7IGkgPCB0aGlzLmV4cHJlc3Npb24ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYyA9IHRoaXMuZXhwcmVzc2lvbi5jaGFyQXQoaSk7XG4gICAgaWYgKGMudG9VcHBlckNhc2UoKSA9PT0gYy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBpZiAoaSA9PT0gdGhpcy5wb3MgfHwgKGMgIT09ICdfJyAmJiBjICE9PSAnLicgJiYgKGMgPCAnMCcgfHwgYyA+ICc5JykpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaSA+IHN0YXJ0UG9zKSB7XG4gICAgdmFyIHN0ciA9IHRoaXMuZXhwcmVzc2lvbi5zdWJzdHJpbmcoc3RhcnRQb3MsIGkpO1xuICAgIGlmIChzdHIgaW4gdGhpcy5jb25zdHMpIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubmV3VG9rZW4oVE5VTUJFUiwgdGhpcy5jb25zdHNbc3RyXSk7XG4gICAgICB0aGlzLnBvcyArPSBzdHIubGVuZ3RoO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5pc05hbWVkT3AgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGFydFBvcyA9IHRoaXMucG9zO1xuICB2YXIgaSA9IHN0YXJ0UG9zO1xuICBmb3IgKDsgaSA8IHRoaXMuZXhwcmVzc2lvbi5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjID0gdGhpcy5leHByZXNzaW9uLmNoYXJBdChpKTtcbiAgICBpZiAoYy50b1VwcGVyQ2FzZSgpID09PSBjLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGlmIChpID09PSB0aGlzLnBvcyB8fCAoYyAhPT0gJ18nICYmIChjIDwgJzAnIHx8IGMgPiAnOScpKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGkgPiBzdGFydFBvcykge1xuICAgIHZhciBzdHIgPSB0aGlzLmV4cHJlc3Npb24uc3Vic3RyaW5nKHN0YXJ0UG9zLCBpKTtcbiAgICBpZiAodGhpcy5pc09wZXJhdG9yRW5hYmxlZChzdHIpICYmIChzdHIgaW4gdGhpcy5iaW5hcnlPcHMgfHwgc3RyIGluIHRoaXMudW5hcnlPcHMgfHwgc3RyIGluIHRoaXMudGVybmFyeU9wcykpIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubmV3VG9rZW4oVE9QLCBzdHIpO1xuICAgICAgdGhpcy5wb3MgKz0gc3RyLmxlbmd0aDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5Ub2tlblN0cmVhbS5wcm90b3R5cGUuaXNOYW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhcnRQb3MgPSB0aGlzLnBvcztcbiAgdmFyIGkgPSBzdGFydFBvcztcbiAgdmFyIGhhc0xldHRlciA9IGZhbHNlO1xuICBmb3IgKDsgaSA8IHRoaXMuZXhwcmVzc2lvbi5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjID0gdGhpcy5leHByZXNzaW9uLmNoYXJBdChpKTtcbiAgICBpZiAoYy50b1VwcGVyQ2FzZSgpID09PSBjLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGlmIChpID09PSB0aGlzLnBvcyAmJiBjID09PSAnJCcpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKGkgPT09IHRoaXMucG9zIHx8ICFoYXNMZXR0ZXIgfHwgKGMgIT09ICdfJyAmJiAoYyA8ICcwJyB8fCBjID4gJzknKSkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhc0xldHRlciA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChoYXNMZXR0ZXIpIHtcbiAgICB2YXIgc3RyID0gdGhpcy5leHByZXNzaW9uLnN1YnN0cmluZyhzdGFydFBvcywgaSk7XG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5uZXdUb2tlbihUTkFNRSwgc3RyKTtcbiAgICB0aGlzLnBvcyArPSBzdHIubGVuZ3RoO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5pc1doaXRlc3BhY2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByID0gZmFsc2U7XG4gIHZhciBjID0gdGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcyk7XG4gIHdoaWxlIChjID09PSAnICcgfHwgYyA9PT0gJ1xcdCcgfHwgYyA9PT0gJ1xcbicgfHwgYyA9PT0gJ1xccicpIHtcbiAgICByID0gdHJ1ZTtcbiAgICB0aGlzLnBvcysrO1xuICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmV4cHJlc3Npb24ubGVuZ3RoKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgYyA9IHRoaXMuZXhwcmVzc2lvbi5jaGFyQXQodGhpcy5wb3MpO1xuICB9XG4gIHJldHVybiByO1xufTtcblxudmFyIGNvZGVQb2ludFBhdHRlcm4gPSAvXlswLTlhLWZdezR9JC9pO1xuXG5Ub2tlblN0cmVhbS5wcm90b3R5cGUudW5lc2NhcGUgPSBmdW5jdGlvbiAodikge1xuICB2YXIgaW5kZXggPSB2LmluZGV4T2YoJ1xcXFwnKTtcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiB2O1xuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IHYuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgd2hpbGUgKGluZGV4ID49IDApIHtcbiAgICB2YXIgYyA9IHYuY2hhckF0KCsraW5kZXgpO1xuICAgIHN3aXRjaCAoYykge1xuICAgICAgY2FzZSAnXFwnJzpcbiAgICAgICAgYnVmZmVyICs9ICdcXCcnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgYnVmZmVyICs9ICdcIic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnXFxcXCc6XG4gICAgICAgIGJ1ZmZlciArPSAnXFxcXCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnLyc6XG4gICAgICAgIGJ1ZmZlciArPSAnLyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYic6XG4gICAgICAgIGJ1ZmZlciArPSAnXFxiJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmJzpcbiAgICAgICAgYnVmZmVyICs9ICdcXGYnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ24nOlxuICAgICAgICBidWZmZXIgKz0gJ1xcbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncic6XG4gICAgICAgIGJ1ZmZlciArPSAnXFxyJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0JzpcbiAgICAgICAgYnVmZmVyICs9ICdcXHQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3UnOlxuICAgICAgICAvLyBpbnRlcnByZXQgdGhlIGZvbGxvd2luZyA0IGNoYXJhY3RlcnMgYXMgdGhlIGhleCBvZiB0aGUgdW5pY29kZSBjb2RlIHBvaW50XG4gICAgICAgIHZhciBjb2RlUG9pbnQgPSB2LnN1YnN0cmluZyhpbmRleCArIDEsIGluZGV4ICsgNSk7XG4gICAgICAgIGlmICghY29kZVBvaW50UGF0dGVybi50ZXN0KGNvZGVQb2ludCkpIHtcbiAgICAgICAgICB0aGlzLnBhcnNlRXJyb3IoJ0lsbGVnYWwgZXNjYXBlIHNlcXVlbmNlOiBcXFxcdScgKyBjb2RlUG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGNvZGVQb2ludCwgMTYpKTtcbiAgICAgICAgaW5kZXggKz0gNDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyB0aGlzLnBhcnNlRXJyb3IoJ0lsbGVnYWwgZXNjYXBlIHNlcXVlbmNlOiBcIlxcXFwnICsgYyArICdcIicpO1xuICAgIH1cbiAgICArK2luZGV4O1xuICAgIHZhciBiYWNrc2xhc2ggPSB2LmluZGV4T2YoJ1xcXFwnLCBpbmRleCk7XG4gICAgYnVmZmVyICs9IHYuc3Vic3RyaW5nKGluZGV4LCBiYWNrc2xhc2ggPCAwID8gdi5sZW5ndGggOiBiYWNrc2xhc2gpO1xuICAgIGluZGV4ID0gYmFja3NsYXNoO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZmZlcjtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5pc0NvbW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjID0gdGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcyk7XG4gIGlmIChjID09PSAnLycgJiYgdGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcyArIDEpID09PSAnKicpIHtcbiAgICB0aGlzLnBvcyA9IHRoaXMuZXhwcmVzc2lvbi5pbmRleE9mKCcqLycsIHRoaXMucG9zKSArIDI7XG4gICAgaWYgKHRoaXMucG9zID09PSAxKSB7XG4gICAgICB0aGlzLnBvcyA9IHRoaXMuZXhwcmVzc2lvbi5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5pc1JhZGl4SW50ZWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHBvcyA9IHRoaXMucG9zO1xuXG4gIGlmIChwb3MgPj0gdGhpcy5leHByZXNzaW9uLmxlbmd0aCAtIDIgfHwgdGhpcy5leHByZXNzaW9uLmNoYXJBdChwb3MpICE9PSAnMCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgKytwb3M7XG5cbiAgdmFyIHJhZGl4O1xuICB2YXIgdmFsaWREaWdpdDtcbiAgaWYgKHRoaXMuZXhwcmVzc2lvbi5jaGFyQXQocG9zKSA9PT0gJ3gnKSB7XG4gICAgcmFkaXggPSAxNjtcbiAgICB2YWxpZERpZ2l0ID0gL15bMC05YS1mXSQvaTtcbiAgICArK3BvcztcbiAgfSBlbHNlIGlmICh0aGlzLmV4cHJlc3Npb24uY2hhckF0KHBvcykgPT09ICdiJykge1xuICAgIHJhZGl4ID0gMjtcbiAgICB2YWxpZERpZ2l0ID0gL15bMDFdJC9pO1xuICAgICsrcG9zO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciB2YWxpZCA9IGZhbHNlO1xuICB2YXIgc3RhcnRQb3MgPSBwb3M7XG5cbiAgd2hpbGUgKHBvcyA8IHRoaXMuZXhwcmVzc2lvbi5sZW5ndGgpIHtcbiAgICB2YXIgYyA9IHRoaXMuZXhwcmVzc2lvbi5jaGFyQXQocG9zKTtcbiAgICBpZiAodmFsaWREaWdpdC50ZXN0KGMpKSB7XG4gICAgICBwb3MrKztcbiAgICAgIHZhbGlkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHZhbGlkKSB7XG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5uZXdUb2tlbihUTlVNQkVSLCBwYXJzZUludCh0aGlzLmV4cHJlc3Npb24uc3Vic3RyaW5nKHN0YXJ0UG9zLCBwb3MpLCByYWRpeCkpO1xuICAgIHRoaXMucG9zID0gcG9zO1xuICB9XG4gIHJldHVybiB2YWxpZDtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5pc051bWJlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZhbGlkID0gZmFsc2U7XG4gIHZhciBwb3MgPSB0aGlzLnBvcztcbiAgdmFyIHN0YXJ0UG9zID0gcG9zO1xuICB2YXIgcmVzZXRQb3MgPSBwb3M7XG4gIHZhciBmb3VuZERvdCA9IGZhbHNlO1xuICB2YXIgZm91bmREaWdpdHMgPSBmYWxzZTtcbiAgdmFyIGM7XG5cbiAgd2hpbGUgKHBvcyA8IHRoaXMuZXhwcmVzc2lvbi5sZW5ndGgpIHtcbiAgICBjID0gdGhpcy5leHByZXNzaW9uLmNoYXJBdChwb3MpO1xuICAgIGlmICgoYyA+PSAnMCcgJiYgYyA8PSAnOScpIHx8ICghZm91bmREb3QgJiYgYyA9PT0gJy4nKSkge1xuICAgICAgaWYgKGMgPT09ICcuJykge1xuICAgICAgICBmb3VuZERvdCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3VuZERpZ2l0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBwb3MrKztcbiAgICAgIHZhbGlkID0gZm91bmREaWdpdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmICh2YWxpZCkge1xuICAgIHJlc2V0UG9zID0gcG9zO1xuICB9XG5cbiAgaWYgKGMgPT09ICdlJyB8fCBjID09PSAnRScpIHtcbiAgICBwb3MrKztcbiAgICB2YXIgYWNjZXB0U2lnbiA9IHRydWU7XG4gICAgdmFyIHZhbGlkRXhwb25lbnQgPSBmYWxzZTtcbiAgICB3aGlsZSAocG9zIDwgdGhpcy5leHByZXNzaW9uLmxlbmd0aCkge1xuICAgICAgYyA9IHRoaXMuZXhwcmVzc2lvbi5jaGFyQXQocG9zKTtcbiAgICAgIGlmIChhY2NlcHRTaWduICYmIChjID09PSAnKycgfHwgYyA9PT0gJy0nKSkge1xuICAgICAgICBhY2NlcHRTaWduID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGMgPj0gJzAnICYmIGMgPD0gJzknKSB7XG4gICAgICAgIHZhbGlkRXhwb25lbnQgPSB0cnVlO1xuICAgICAgICBhY2NlcHRTaWduID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHBvcysrO1xuICAgIH1cblxuICAgIGlmICghdmFsaWRFeHBvbmVudCkge1xuICAgICAgcG9zID0gcmVzZXRQb3M7XG4gICAgfVxuICB9XG5cbiAgaWYgKHZhbGlkKSB7XG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5uZXdUb2tlbihUTlVNQkVSLCBwYXJzZUZsb2F0KHRoaXMuZXhwcmVzc2lvbi5zdWJzdHJpbmcoc3RhcnRQb3MsIHBvcykpKTtcbiAgICB0aGlzLnBvcyA9IHBvcztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnBvcyA9IHJlc2V0UG9zO1xuICB9XG4gIHJldHVybiB2YWxpZDtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5pc09wZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhcnRQb3MgPSB0aGlzLnBvcztcbiAgdmFyIGMgPSB0aGlzLmV4cHJlc3Npb24uY2hhckF0KHRoaXMucG9zKTtcblxuICBpZiAoYyA9PT0gJysnIHx8IGMgPT09ICctJyB8fCBjID09PSAnKicgfHwgYyA9PT0gJy8nIHx8IGMgPT09ICclJyB8fCBjID09PSAnXicgfHwgYyA9PT0gJz8nIHx8IGMgPT09ICc6JyB8fCBjID09PSAnLicpIHtcbiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLm5ld1Rva2VuKFRPUCwgYyk7XG4gIH0gZWxzZSBpZiAoYyA9PT0gJ+KImScgfHwgYyA9PT0gJ+KAoicpIHtcbiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLm5ld1Rva2VuKFRPUCwgJyonKTtcbiAgfSBlbHNlIGlmIChjID09PSAnPicpIHtcbiAgICBpZiAodGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcyArIDEpID09PSAnPScpIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubmV3VG9rZW4oVE9QLCAnPj0nKTtcbiAgICAgIHRoaXMucG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubmV3VG9rZW4oVE9QLCAnPicpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjID09PSAnPCcpIHtcbiAgICBpZiAodGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcyArIDEpID09PSAnPScpIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubmV3VG9rZW4oVE9QLCAnPD0nKTtcbiAgICAgIHRoaXMucG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubmV3VG9rZW4oVE9QLCAnPCcpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjID09PSAnfCcpIHtcbiAgICBpZiAodGhpcy5leHByZXNzaW9uLmNoYXJBdCh0aGlzLnBvcyArIDEpID09PSAnfCcpIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubmV3VG9rZW4oVE9QLCAnfHwnKTtcbiAgICAgIHRoaXMucG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYyA9PT0gJz0nKSB7XG4gICAgaWYgKHRoaXMuZXhwcmVzc2lvbi5jaGFyQXQodGhpcy5wb3MgKyAxKSA9PT0gJz0nKSB7XG4gICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLm5ld1Rva2VuKFRPUCwgJz09Jyk7XG4gICAgICB0aGlzLnBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2UgaWYgKGMgPT09ICchJykge1xuICAgIGlmICh0aGlzLmV4cHJlc3Npb24uY2hhckF0KHRoaXMucG9zICsgMSkgPT09ICc9Jykge1xuICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5uZXdUb2tlbihUT1AsICchPScpO1xuICAgICAgdGhpcy5wb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5uZXdUb2tlbihUT1AsIGMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdGhpcy5wb3MrKztcblxuICBpZiAodGhpcy5pc09wZXJhdG9yRW5hYmxlZCh0aGlzLmN1cnJlbnQudmFsdWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5wb3MgPSBzdGFydFBvcztcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbnZhciBvcHRpb25OYW1lTWFwID0ge1xuICAnKyc6ICdhZGQnLFxuICAnLSc6ICdzdWJ0cmFjdCcsXG4gICcqJzogJ211bHRpcGx5JyxcbiAgJy8nOiAnZGl2aWRlJyxcbiAgJyUnOiAncmVtYWluZGVyJyxcbiAgJ14nOiAncG93ZXInLFxuICAnISc6ICdmYWN0b3JpYWwnLFxuICAnPCc6ICdjb21wYXJpc29uJyxcbiAgJz4nOiAnY29tcGFyaXNvbicsXG4gICc8PSc6ICdjb21wYXJpc29uJyxcbiAgJz49JzogJ2NvbXBhcmlzb24nLFxuICAnPT0nOiAnY29tcGFyaXNvbicsXG4gICchPSc6ICdjb21wYXJpc29uJyxcbiAgJ3x8JzogJ2NvbmNhdGVuYXRlJyxcbiAgJ2FuZCc6ICdsb2dpY2FsJyxcbiAgJ29yJzogJ2xvZ2ljYWwnLFxuICAnbm90JzogJ2xvZ2ljYWwnLFxuICAnPyc6ICdjb25kaXRpb25hbCcsXG4gICc6JzogJ2NvbmRpdGlvbmFsJ1xufTtcblxuZnVuY3Rpb24gZ2V0T3B0aW9uTmFtZShvcCkge1xuICByZXR1cm4gb3B0aW9uTmFtZU1hcC5oYXNPd25Qcm9wZXJ0eShvcCkgPyBvcHRpb25OYW1lTWFwW29wXSA6IG9wO1xufVxuXG5Ub2tlblN0cmVhbS5wcm90b3R5cGUuaXNPcGVyYXRvckVuYWJsZWQgPSBmdW5jdGlvbiAob3ApIHtcbiAgdmFyIG9wdGlvbk5hbWUgPSBnZXRPcHRpb25OYW1lKG9wKTtcbiAgdmFyIG9wZXJhdG9ycyA9IHRoaXMub3B0aW9ucy5vcGVyYXRvcnMgfHwge307XG5cbiAgLy8gaW4gaXMgYSBzcGVjaWFsIGNhc2UgZm9yIG5vdyBiZWNhdXNlIGl0J3MgZGlzYWJsZWQgYnkgZGVmYXVsdFxuICBpZiAob3B0aW9uTmFtZSA9PT0gJ2luJykge1xuICAgIHJldHVybiAhIW9wZXJhdG9yc1snaW4nXTtcbiAgfVxuXG4gIHJldHVybiAhKG9wdGlvbk5hbWUgaW4gb3BlcmF0b3JzKSB8fCAhIW9wZXJhdG9yc1tvcHRpb25OYW1lXTtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxpbmUgPSAwO1xuICB2YXIgY29sdW1uO1xuICB2YXIgbmV3bGluZSA9IC0xO1xuICBkbyB7XG4gICAgbGluZSsrO1xuICAgIGNvbHVtbiA9IHRoaXMucG9zIC0gbmV3bGluZTtcbiAgICBuZXdsaW5lID0gdGhpcy5leHByZXNzaW9uLmluZGV4T2YoJ1xcbicsIG5ld2xpbmUgKyAxKTtcbiAgfSB3aGlsZSAobmV3bGluZSA+PSAwICYmIG5ld2xpbmUgPCB0aGlzLnBvcyk7XG5cbiAgcmV0dXJuIHtcbiAgICBsaW5lOiBsaW5lLFxuICAgIGNvbHVtbjogY29sdW1uXG4gIH07XG59O1xuXG5Ub2tlblN0cmVhbS5wcm90b3R5cGUucGFyc2VFcnJvciA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgdmFyIGNvb3JkcyA9IHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgdGhyb3cgbmV3IEVycm9yKCdwYXJzZSBlcnJvciBbJyArIGNvb3Jkcy5saW5lICsgJzonICsgY29vcmRzLmNvbHVtbiArICddOiAnICsgbXNnKTtcbn07XG5cbmZ1bmN0aW9uIFBhcnNlclN0YXRlKHBhcnNlciwgdG9rZW5TdHJlYW0sIG9wdGlvbnMpIHtcbiAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gIHRoaXMudG9rZW5zID0gdG9rZW5TdHJlYW07XG4gIHRoaXMuY3VycmVudCA9IG51bGw7XG4gIHRoaXMubmV4dFRva2VuID0gbnVsbDtcbiAgdGhpcy5uZXh0KCk7XG4gIHRoaXMuc2F2ZWRDdXJyZW50ID0gbnVsbDtcbiAgdGhpcy5zYXZlZE5leHRUb2tlbiA9IG51bGw7XG4gIHRoaXMuYWxsb3dNZW1iZXJBY2Nlc3MgPSBvcHRpb25zLmFsbG93TWVtYmVyQWNjZXNzICE9PSBmYWxzZTtcbn1cblxuUGFyc2VyU3RhdGUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY3VycmVudCA9IHRoaXMubmV4dFRva2VuO1xuICByZXR1cm4gKHRoaXMubmV4dFRva2VuID0gdGhpcy50b2tlbnMubmV4dCgpKTtcbn07XG5cblBhcnNlclN0YXRlLnByb3RvdHlwZS50b2tlbk1hdGNoZXMgPSBmdW5jdGlvbiAodG9rZW4sIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gY29udGFpbnModmFsdWUsIHRva2VuLnZhbHVlKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdmFsdWUodG9rZW4pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0b2tlbi52YWx1ZSA9PT0gdmFsdWU7XG4gIH1cbn07XG5cblBhcnNlclN0YXRlLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnNhdmVkQ3VycmVudCA9IHRoaXMuY3VycmVudDtcbiAgdGhpcy5zYXZlZE5leHRUb2tlbiA9IHRoaXMubmV4dFRva2VuO1xuICB0aGlzLnRva2Vucy5zYXZlKCk7XG59O1xuXG5QYXJzZXJTdGF0ZS5wcm90b3R5cGUucmVzdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy50b2tlbnMucmVzdG9yZSgpO1xuICB0aGlzLmN1cnJlbnQgPSB0aGlzLnNhdmVkQ3VycmVudDtcbiAgdGhpcy5uZXh0VG9rZW4gPSB0aGlzLnNhdmVkTmV4dFRva2VuO1xufTtcblxuUGFyc2VyU3RhdGUucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uICh0eXBlLCB2YWx1ZSkge1xuICBpZiAodGhpcy5uZXh0VG9rZW4udHlwZSA9PT0gdHlwZSAmJiB0aGlzLnRva2VuTWF0Y2hlcyh0aGlzLm5leHRUb2tlbiwgdmFsdWUpKSB7XG4gICAgdGhpcy5uZXh0KCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuUGFyc2VyU3RhdGUucHJvdG90eXBlLmV4cGVjdCA9IGZ1bmN0aW9uICh0eXBlLCB2YWx1ZSkge1xuICBpZiAoIXRoaXMuYWNjZXB0KHR5cGUsIHZhbHVlKSkge1xuICAgIHZhciBjb29yZHMgPSB0aGlzLnRva2Vucy5nZXRDb29yZGluYXRlcygpO1xuICAgIHRocm93IG5ldyBFcnJvcigncGFyc2UgZXJyb3IgWycgKyBjb29yZHMubGluZSArICc6JyArIGNvb3Jkcy5jb2x1bW4gKyAnXTogRXhwZWN0ZWQgJyArICh2YWx1ZSB8fCB0eXBlKSk7XG4gIH1cbn07XG5cblBhcnNlclN0YXRlLnByb3RvdHlwZS5wYXJzZUF0b20gPSBmdW5jdGlvbiAoaW5zdHIpIHtcbiAgaWYgKHRoaXMuYWNjZXB0KFROQU1FKSkge1xuICAgIGluc3RyLnB1c2gobmV3IEluc3RydWN0aW9uKElWQVIsIHRoaXMuY3VycmVudC52YWx1ZSkpO1xuICB9IGVsc2UgaWYgKHRoaXMuYWNjZXB0KFROVU1CRVIpKSB7XG4gICAgaW5zdHIucHVzaChuZXcgSW5zdHJ1Y3Rpb24oSU5VTUJFUiwgdGhpcy5jdXJyZW50LnZhbHVlKSk7XG4gIH0gZWxzZSBpZiAodGhpcy5hY2NlcHQoVFNUUklORykpIHtcbiAgICBpbnN0ci5wdXNoKG5ldyBJbnN0cnVjdGlvbihJTlVNQkVSLCB0aGlzLmN1cnJlbnQudmFsdWUpKTtcbiAgfSBlbHNlIGlmICh0aGlzLmFjY2VwdChUUEFSRU4sICcoJykpIHtcbiAgICB0aGlzLnBhcnNlRXhwcmVzc2lvbihpbnN0cik7XG4gICAgdGhpcy5leHBlY3QoVFBBUkVOLCAnKScpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCAnICsgdGhpcy5uZXh0VG9rZW4pO1xuICB9XG59O1xuXG5QYXJzZXJTdGF0ZS5wcm90b3R5cGUucGFyc2VFeHByZXNzaW9uID0gZnVuY3Rpb24gKGluc3RyKSB7XG4gIHRoaXMucGFyc2VDb25kaXRpb25hbEV4cHJlc3Npb24oaW5zdHIpO1xufTtcblxuUGFyc2VyU3RhdGUucHJvdG90eXBlLnBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uID0gZnVuY3Rpb24gKGluc3RyKSB7XG4gIHRoaXMucGFyc2VPckV4cHJlc3Npb24oaW5zdHIpO1xuICB3aGlsZSAodGhpcy5hY2NlcHQoVE9QLCAnPycpKSB7XG4gICAgdmFyIHRydWVCcmFuY2ggPSBbXTtcbiAgICB2YXIgZmFsc2VCcmFuY2ggPSBbXTtcbiAgICB0aGlzLnBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKHRydWVCcmFuY2gpO1xuICAgIHRoaXMuZXhwZWN0KFRPUCwgJzonKTtcbiAgICB0aGlzLnBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKGZhbHNlQnJhbmNoKTtcbiAgICBpbnN0ci5wdXNoKG5ldyBJbnN0cnVjdGlvbihJRVhQUiwgdHJ1ZUJyYW5jaCkpO1xuICAgIGluc3RyLnB1c2gobmV3IEluc3RydWN0aW9uKElFWFBSLCBmYWxzZUJyYW5jaCkpO1xuICAgIGluc3RyLnB1c2godGVybmFyeUluc3RydWN0aW9uKCc/JykpO1xuICB9XG59O1xuXG5QYXJzZXJTdGF0ZS5wcm90b3R5cGUucGFyc2VPckV4cHJlc3Npb24gPSBmdW5jdGlvbiAoaW5zdHIpIHtcbiAgdGhpcy5wYXJzZUFuZEV4cHJlc3Npb24oaW5zdHIpO1xuICB3aGlsZSAodGhpcy5hY2NlcHQoVE9QLCAnb3InKSkge1xuICAgIHRoaXMucGFyc2VBbmRFeHByZXNzaW9uKGluc3RyKTtcbiAgICBpbnN0ci5wdXNoKGJpbmFyeUluc3RydWN0aW9uKCdvcicpKTtcbiAgfVxufTtcblxuUGFyc2VyU3RhdGUucHJvdG90eXBlLnBhcnNlQW5kRXhwcmVzc2lvbiA9IGZ1bmN0aW9uIChpbnN0cikge1xuICB0aGlzLnBhcnNlQ29tcGFyaXNvbihpbnN0cik7XG4gIHdoaWxlICh0aGlzLmFjY2VwdChUT1AsICdhbmQnKSkge1xuICAgIHRoaXMucGFyc2VDb21wYXJpc29uKGluc3RyKTtcbiAgICBpbnN0ci5wdXNoKGJpbmFyeUluc3RydWN0aW9uKCdhbmQnKSk7XG4gIH1cbn07XG5cbnZhciBDT01QQVJJU09OX09QRVJBVE9SUyA9IFsnPT0nLCAnIT0nLCAnPCcsICc8PScsICc+PScsICc+JywgJ2luJ107XG5cblBhcnNlclN0YXRlLnByb3RvdHlwZS5wYXJzZUNvbXBhcmlzb24gPSBmdW5jdGlvbiAoaW5zdHIpIHtcbiAgdGhpcy5wYXJzZUFkZFN1YihpbnN0cik7XG4gIHdoaWxlICh0aGlzLmFjY2VwdChUT1AsIENPTVBBUklTT05fT1BFUkFUT1JTKSkge1xuICAgIHZhciBvcCA9IHRoaXMuY3VycmVudDtcbiAgICB0aGlzLnBhcnNlQWRkU3ViKGluc3RyKTtcbiAgICBpbnN0ci5wdXNoKGJpbmFyeUluc3RydWN0aW9uKG9wLnZhbHVlKSk7XG4gIH1cbn07XG5cbnZhciBBRERfU1VCX09QRVJBVE9SUyA9IFsnKycsICctJywgJ3x8J107XG5cblBhcnNlclN0YXRlLnByb3RvdHlwZS5wYXJzZUFkZFN1YiA9IGZ1bmN0aW9uIChpbnN0cikge1xuICB0aGlzLnBhcnNlVGVybShpbnN0cik7XG4gIHdoaWxlICh0aGlzLmFjY2VwdChUT1AsIEFERF9TVUJfT1BFUkFUT1JTKSkge1xuICAgIHZhciBvcCA9IHRoaXMuY3VycmVudDtcbiAgICB0aGlzLnBhcnNlVGVybShpbnN0cik7XG4gICAgaW5zdHIucHVzaChiaW5hcnlJbnN0cnVjdGlvbihvcC52YWx1ZSkpO1xuICB9XG59O1xuXG52YXIgVEVSTV9PUEVSQVRPUlMgPSBbJyonLCAnLycsICclJ107XG5cblBhcnNlclN0YXRlLnByb3RvdHlwZS5wYXJzZVRlcm0gPSBmdW5jdGlvbiAoaW5zdHIpIHtcbiAgdGhpcy5wYXJzZUZhY3RvcihpbnN0cik7XG4gIHdoaWxlICh0aGlzLmFjY2VwdChUT1AsIFRFUk1fT1BFUkFUT1JTKSkge1xuICAgIHZhciBvcCA9IHRoaXMuY3VycmVudDtcbiAgICB0aGlzLnBhcnNlRmFjdG9yKGluc3RyKTtcbiAgICBpbnN0ci5wdXNoKGJpbmFyeUluc3RydWN0aW9uKG9wLnZhbHVlKSk7XG4gIH1cbn07XG5cblBhcnNlclN0YXRlLnByb3RvdHlwZS5wYXJzZUZhY3RvciA9IGZ1bmN0aW9uIChpbnN0cikge1xuICB2YXIgdW5hcnlPcHMgPSB0aGlzLnRva2Vucy51bmFyeU9wcztcbiAgZnVuY3Rpb24gaXNQcmVmaXhPcGVyYXRvcih0b2tlbikge1xuICAgIHJldHVybiB0b2tlbi52YWx1ZSBpbiB1bmFyeU9wcztcbiAgfVxuXG4gIHRoaXMuc2F2ZSgpO1xuICBpZiAodGhpcy5hY2NlcHQoVE9QLCBpc1ByZWZpeE9wZXJhdG9yKSkge1xuICAgIGlmICgodGhpcy5jdXJyZW50LnZhbHVlICE9PSAnLScgJiYgdGhpcy5jdXJyZW50LnZhbHVlICE9PSAnKycgJiYgdGhpcy5uZXh0VG9rZW4udHlwZSA9PT0gVFBBUkVOICYmIHRoaXMubmV4dFRva2VuLnZhbHVlID09PSAnKCcpKSB7XG4gICAgICB0aGlzLnJlc3RvcmUoKTtcbiAgICAgIHRoaXMucGFyc2VFeHBvbmVudGlhbChpbnN0cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBvcCA9IHRoaXMuY3VycmVudDtcbiAgICAgIHRoaXMucGFyc2VGYWN0b3IoaW5zdHIpO1xuICAgICAgaW5zdHIucHVzaCh1bmFyeUluc3RydWN0aW9uKG9wLnZhbHVlKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMucGFyc2VFeHBvbmVudGlhbChpbnN0cik7XG4gIH1cbn07XG5cblBhcnNlclN0YXRlLnByb3RvdHlwZS5wYXJzZUV4cG9uZW50aWFsID0gZnVuY3Rpb24gKGluc3RyKSB7XG4gIHRoaXMucGFyc2VQb3N0Zml4RXhwcmVzc2lvbihpbnN0cik7XG4gIHdoaWxlICh0aGlzLmFjY2VwdChUT1AsICdeJykpIHtcbiAgICB0aGlzLnBhcnNlRmFjdG9yKGluc3RyKTtcbiAgICBpbnN0ci5wdXNoKGJpbmFyeUluc3RydWN0aW9uKCdeJykpO1xuICB9XG59O1xuXG5QYXJzZXJTdGF0ZS5wcm90b3R5cGUucGFyc2VQb3N0Zml4RXhwcmVzc2lvbiA9IGZ1bmN0aW9uIChpbnN0cikge1xuICB0aGlzLnBhcnNlRnVuY3Rpb25DYWxsKGluc3RyKTtcbiAgd2hpbGUgKHRoaXMuYWNjZXB0KFRPUCwgJyEnKSkge1xuICAgIGluc3RyLnB1c2godW5hcnlJbnN0cnVjdGlvbignIScpKTtcbiAgfVxufTtcblxuUGFyc2VyU3RhdGUucHJvdG90eXBlLnBhcnNlRnVuY3Rpb25DYWxsID0gZnVuY3Rpb24gKGluc3RyKSB7XG4gIHZhciB1bmFyeU9wcyA9IHRoaXMudG9rZW5zLnVuYXJ5T3BzO1xuICBmdW5jdGlvbiBpc1ByZWZpeE9wZXJhdG9yKHRva2VuKSB7XG4gICAgcmV0dXJuIHRva2VuLnZhbHVlIGluIHVuYXJ5T3BzO1xuICB9XG5cbiAgaWYgKHRoaXMuYWNjZXB0KFRPUCwgaXNQcmVmaXhPcGVyYXRvcikpIHtcbiAgICB2YXIgb3AgPSB0aGlzLmN1cnJlbnQ7XG4gICAgdGhpcy5wYXJzZUF0b20oaW5zdHIpO1xuICAgIGluc3RyLnB1c2godW5hcnlJbnN0cnVjdGlvbihvcC52YWx1ZSkpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMucGFyc2VNZW1iZXJFeHByZXNzaW9uKGluc3RyKTtcbiAgICB3aGlsZSAodGhpcy5hY2NlcHQoVFBBUkVOLCAnKCcpKSB7XG4gICAgICBpZiAodGhpcy5hY2NlcHQoVFBBUkVOLCAnKScpKSB7XG4gICAgICAgIGluc3RyLnB1c2gobmV3IEluc3RydWN0aW9uKElGVU5DQUxMLCAwKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYXJnQ291bnQgPSB0aGlzLnBhcnNlQXJndW1lbnRMaXN0KGluc3RyKTtcbiAgICAgICAgaW5zdHIucHVzaChuZXcgSW5zdHJ1Y3Rpb24oSUZVTkNBTEwsIGFyZ0NvdW50KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5QYXJzZXJTdGF0ZS5wcm90b3R5cGUucGFyc2VBcmd1bWVudExpc3QgPSBmdW5jdGlvbiAoaW5zdHIpIHtcbiAgdmFyIGFyZ0NvdW50ID0gMDtcblxuICB3aGlsZSAoIXRoaXMuYWNjZXB0KFRQQVJFTiwgJyknKSkge1xuICAgIHRoaXMucGFyc2VFeHByZXNzaW9uKGluc3RyKTtcbiAgICArK2FyZ0NvdW50O1xuICAgIHdoaWxlICh0aGlzLmFjY2VwdChUQ09NTUEpKSB7XG4gICAgICB0aGlzLnBhcnNlRXhwcmVzc2lvbihpbnN0cik7XG4gICAgICArK2FyZ0NvdW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcmdDb3VudDtcbn07XG5cblBhcnNlclN0YXRlLnByb3RvdHlwZS5wYXJzZU1lbWJlckV4cHJlc3Npb24gPSBmdW5jdGlvbiAoaW5zdHIpIHtcbiAgdGhpcy5wYXJzZUF0b20oaW5zdHIpO1xuICB3aGlsZSAodGhpcy5hY2NlcHQoVE9QLCAnLicpKSB7XG4gICAgaWYgKCF0aGlzLmFsbG93TWVtYmVyQWNjZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQgXCIuXCIsIG1lbWJlciBhY2Nlc3MgaXMgbm90IHBlcm1pdHRlZCcpO1xuICAgIH1cblxuICAgIHRoaXMuZXhwZWN0KFROQU1FKTtcbiAgICBpbnN0ci5wdXNoKG5ldyBJbnN0cnVjdGlvbihJTUVNQkVSLCB0aGlzLmN1cnJlbnQudmFsdWUpKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gYWRkKGEsIGIpIHtcbiAgcmV0dXJuIE51bWJlcihhKSArIE51bWJlcihiKTtcbn1cblxuZnVuY3Rpb24gc3ViKGEsIGIpIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuXG5mdW5jdGlvbiBtdWwoYSwgYikge1xuICByZXR1cm4gYSAqIGI7XG59XG5cbmZ1bmN0aW9uIGRpdihhLCBiKSB7XG4gIHJldHVybiBhIC8gYjtcbn1cblxuZnVuY3Rpb24gbW9kKGEsIGIpIHtcbiAgcmV0dXJuIGEgJSBiO1xufVxuXG5mdW5jdGlvbiBjb25jYXQoYSwgYikge1xuICByZXR1cm4gJycgKyBhICsgYjtcbn1cblxuZnVuY3Rpb24gZXF1YWwoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuZnVuY3Rpb24gbm90RXF1YWwoYSwgYikge1xuICByZXR1cm4gYSAhPT0gYjtcbn1cblxuZnVuY3Rpb24gZ3JlYXRlclRoYW4oYSwgYikge1xuICByZXR1cm4gYSA+IGI7XG59XG5cbmZ1bmN0aW9uIGxlc3NUaGFuKGEsIGIpIHtcbiAgcmV0dXJuIGEgPCBiO1xufVxuXG5mdW5jdGlvbiBncmVhdGVyVGhhbkVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEgPj0gYjtcbn1cblxuZnVuY3Rpb24gbGVzc1RoYW5FcXVhbChhLCBiKSB7XG4gIHJldHVybiBhIDw9IGI7XG59XG5cbmZ1bmN0aW9uIGFuZE9wZXJhdG9yKGEsIGIpIHtcbiAgcmV0dXJuIEJvb2xlYW4oYSAmJiBiKTtcbn1cblxuZnVuY3Rpb24gb3JPcGVyYXRvcihhLCBiKSB7XG4gIHJldHVybiBCb29sZWFuKGEgfHwgYik7XG59XG5cbmZ1bmN0aW9uIGluT3BlcmF0b3IoYSwgYikge1xuICByZXR1cm4gY29udGFpbnMoYiwgYSk7XG59XG5cbmZ1bmN0aW9uIHNpbmgoYSkge1xuICByZXR1cm4gKChNYXRoLmV4cChhKSAtIE1hdGguZXhwKC1hKSkgLyAyKTtcbn1cblxuZnVuY3Rpb24gY29zaChhKSB7XG4gIHJldHVybiAoKE1hdGguZXhwKGEpICsgTWF0aC5leHAoLWEpKSAvIDIpO1xufVxuXG5mdW5jdGlvbiB0YW5oKGEpIHtcbiAgaWYgKGEgPT09IEluZmluaXR5KSByZXR1cm4gMTtcbiAgaWYgKGEgPT09IC1JbmZpbml0eSkgcmV0dXJuIC0xO1xuICByZXR1cm4gKE1hdGguZXhwKGEpIC0gTWF0aC5leHAoLWEpKSAvIChNYXRoLmV4cChhKSArIE1hdGguZXhwKC1hKSk7XG59XG5cbmZ1bmN0aW9uIGFzaW5oKGEpIHtcbiAgaWYgKGEgPT09IC1JbmZpbml0eSkgcmV0dXJuIGE7XG4gIHJldHVybiBNYXRoLmxvZyhhICsgTWF0aC5zcXJ0KChhICogYSkgKyAxKSk7XG59XG5cbmZ1bmN0aW9uIGFjb3NoKGEpIHtcbiAgcmV0dXJuIE1hdGgubG9nKGEgKyBNYXRoLnNxcnQoKGEgKiBhKSAtIDEpKTtcbn1cblxuZnVuY3Rpb24gYXRhbmgoYSkge1xuICByZXR1cm4gKE1hdGgubG9nKCgxICsgYSkgLyAoMSAtIGEpKSAvIDIpO1xufVxuXG5mdW5jdGlvbiBsb2cxMChhKSB7XG4gIHJldHVybiBNYXRoLmxvZyhhKSAqIE1hdGguTE9HMTBFO1xufVxuXG5mdW5jdGlvbiBuZWcoYSkge1xuICByZXR1cm4gLWE7XG59XG5cbmZ1bmN0aW9uIG5vdChhKSB7XG4gIHJldHVybiAhYTtcbn1cblxuZnVuY3Rpb24gdHJ1bmMoYSkge1xuICByZXR1cm4gYSA8IDAgPyBNYXRoLmNlaWwoYSkgOiBNYXRoLmZsb29yKGEpO1xufVxuXG5mdW5jdGlvbiByYW5kb20oYSkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChhIHx8IDEpO1xufVxuXG5mdW5jdGlvbiBmYWN0b3JpYWwoYSkgeyAvLyBhIVxuICByZXR1cm4gZ2FtbWEoYSArIDEpO1xufVxuXG5mdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgcmV0dXJuIGlzRmluaXRlKHZhbHVlKSAmJiAodmFsdWUgPT09IE1hdGgucm91bmQodmFsdWUpKTtcbn1cblxudmFyIEdBTU1BX0cgPSA0Ljc0MjE4NzU7XG52YXIgR0FNTUFfUCA9IFtcbiAgMC45OTk5OTk5OTk5OTk5OTcwOTE4MixcbiAgNTcuMTU2MjM1NjY1ODYyOTIzNTE3LCAtNTkuNTk3OTYwMzU1NDc1NDkxMjQ4LFxuICAxNC4xMzYwOTc5NzQ3NDE3NDcxNzQsIC0wLjQ5MTkxMzgxNjA5NzYyMDE5OTc4LFxuICAwLjMzOTk0NjQ5OTg0ODExODg4Njk5ZS00LFxuICAwLjQ2NTIzNjI4OTI3MDQ4NTc1NjY1ZS00LCAtMC45ODM3NDQ3NTMwNDg3OTU2NDY3N2UtNCxcbiAgMC4xNTgwODg3MDMyMjQ5MTI0ODg4NGUtMywgLTAuMjEwMjY0NDQxNzI0MTA0ODgzMTllLTMsXG4gIDAuMjE3NDM5NjE4MTE1MjEyNjQzMjBlLTMsIC0wLjE2NDMxODEwNjUzNjc2Mzg5MDIyZS0zLFxuICAwLjg0NDE4MjIzOTgzODUyNzQzMjkzZS00LCAtMC4yNjE5MDgzODQwMTU4MTQwODY3MGUtNCxcbiAgMC4zNjg5OTE4MjY1OTUzMTYyMjcwNGUtNVxuXTtcblxuLy8gR2FtbWEgZnVuY3Rpb24gZnJvbSBtYXRoLmpzXG5mdW5jdGlvbiBnYW1tYShuKSB7XG4gIHZhciB0LCB4O1xuXG4gIGlmIChpc0ludGVnZXIobikpIHtcbiAgICBpZiAobiA8PSAwKSB7XG4gICAgICByZXR1cm4gaXNGaW5pdGUobikgPyBJbmZpbml0eSA6IE5hTjtcbiAgICB9XG5cbiAgICBpZiAobiA+IDE3MSkge1xuICAgICAgcmV0dXJuIEluZmluaXR5OyAvLyBXaWxsIG92ZXJmbG93XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gbiAtIDI7XG4gICAgdmFyIHJlcyA9IG4gLSAxO1xuICAgIHdoaWxlICh2YWx1ZSA+IDEpIHtcbiAgICAgIHJlcyAqPSB2YWx1ZTtcbiAgICAgIHZhbHVlLS07XG4gICAgfVxuXG4gICAgaWYgKHJlcyA9PT0gMCkge1xuICAgICAgcmVzID0gMTsgLy8gMCEgaXMgcGVyIGRlZmluaXRpb24gMVxuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH1cblxuICBpZiAobiA8IDAuNSkge1xuICAgIHJldHVybiBNYXRoLlBJIC8gKE1hdGguc2luKE1hdGguUEkgKiBuKSAqIGdhbW1hKDEgLSBuKSk7XG4gIH1cblxuICBpZiAobiA+PSAxNzEuMzUpIHtcbiAgICByZXR1cm4gSW5maW5pdHk7IC8vIHdpbGwgb3ZlcmZsb3dcbiAgfVxuXG4gIGlmIChuID4gODUuMCkgeyAvLyBFeHRlbmRlZCBTdGlybGluZyBBcHByb3hcbiAgICB2YXIgdHdvTiA9IG4gKiBuO1xuICAgIHZhciB0aHJlZU4gPSB0d29OICogbjtcbiAgICB2YXIgZm91ck4gPSB0aHJlZU4gKiBuO1xuICAgIHZhciBmaXZlTiA9IGZvdXJOICogbjtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KDIgKiBNYXRoLlBJIC8gbikgKiBNYXRoLnBvdygobiAvIE1hdGguRSksIG4pICpcbiAgICAgICgxICsgKDEgLyAoMTIgKiBuKSkgKyAoMSAvICgyODggKiB0d29OKSkgLSAoMTM5IC8gKDUxODQwICogdGhyZWVOKSkgLVxuICAgICAgKDU3MSAvICgyNDg4MzIwICogZm91ck4pKSArICgxNjM4NzkgLyAoMjA5MDE4ODgwICogZml2ZU4pKSArXG4gICAgICAoNTI0NjgxOSAvICg3NTI0Njc5NjgwMCAqIGZpdmVOICogbikpKTtcbiAgfVxuXG4gIC0tbjtcbiAgeCA9IEdBTU1BX1BbMF07XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgR0FNTUFfUC5sZW5ndGg7ICsraSkge1xuICAgIHggKz0gR0FNTUFfUFtpXSAvIChuICsgaSk7XG4gIH1cblxuICB0ID0gbiArIEdBTU1BX0cgKyAwLjU7XG4gIHJldHVybiBNYXRoLnNxcnQoMiAqIE1hdGguUEkpICogTWF0aC5wb3codCwgbiArIDAuNSkgKiBNYXRoLmV4cCgtdCkgKiB4O1xufVxuXG5mdW5jdGlvbiBzdHJpbmdMZW5ndGgocykge1xuICByZXR1cm4gU3RyaW5nKHMpLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gaHlwb3QoKSB7XG4gIHZhciBzdW0gPSAwO1xuICB2YXIgbGFyZyA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGFyZyA9IE1hdGguYWJzKGFyZ3VtZW50c1tpXSk7XG4gICAgdmFyIGRpdjtcbiAgICBpZiAobGFyZyA8IGFyZykge1xuICAgICAgZGl2ID0gbGFyZyAvIGFyZztcbiAgICAgIHN1bSA9IChzdW0gKiBkaXYgKiBkaXYpICsgMTtcbiAgICAgIGxhcmcgPSBhcmc7XG4gICAgfSBlbHNlIGlmIChhcmcgPiAwKSB7XG4gICAgICBkaXYgPSBhcmcgLyBsYXJnO1xuICAgICAgc3VtICs9IGRpdiAqIGRpdjtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VtICs9IGFyZztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxhcmcgPT09IEluZmluaXR5ID8gSW5maW5pdHkgOiBsYXJnICogTWF0aC5zcXJ0KHN1bSk7XG59XG5cbmZ1bmN0aW9uIGNvbmRpdGlvbihjb25kLCB5ZXAsIG5vcGUpIHtcbiAgcmV0dXJuIGNvbmQgPyB5ZXAgOiBub3BlO1xufVxuXG5mdW5jdGlvbiBQYXJzZXIob3B0aW9ucykge1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB0aGlzLnVuYXJ5T3BzID0ge1xuICAgIHNpbjogTWF0aC5zaW4sXG4gICAgY29zOiBNYXRoLmNvcyxcbiAgICB0YW46IE1hdGgudGFuLFxuICAgIGFzaW46IE1hdGguYXNpbixcbiAgICBhY29zOiBNYXRoLmFjb3MsXG4gICAgYXRhbjogTWF0aC5hdGFuLFxuICAgIHNpbmg6IE1hdGguc2luaCB8fCBzaW5oLFxuICAgIGNvc2g6IE1hdGguY29zaCB8fCBjb3NoLFxuICAgIHRhbmg6IE1hdGgudGFuaCB8fCB0YW5oLFxuICAgIGFzaW5oOiBNYXRoLmFzaW5oIHx8IGFzaW5oLFxuICAgIGFjb3NoOiBNYXRoLmFjb3NoIHx8IGFjb3NoLFxuICAgIGF0YW5oOiBNYXRoLmF0YW5oIHx8IGF0YW5oLFxuICAgIHNxcnQ6IE1hdGguc3FydCxcbiAgICBsb2c6IE1hdGgubG9nLFxuICAgIGxuOiBNYXRoLmxvZyxcbiAgICBsZzogTWF0aC5sb2cxMCB8fCBsb2cxMCxcbiAgICBsb2cxMDogTWF0aC5sb2cxMCB8fCBsb2cxMCxcbiAgICBhYnM6IE1hdGguYWJzLFxuICAgIGNlaWw6IE1hdGguY2VpbCxcbiAgICBmbG9vcjogTWF0aC5mbG9vcixcbiAgICByb3VuZDogTWF0aC5yb3VuZCxcbiAgICB0cnVuYzogTWF0aC50cnVuYyB8fCB0cnVuYyxcbiAgICAnLSc6IG5lZyxcbiAgICAnKyc6IE51bWJlcixcbiAgICBleHA6IE1hdGguZXhwLFxuICAgIG5vdDogbm90LFxuICAgIGxlbmd0aDogc3RyaW5nTGVuZ3RoLFxuICAgICchJzogZmFjdG9yaWFsXG4gIH07XG5cbiAgdGhpcy5iaW5hcnlPcHMgPSB7XG4gICAgJysnOiBhZGQsXG4gICAgJy0nOiBzdWIsXG4gICAgJyonOiBtdWwsXG4gICAgJy8nOiBkaXYsXG4gICAgJyUnOiBtb2QsXG4gICAgJ14nOiBNYXRoLnBvdyxcbiAgICAnfHwnOiBjb25jYXQsXG4gICAgJz09JzogZXF1YWwsXG4gICAgJyE9Jzogbm90RXF1YWwsXG4gICAgJz4nOiBncmVhdGVyVGhhbixcbiAgICAnPCc6IGxlc3NUaGFuLFxuICAgICc+PSc6IGdyZWF0ZXJUaGFuRXF1YWwsXG4gICAgJzw9JzogbGVzc1RoYW5FcXVhbCxcbiAgICBhbmQ6IGFuZE9wZXJhdG9yLFxuICAgIG9yOiBvck9wZXJhdG9yLFxuICAgICdpbic6IGluT3BlcmF0b3JcbiAgfTtcblxuICB0aGlzLnRlcm5hcnlPcHMgPSB7XG4gICAgJz8nOiBjb25kaXRpb25cbiAgfTtcblxuICB0aGlzLmZ1bmN0aW9ucyA9IHtcbiAgICByYW5kb206IHJhbmRvbSxcbiAgICBmYWM6IGZhY3RvcmlhbCxcbiAgICBtaW46IE1hdGgubWluLFxuICAgIG1heDogTWF0aC5tYXgsXG4gICAgaHlwb3Q6IE1hdGguaHlwb3QgfHwgaHlwb3QsXG4gICAgcHl0OiBNYXRoLmh5cG90IHx8IGh5cG90LCAvLyBiYWNrd2FyZCBjb21wYXRcbiAgICBwb3c6IE1hdGgucG93LFxuICAgIGF0YW4yOiBNYXRoLmF0YW4yLFxuICAgICdpZic6IGNvbmRpdGlvbixcbiAgICBnYW1tYTogZ2FtbWFcbiAgfTtcblxuICB0aGlzLmNvbnN0cyA9IHtcbiAgICBFOiBNYXRoLkUsXG4gICAgUEk6IE1hdGguUEksXG4gICAgJ3RydWUnOiB0cnVlLFxuICAgICdmYWxzZSc6IGZhbHNlXG4gIH07XG59XG5cblBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoZXhwcikge1xuICB2YXIgaW5zdHIgPSBbXTtcbiAgdmFyIHBhcnNlclN0YXRlID0gbmV3IFBhcnNlclN0YXRlKFxuICAgIHRoaXMsXG4gICAgbmV3IFRva2VuU3RyZWFtKHRoaXMsIGV4cHIpLFxuICAgIHsgYWxsb3dNZW1iZXJBY2Nlc3M6IHRoaXMub3B0aW9ucy5hbGxvd01lbWJlckFjY2VzcyB9XG4gICk7XG5cbiAgcGFyc2VyU3RhdGUucGFyc2VFeHByZXNzaW9uKGluc3RyKTtcbiAgcGFyc2VyU3RhdGUuZXhwZWN0KFRFT0YsICdFT0YnKTtcblxuICByZXR1cm4gbmV3IEV4cHJlc3Npb24oaW5zdHIsIHRoaXMpO1xufTtcblxuUGFyc2VyLnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uIChleHByLCB2YXJpYWJsZXMpIHtcbiAgcmV0dXJuIHRoaXMucGFyc2UoZXhwcikuZXZhbHVhdGUodmFyaWFibGVzKTtcbn07XG5cbnZhciBzaGFyZWRQYXJzZXIgPSBuZXcgUGFyc2VyKCk7XG5cblBhcnNlci5wYXJzZSA9IGZ1bmN0aW9uIChleHByKSB7XG4gIHJldHVybiBzaGFyZWRQYXJzZXIucGFyc2UoZXhwcik7XG59O1xuXG5QYXJzZXIuZXZhbHVhdGUgPSBmdW5jdGlvbiAoZXhwciwgdmFyaWFibGVzKSB7XG4gIHJldHVybiBzaGFyZWRQYXJzZXIucGFyc2UoZXhwcikuZXZhbHVhdGUodmFyaWFibGVzKTtcbn07XG5cbi8qIVxuIEJhc2VkIG9uIG5kZWYucGFyc2VyLCBieSBSYXBoYWVsIEdyYWYockB1bmRlZmluZWQuY2gpXG4gaHR0cDovL3d3dy51bmRlZmluZWQuY2gvbXBhcnNlci9pbmRleC5odG1sXG5cbiBQb3J0ZWQgdG8gSmF2YVNjcmlwdCBhbmQgbW9kaWZpZWQgYnkgTWF0dGhldyBDcnVtbGV5IChlbWFpbEBtYXR0aGV3Y3J1bWxleS5jb20sIGh0dHA6Ly9zaWxlbnRtYXR0LmNvbS8pXG5cbiBZb3UgYXJlIGZyZWUgdG8gdXNlIGFuZCBtb2RpZnkgdGhpcyBjb2RlIGluIGFueXdheSB5b3UgZmluZCB1c2VmdWwuIFBsZWFzZSBsZWF2ZSB0aGlzIGNvbW1lbnQgaW4gdGhlIGNvZGVcbiB0byBhY2tub3dsZWRnZSBpdHMgb3JpZ2luYWwgc291cmNlLiBJZiB5b3UgZmVlbCBsaWtlIGl0LCBJIGVuam95IGhlYXJpbmcgYWJvdXQgcHJvamVjdHMgdGhhdCB1c2UgbXkgY29kZSxcbiBidXQgZG9uJ3QgZmVlbCBsaWtlIHlvdSBoYXZlIHRvIGxldCBtZSBrbm93IG9yIGFzayBwZXJtaXNzaW9uLlxuKi9cblxudmFyIGluZGV4ID0ge1xuICBQYXJzZXI6IFBhcnNlcixcbiAgRXhwcmVzc2lvbjogRXhwcmVzc2lvblxufTtcblxucmV0dXJuIGluZGV4O1xuXG59KSkpO1xuIiwiLyogRmlsZVNhdmVyLmpzXG4gKiBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cbiAqIDEuMy4yXG4gKiAyMDE2LTA2LTE2IDE4OjI1OjE5XG4gKlxuICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuICogTGljZW5zZTogTUlUXG4gKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuICovXG5cbi8qZ2xvYmFsIHNlbGYgKi9cbi8qanNsaW50IGJpdHdpc2U6IHRydWUsIGluZGVudDogNCwgbGF4YnJlYWs6IHRydWUsIGxheGNvbW1hOiB0cnVlLCBzbWFydHRhYnM6IHRydWUsIHBsdXNwbHVzOiB0cnVlICovXG5cbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvRmlsZVNhdmVyLmpzICovXG5cbnZhciBzYXZlQXMgPSBzYXZlQXMgfHwgKGZ1bmN0aW9uKHZpZXcpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdC8vIElFIDwxMCBpcyBleHBsaWNpdGx5IHVuc3VwcG9ydGVkXG5cdGlmICh0eXBlb2YgdmlldyA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIC9NU0lFIFsxLTldXFwuLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhclxuXHRcdCAgZG9jID0gdmlldy5kb2N1bWVudFxuXHRcdCAgLy8gb25seSBnZXQgVVJMIHdoZW4gbmVjZXNzYXJ5IGluIGNhc2UgQmxvYi5qcyBoYXNuJ3Qgb3ZlcnJpZGRlbiBpdCB5ZXRcblx0XHQsIGdldF9VUkwgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB2aWV3LlVSTCB8fCB2aWV3LndlYmtpdFVSTCB8fCB2aWV3O1xuXHRcdH1cblx0XHQsIHNhdmVfbGluayA9IGRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsIFwiYVwiKVxuXHRcdCwgY2FuX3VzZV9zYXZlX2xpbmsgPSBcImRvd25sb2FkXCIgaW4gc2F2ZV9saW5rXG5cdFx0LCBjbGljayA9IGZ1bmN0aW9uKG5vZGUpIHtcblx0XHRcdHZhciBldmVudCA9IG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIik7XG5cdFx0XHRub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdH1cblx0XHQsIGlzX3NhZmFyaSA9IC9jb25zdHJ1Y3Rvci9pLnRlc3Qodmlldy5IVE1MRWxlbWVudCkgfHwgdmlldy5zYWZhcmlcblx0XHQsIGlzX2Nocm9tZV9pb3MgPS9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXHRcdCwgdGhyb3dfb3V0c2lkZSA9IGZ1bmN0aW9uKGV4KSB7XG5cdFx0XHQodmlldy5zZXRJbW1lZGlhdGUgfHwgdmlldy5zZXRUaW1lb3V0KShmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhyb3cgZXg7XG5cdFx0XHR9LCAwKTtcblx0XHR9XG5cdFx0LCBmb3JjZV9zYXZlYWJsZV90eXBlID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIlxuXHRcdC8vIHRoZSBCbG9iIEFQSSBpcyBmdW5kYW1lbnRhbGx5IGJyb2tlbiBhcyB0aGVyZSBpcyBubyBcImRvd25sb2FkZmluaXNoZWRcIiBldmVudCB0byBzdWJzY3JpYmUgdG9cblx0XHQsIGFyYml0cmFyeV9yZXZva2VfdGltZW91dCA9IDEwMDAgKiA0MCAvLyBpbiBtc1xuXHRcdCwgcmV2b2tlID0gZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0dmFyIHJldm9rZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBmaWxlID09PSBcInN0cmluZ1wiKSB7IC8vIGZpbGUgaXMgYW4gb2JqZWN0IFVSTFxuXHRcdFx0XHRcdGdldF9VUkwoKS5yZXZva2VPYmplY3RVUkwoZmlsZSk7XG5cdFx0XHRcdH0gZWxzZSB7IC8vIGZpbGUgaXMgYSBGaWxlXG5cdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdHNldFRpbWVvdXQocmV2b2tlciwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0KTtcblx0XHR9XG5cdFx0LCBkaXNwYXRjaCA9IGZ1bmN0aW9uKGZpbGVzYXZlciwgZXZlbnRfdHlwZXMsIGV2ZW50KSB7XG5cdFx0XHRldmVudF90eXBlcyA9IFtdLmNvbmNhdChldmVudF90eXBlcyk7XG5cdFx0XHR2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcblx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0dmFyIGxpc3RlbmVyID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50X3R5cGVzW2ldXTtcblx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyLmNhbGwoZmlsZXNhdmVyLCBldmVudCB8fCBmaWxlc2F2ZXIpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGV4KSB7XG5cdFx0XHRcdFx0XHR0aHJvd19vdXRzaWRlKGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0LCBhdXRvX2JvbSA9IGZ1bmN0aW9uKGJsb2IpIHtcblx0XHRcdC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpXG5cdFx0XHQvLyBub3RlOiB5b3VyIGJyb3dzZXIgd2lsbCBhdXRvbWF0aWNhbGx5IGNvbnZlcnQgVVRGLTE2IFUrRkVGRiB0byBFRiBCQiBCRlxuXHRcdFx0aWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBCbG9iKFtTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkVGRiksIGJsb2JdLCB7dHlwZTogYmxvYi50eXBlfSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYmxvYjtcblx0XHR9XG5cdFx0LCBGaWxlU2F2ZXIgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xuXHRcdFx0aWYgKCFub19hdXRvX2JvbSkge1xuXHRcdFx0XHRibG9iID0gYXV0b19ib20oYmxvYik7XG5cdFx0XHR9XG5cdFx0XHQvLyBGaXJzdCB0cnkgYS5kb3dubG9hZCwgdGhlbiB3ZWIgZmlsZXN5c3RlbSwgdGhlbiBvYmplY3QgVVJMc1xuXHRcdFx0dmFyXG5cdFx0XHRcdCAgZmlsZXNhdmVyID0gdGhpc1xuXHRcdFx0XHQsIHR5cGUgPSBibG9iLnR5cGVcblx0XHRcdFx0LCBmb3JjZSA9IHR5cGUgPT09IGZvcmNlX3NhdmVhYmxlX3R5cGVcblx0XHRcdFx0LCBvYmplY3RfdXJsXG5cdFx0XHRcdCwgZGlzcGF0Y2hfYWxsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIG9uIGFueSBmaWxlc3lzIGVycm9ycyByZXZlcnQgdG8gc2F2aW5nIHdpdGggb2JqZWN0IFVSTHNcblx0XHRcdFx0LCBmc19lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICgoaXNfY2hyb21lX2lvcyB8fCAoZm9yY2UgJiYgaXNfc2FmYXJpKSkgJiYgdmlldy5GaWxlUmVhZGVyKSB7XG5cdFx0XHRcdFx0XHQvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIHVybHNcblx0XHRcdFx0XHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0XHRcdFx0cmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdXJsID0gaXNfY2hyb21lX2lvcyA/IHJlYWRlci5yZXN1bHQgOiByZWFkZXIucmVzdWx0LnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKTtcblx0XHRcdFx0XHRcdFx0dmFyIHBvcHVwID0gdmlldy5vcGVuKHVybCwgJ19ibGFuaycpO1xuXHRcdFx0XHRcdFx0XHRpZighcG9wdXApIHZpZXcubG9jYXRpb24uaHJlZiA9IHVybDtcblx0XHRcdFx0XHRcdFx0dXJsPXVuZGVmaW5lZDsgLy8gcmVsZWFzZSByZWZlcmVuY2UgYmVmb3JlIGRpc3BhdGNoaW5nXG5cdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuXHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gZG9uJ3QgY3JlYXRlIG1vcmUgb2JqZWN0IFVSTHMgdGhhbiBuZWVkZWRcblx0XHRcdFx0XHRpZiAoIW9iamVjdF91cmwpIHtcblx0XHRcdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoZm9yY2UpIHtcblx0XHRcdFx0XHRcdHZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZhciBvcGVuZWQgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0XHRpZiAoIW9wZW5lZCkge1xuXHRcdFx0XHRcdFx0XHQvLyBBcHBsZSBkb2VzIG5vdCBhbGxvdyB3aW5kb3cub3Blbiwgc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L3NhZmFyaS9kb2N1bWVudGF0aW9uL1Rvb2xzL0NvbmNlcHR1YWwvU2FmYXJpRXh0ZW5zaW9uR3VpZGUvV29ya2luZ3dpdGhXaW5kb3dzYW5kVGFicy9Xb3JraW5nd2l0aFdpbmRvd3NhbmRUYWJzLmh0bWxcblx0XHRcdFx0XHRcdFx0dmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcblx0XHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0XHRyZXZva2Uob2JqZWN0X3VybCk7XG5cdFx0XHRcdH1cblx0XHRcdDtcblx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLklOSVQ7XG5cblx0XHRcdGlmIChjYW5fdXNlX3NhdmVfbGluaykge1xuXHRcdFx0XHRvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzYXZlX2xpbmsuaHJlZiA9IG9iamVjdF91cmw7XG5cdFx0XHRcdFx0c2F2ZV9saW5rLmRvd25sb2FkID0gbmFtZTtcblx0XHRcdFx0XHRjbGljayhzYXZlX2xpbmspO1xuXHRcdFx0XHRcdGRpc3BhdGNoX2FsbCgpO1xuXHRcdFx0XHRcdHJldm9rZShvYmplY3RfdXJsKTtcblx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRmc19lcnJvcigpO1xuXHRcdH1cblx0XHQsIEZTX3Byb3RvID0gRmlsZVNhdmVyLnByb3RvdHlwZVxuXHRcdCwgc2F2ZUFzID0gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcblx0XHRcdHJldHVybiBuZXcgRmlsZVNhdmVyKGJsb2IsIG5hbWUgfHwgYmxvYi5uYW1lIHx8IFwiZG93bmxvYWRcIiwgbm9fYXV0b19ib20pO1xuXHRcdH1cblx0O1xuXHQvLyBJRSAxMCsgKG5hdGl2ZSBzYXZlQXMpXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XG5cdFx0XHRuYW1lID0gbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiO1xuXG5cdFx0XHRpZiAoIW5vX2F1dG9fYm9tKSB7XG5cdFx0XHRcdGJsb2IgPSBhdXRvX2JvbShibG9iKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihibG9iLCBuYW1lKTtcblx0XHR9O1xuXHR9XG5cblx0RlNfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbigpe307XG5cdEZTX3Byb3RvLnJlYWR5U3RhdGUgPSBGU19wcm90by5JTklUID0gMDtcblx0RlNfcHJvdG8uV1JJVElORyA9IDE7XG5cdEZTX3Byb3RvLkRPTkUgPSAyO1xuXG5cdEZTX3Byb3RvLmVycm9yID1cblx0RlNfcHJvdG8ub253cml0ZXN0YXJ0ID1cblx0RlNfcHJvdG8ub25wcm9ncmVzcyA9XG5cdEZTX3Byb3RvLm9ud3JpdGUgPVxuXHRGU19wcm90by5vbmFib3J0ID1cblx0RlNfcHJvdG8ub25lcnJvciA9XG5cdEZTX3Byb3RvLm9ud3JpdGVlbmQgPVxuXHRcdG51bGw7XG5cblx0cmV0dXJuIHNhdmVBcztcbn0oXG5cdCAgIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGZcblx0fHwgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3dcblx0fHwgdGhpcy5jb250ZW50XG4pKTtcbi8vIGBzZWxmYCBpcyB1bmRlZmluZWQgaW4gRmlyZWZveCBmb3IgQW5kcm9pZCBjb250ZW50IHNjcmlwdCBjb250ZXh0XG4vLyB3aGlsZSBgdGhpc2AgaXMgbnNJQ29udGVudEZyYW1lTWVzc2FnZU1hbmFnZXJcbi8vIHdpdGggYW4gYXR0cmlidXRlIGBjb250ZW50YCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSB3aW5kb3dcblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMuc2F2ZUFzID0gc2F2ZUFzO1xufSBlbHNlIGlmICgodHlwZW9mIGRlZmluZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkZWZpbmUgIT09IG51bGwpICYmIChkZWZpbmUuYW1kICE9PSBudWxsKSkge1xuICBkZWZpbmUoXCJGaWxlU2F2ZXIuanNcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNhdmVBcztcbiAgfSk7XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTMgUGllcm94eSA8cGllcm94eUBwaWVyb3h5Lm5ldD5cbi8vIFRoaXMgd29yayBpcyBmcmVlLiBZb3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0XG4vLyB1bmRlciB0aGUgdGVybXMgb2YgdGhlIFdURlBMLCBWZXJzaW9uIDJcbi8vIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSBMSUNFTlNFLnR4dCBvciBodHRwOi8vd3d3Lnd0ZnBsLm5ldC9cbi8vXG4vLyBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgdGhlIGhvbWUgcGFnZTpcbi8vIGh0dHA6Ly9waWVyb3h5Lm5ldC9ibG9nL3BhZ2VzL2x6LXN0cmluZy90ZXN0aW5nLmh0bWxcbi8vXG4vLyBMWi1iYXNlZCBjb21wcmVzc2lvbiBhbGdvcml0aG0sIHZlcnNpb24gMS40LjRcbnZhciBMWlN0cmluZyA9IChmdW5jdGlvbigpIHtcblxuLy8gcHJpdmF0ZSBwcm9wZXJ0eVxudmFyIGYgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xudmFyIGtleVN0ckJhc2U2NCA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIjtcbnZhciBrZXlTdHJVcmlTYWZlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSstJFwiO1xudmFyIGJhc2VSZXZlcnNlRGljID0ge307XG5cbmZ1bmN0aW9uIGdldEJhc2VWYWx1ZShhbHBoYWJldCwgY2hhcmFjdGVyKSB7XG4gIGlmICghYmFzZVJldmVyc2VEaWNbYWxwaGFiZXRdKSB7XG4gICAgYmFzZVJldmVyc2VEaWNbYWxwaGFiZXRdID0ge307XG4gICAgZm9yICh2YXIgaT0wIDsgaTxhbHBoYWJldC5sZW5ndGggOyBpKyspIHtcbiAgICAgIGJhc2VSZXZlcnNlRGljW2FscGhhYmV0XVthbHBoYWJldC5jaGFyQXQoaSldID0gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJhc2VSZXZlcnNlRGljW2FscGhhYmV0XVtjaGFyYWN0ZXJdO1xufVxuXG52YXIgTFpTdHJpbmcgPSB7XG4gIGNvbXByZXNzVG9CYXNlNjQgOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgPT0gbnVsbCkgcmV0dXJuIFwiXCI7XG4gICAgdmFyIHJlcyA9IExaU3RyaW5nLl9jb21wcmVzcyhpbnB1dCwgNiwgZnVuY3Rpb24oYSl7cmV0dXJuIGtleVN0ckJhc2U2NC5jaGFyQXQoYSk7fSk7XG4gICAgc3dpdGNoIChyZXMubGVuZ3RoICUgNCkgeyAvLyBUbyBwcm9kdWNlIHZhbGlkIEJhc2U2NFxuICAgIGRlZmF1bHQ6IC8vIFdoZW4gY291bGQgdGhpcyBoYXBwZW4gP1xuICAgIGNhc2UgMCA6IHJldHVybiByZXM7XG4gICAgY2FzZSAxIDogcmV0dXJuIHJlcytcIj09PVwiO1xuICAgIGNhc2UgMiA6IHJldHVybiByZXMrXCI9PVwiO1xuICAgIGNhc2UgMyA6IHJldHVybiByZXMrXCI9XCI7XG4gICAgfVxuICB9LFxuXG4gIGRlY29tcHJlc3NGcm9tQmFzZTY0IDogZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiBcIlwiO1xuICAgIGlmIChpbnB1dCA9PSBcIlwiKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gTFpTdHJpbmcuX2RlY29tcHJlc3MoaW5wdXQubGVuZ3RoLCAzMiwgZnVuY3Rpb24oaW5kZXgpIHsgcmV0dXJuIGdldEJhc2VWYWx1ZShrZXlTdHJCYXNlNjQsIGlucHV0LmNoYXJBdChpbmRleCkpOyB9KTtcbiAgfSxcblxuICBjb21wcmVzc1RvVVRGMTYgOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgPT0gbnVsbCkgcmV0dXJuIFwiXCI7XG4gICAgcmV0dXJuIExaU3RyaW5nLl9jb21wcmVzcyhpbnB1dCwgMTUsIGZ1bmN0aW9uKGEpe3JldHVybiBmKGErMzIpO30pICsgXCIgXCI7XG4gIH0sXG5cbiAgZGVjb21wcmVzc0Zyb21VVEYxNjogZnVuY3Rpb24gKGNvbXByZXNzZWQpIHtcbiAgICBpZiAoY29tcHJlc3NlZCA9PSBudWxsKSByZXR1cm4gXCJcIjtcbiAgICBpZiAoY29tcHJlc3NlZCA9PSBcIlwiKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gTFpTdHJpbmcuX2RlY29tcHJlc3MoY29tcHJlc3NlZC5sZW5ndGgsIDE2Mzg0LCBmdW5jdGlvbihpbmRleCkgeyByZXR1cm4gY29tcHJlc3NlZC5jaGFyQ29kZUF0KGluZGV4KSAtIDMyOyB9KTtcbiAgfSxcblxuICAvL2NvbXByZXNzIGludG8gdWludDhhcnJheSAoVUNTLTIgYmlnIGVuZGlhbiBmb3JtYXQpXG4gIGNvbXByZXNzVG9VaW50OEFycmF5OiBmdW5jdGlvbiAodW5jb21wcmVzc2VkKSB7XG4gICAgdmFyIGNvbXByZXNzZWQgPSBMWlN0cmluZy5jb21wcmVzcyh1bmNvbXByZXNzZWQpO1xuICAgIHZhciBidWY9bmV3IFVpbnQ4QXJyYXkoY29tcHJlc3NlZC5sZW5ndGgqMik7IC8vIDIgYnl0ZXMgcGVyIGNoYXJhY3RlclxuXG4gICAgZm9yICh2YXIgaT0wLCBUb3RhbExlbj1jb21wcmVzc2VkLmxlbmd0aDsgaTxUb3RhbExlbjsgaSsrKSB7XG4gICAgICB2YXIgY3VycmVudF92YWx1ZSA9IGNvbXByZXNzZWQuY2hhckNvZGVBdChpKTtcbiAgICAgIGJ1ZltpKjJdID0gY3VycmVudF92YWx1ZSA+Pj4gODtcbiAgICAgIGJ1ZltpKjIrMV0gPSBjdXJyZW50X3ZhbHVlICUgMjU2O1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xuICB9LFxuXG4gIC8vZGVjb21wcmVzcyBmcm9tIHVpbnQ4YXJyYXkgKFVDUy0yIGJpZyBlbmRpYW4gZm9ybWF0KVxuICBkZWNvbXByZXNzRnJvbVVpbnQ4QXJyYXk6ZnVuY3Rpb24gKGNvbXByZXNzZWQpIHtcbiAgICBpZiAoY29tcHJlc3NlZD09PW51bGwgfHwgY29tcHJlc3NlZD09PXVuZGVmaW5lZCl7XG4gICAgICAgIHJldHVybiBMWlN0cmluZy5kZWNvbXByZXNzKGNvbXByZXNzZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBidWY9bmV3IEFycmF5KGNvbXByZXNzZWQubGVuZ3RoLzIpOyAvLyAyIGJ5dGVzIHBlciBjaGFyYWN0ZXJcbiAgICAgICAgZm9yICh2YXIgaT0wLCBUb3RhbExlbj1idWYubGVuZ3RoOyBpPFRvdGFsTGVuOyBpKyspIHtcbiAgICAgICAgICBidWZbaV09Y29tcHJlc3NlZFtpKjJdKjI1Nitjb21wcmVzc2VkW2kqMisxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgYnVmLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChmKGMpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBMWlN0cmluZy5kZWNvbXByZXNzKHJlc3VsdC5qb2luKCcnKSk7XG5cbiAgICB9XG5cbiAgfSxcblxuXG4gIC8vY29tcHJlc3MgaW50byBhIHN0cmluZyB0aGF0IGlzIGFscmVhZHkgVVJJIGVuY29kZWRcbiAgY29tcHJlc3NUb0VuY29kZWRVUklDb21wb25lbnQ6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIGlmIChpbnB1dCA9PSBudWxsKSByZXR1cm4gXCJcIjtcbiAgICByZXR1cm4gTFpTdHJpbmcuX2NvbXByZXNzKGlucHV0LCA2LCBmdW5jdGlvbihhKXtyZXR1cm4ga2V5U3RyVXJpU2FmZS5jaGFyQXQoYSk7fSk7XG4gIH0sXG5cbiAgLy9kZWNvbXByZXNzIGZyb20gYW4gb3V0cHV0IG9mIGNvbXByZXNzVG9FbmNvZGVkVVJJQ29tcG9uZW50XG4gIGRlY29tcHJlc3NGcm9tRW5jb2RlZFVSSUNvbXBvbmVudDpmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgPT0gbnVsbCkgcmV0dXJuIFwiXCI7XG4gICAgaWYgKGlucHV0ID09IFwiXCIpIHJldHVybiBudWxsO1xuICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvIC9nLCBcIitcIik7XG4gICAgcmV0dXJuIExaU3RyaW5nLl9kZWNvbXByZXNzKGlucHV0Lmxlbmd0aCwgMzIsIGZ1bmN0aW9uKGluZGV4KSB7IHJldHVybiBnZXRCYXNlVmFsdWUoa2V5U3RyVXJpU2FmZSwgaW5wdXQuY2hhckF0KGluZGV4KSk7IH0pO1xuICB9LFxuXG4gIGNvbXByZXNzOiBmdW5jdGlvbiAodW5jb21wcmVzc2VkKSB7XG4gICAgcmV0dXJuIExaU3RyaW5nLl9jb21wcmVzcyh1bmNvbXByZXNzZWQsIDE2LCBmdW5jdGlvbihhKXtyZXR1cm4gZihhKTt9KTtcbiAgfSxcbiAgX2NvbXByZXNzOiBmdW5jdGlvbiAodW5jb21wcmVzc2VkLCBiaXRzUGVyQ2hhciwgZ2V0Q2hhckZyb21JbnQpIHtcbiAgICBpZiAodW5jb21wcmVzc2VkID09IG51bGwpIHJldHVybiBcIlwiO1xuICAgIHZhciBpLCB2YWx1ZSxcbiAgICAgICAgY29udGV4dF9kaWN0aW9uYXJ5PSB7fSxcbiAgICAgICAgY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGU9IHt9LFxuICAgICAgICBjb250ZXh0X2M9XCJcIixcbiAgICAgICAgY29udGV4dF93Yz1cIlwiLFxuICAgICAgICBjb250ZXh0X3c9XCJcIixcbiAgICAgICAgY29udGV4dF9lbmxhcmdlSW49IDIsIC8vIENvbXBlbnNhdGUgZm9yIHRoZSBmaXJzdCBlbnRyeSB3aGljaCBzaG91bGQgbm90IGNvdW50XG4gICAgICAgIGNvbnRleHRfZGljdFNpemU9IDMsXG4gICAgICAgIGNvbnRleHRfbnVtQml0cz0gMixcbiAgICAgICAgY29udGV4dF9kYXRhPVtdLFxuICAgICAgICBjb250ZXh0X2RhdGFfdmFsPTAsXG4gICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbj0wLFxuICAgICAgICBpaTtcblxuICAgIGZvciAoaWkgPSAwOyBpaSA8IHVuY29tcHJlc3NlZC5sZW5ndGg7IGlpICs9IDEpIHtcbiAgICAgIGNvbnRleHRfYyA9IHVuY29tcHJlc3NlZC5jaGFyQXQoaWkpO1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGV4dF9kaWN0aW9uYXJ5LGNvbnRleHRfYykpIHtcbiAgICAgICAgY29udGV4dF9kaWN0aW9uYXJ5W2NvbnRleHRfY10gPSBjb250ZXh0X2RpY3RTaXplKys7XG4gICAgICAgIGNvbnRleHRfZGljdGlvbmFyeVRvQ3JlYXRlW2NvbnRleHRfY10gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0X3djID0gY29udGV4dF93ICsgY29udGV4dF9jO1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb250ZXh0X2RpY3Rpb25hcnksY29udGV4dF93YykpIHtcbiAgICAgICAgY29udGV4dF93ID0gY29udGV4dF93YztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGUsY29udGV4dF93KSkge1xuICAgICAgICAgIGlmIChjb250ZXh0X3cuY2hhckNvZGVBdCgwKTwyNTYpIHtcbiAgICAgICAgICAgIGZvciAoaT0wIDsgaTxjb250ZXh0X251bUJpdHMgOyBpKyspIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IChjb250ZXh0X2RhdGFfdmFsIDw8IDEpO1xuICAgICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IGJpdHNQZXJDaGFyLTEpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YS5wdXNoKGdldENoYXJGcm9tSW50KGNvbnRleHRfZGF0YV92YWwpKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSBjb250ZXh0X3cuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIGZvciAoaT0wIDsgaTw4IDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAoY29udGV4dF9kYXRhX3ZhbCA8PCAxKSB8ICh2YWx1ZSYxKTtcbiAgICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSBiaXRzUGVyQ2hhci0xKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGEucHVzaChnZXRDaGFyRnJvbUludChjb250ZXh0X2RhdGFfdmFsKSk7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IDE7XG4gICAgICAgICAgICBmb3IgKGk9MCA7IGk8Y29udGV4dF9udW1CaXRzIDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAoY29udGV4dF9kYXRhX3ZhbCA8PCAxKSB8IHZhbHVlO1xuICAgICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09Yml0c1BlckNoYXItMSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhLnB1c2goZ2V0Q2hhckZyb21JbnQoY29udGV4dF9kYXRhX3ZhbCkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gY29udGV4dF93LmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBmb3IgKGk9MCA7IGk8MTYgOyBpKyspIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IChjb250ZXh0X2RhdGFfdmFsIDw8IDEpIHwgKHZhbHVlJjEpO1xuICAgICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IGJpdHNQZXJDaGFyLTEpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YS5wdXNoKGdldENoYXJGcm9tSW50KGNvbnRleHRfZGF0YV92YWwpKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRleHRfZW5sYXJnZUluLS07XG4gICAgICAgICAgaWYgKGNvbnRleHRfZW5sYXJnZUluID09IDApIHtcbiAgICAgICAgICAgIGNvbnRleHRfZW5sYXJnZUluID0gTWF0aC5wb3coMiwgY29udGV4dF9udW1CaXRzKTtcbiAgICAgICAgICAgIGNvbnRleHRfbnVtQml0cysrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGVbY29udGV4dF93XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGNvbnRleHRfZGljdGlvbmFyeVtjb250ZXh0X3ddO1xuICAgICAgICAgIGZvciAoaT0wIDsgaTxjb250ZXh0X251bUJpdHMgOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAoY29udGV4dF9kYXRhX3ZhbCA8PCAxKSB8ICh2YWx1ZSYxKTtcbiAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gYml0c1BlckNoYXItMSkge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGEucHVzaChnZXRDaGFyRnJvbUludChjb250ZXh0X2RhdGFfdmFsKSk7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgICAgICAgfVxuXG5cbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0X2VubGFyZ2VJbi0tO1xuICAgICAgICBpZiAoY29udGV4dF9lbmxhcmdlSW4gPT0gMCkge1xuICAgICAgICAgIGNvbnRleHRfZW5sYXJnZUluID0gTWF0aC5wb3coMiwgY29udGV4dF9udW1CaXRzKTtcbiAgICAgICAgICBjb250ZXh0X251bUJpdHMrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgd2MgdG8gdGhlIGRpY3Rpb25hcnkuXG4gICAgICAgIGNvbnRleHRfZGljdGlvbmFyeVtjb250ZXh0X3djXSA9IGNvbnRleHRfZGljdFNpemUrKztcbiAgICAgICAgY29udGV4dF93ID0gU3RyaW5nKGNvbnRleHRfYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gT3V0cHV0IHRoZSBjb2RlIGZvciB3LlxuICAgIGlmIChjb250ZXh0X3cgIT09IFwiXCIpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGUsY29udGV4dF93KSkge1xuICAgICAgICBpZiAoY29udGV4dF93LmNoYXJDb2RlQXQoMCk8MjU2KSB7XG4gICAgICAgICAgZm9yIChpPTAgOyBpPGNvbnRleHRfbnVtQml0cyA7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IChjb250ZXh0X2RhdGFfdmFsIDw8IDEpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSBiaXRzUGVyQ2hhci0xKSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YS5wdXNoKGdldENoYXJGcm9tSW50KGNvbnRleHRfZGF0YV92YWwpKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsdWUgPSBjb250ZXh0X3cuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICBmb3IgKGk9MCA7IGk8OCA7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IChjb250ZXh0X2RhdGFfdmFsIDw8IDEpIHwgKHZhbHVlJjEpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSBiaXRzUGVyQ2hhci0xKSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YS5wdXNoKGdldENoYXJGcm9tSW50KGNvbnRleHRfZGF0YV92YWwpKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSAxO1xuICAgICAgICAgIGZvciAoaT0wIDsgaTxjb250ZXh0X251bUJpdHMgOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAoY29udGV4dF9kYXRhX3ZhbCA8PCAxKSB8IHZhbHVlO1xuICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSBiaXRzUGVyQ2hhci0xKSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YS5wdXNoKGdldENoYXJGcm9tSW50KGNvbnRleHRfZGF0YV92YWwpKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsdWUgPSBjb250ZXh0X3cuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICBmb3IgKGk9MCA7IGk8MTYgOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAoY29udGV4dF9kYXRhX3ZhbCA8PCAxKSB8ICh2YWx1ZSYxKTtcbiAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gYml0c1BlckNoYXItMSkge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGEucHVzaChnZXRDaGFyRnJvbUludChjb250ZXh0X2RhdGFfdmFsKSk7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHRfZW5sYXJnZUluLS07XG4gICAgICAgIGlmIChjb250ZXh0X2VubGFyZ2VJbiA9PSAwKSB7XG4gICAgICAgICAgY29udGV4dF9lbmxhcmdlSW4gPSBNYXRoLnBvdygyLCBjb250ZXh0X251bUJpdHMpO1xuICAgICAgICAgIGNvbnRleHRfbnVtQml0cysrO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBjb250ZXh0X2RpY3Rpb25hcnlUb0NyZWF0ZVtjb250ZXh0X3ddO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBjb250ZXh0X2RpY3Rpb25hcnlbY29udGV4dF93XTtcbiAgICAgICAgZm9yIChpPTAgOyBpPGNvbnRleHRfbnVtQml0cyA7IGkrKykge1xuICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAoY29udGV4dF9kYXRhX3ZhbCA8PCAxKSB8ICh2YWx1ZSYxKTtcbiAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IGJpdHNQZXJDaGFyLTEpIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGEucHVzaChnZXRDaGFyRnJvbUludChjb250ZXh0X2RhdGFfdmFsKSk7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICAgICAgfVxuXG5cbiAgICAgIH1cbiAgICAgIGNvbnRleHRfZW5sYXJnZUluLS07XG4gICAgICBpZiAoY29udGV4dF9lbmxhcmdlSW4gPT0gMCkge1xuICAgICAgICBjb250ZXh0X2VubGFyZ2VJbiA9IE1hdGgucG93KDIsIGNvbnRleHRfbnVtQml0cyk7XG4gICAgICAgIGNvbnRleHRfbnVtQml0cysrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1hcmsgdGhlIGVuZCBvZiB0aGUgc3RyZWFtXG4gICAgdmFsdWUgPSAyO1xuICAgIGZvciAoaT0wIDsgaTxjb250ZXh0X251bUJpdHMgOyBpKyspIHtcbiAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAoY29udGV4dF9kYXRhX3ZhbCA8PCAxKSB8ICh2YWx1ZSYxKTtcbiAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gYml0c1BlckNoYXItMSkge1xuICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICBjb250ZXh0X2RhdGEucHVzaChnZXRDaGFyRnJvbUludChjb250ZXh0X2RhdGFfdmFsKSk7XG4gICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgfVxuXG4gICAgLy8gRmx1c2ggdGhlIGxhc3QgY2hhclxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb250ZXh0X2RhdGFfdmFsID0gKGNvbnRleHRfZGF0YV92YWwgPDwgMSk7XG4gICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IGJpdHNQZXJDaGFyLTEpIHtcbiAgICAgICAgY29udGV4dF9kYXRhLnB1c2goZ2V0Q2hhckZyb21JbnQoY29udGV4dF9kYXRhX3ZhbCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGVsc2UgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0X2RhdGEuam9pbignJyk7XG4gIH0sXG5cbiAgZGVjb21wcmVzczogZnVuY3Rpb24gKGNvbXByZXNzZWQpIHtcbiAgICBpZiAoY29tcHJlc3NlZCA9PSBudWxsKSByZXR1cm4gXCJcIjtcbiAgICBpZiAoY29tcHJlc3NlZCA9PSBcIlwiKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gTFpTdHJpbmcuX2RlY29tcHJlc3MoY29tcHJlc3NlZC5sZW5ndGgsIDMyNzY4LCBmdW5jdGlvbihpbmRleCkgeyByZXR1cm4gY29tcHJlc3NlZC5jaGFyQ29kZUF0KGluZGV4KTsgfSk7XG4gIH0sXG5cbiAgX2RlY29tcHJlc3M6IGZ1bmN0aW9uIChsZW5ndGgsIHJlc2V0VmFsdWUsIGdldE5leHRWYWx1ZSkge1xuICAgIHZhciBkaWN0aW9uYXJ5ID0gW10sXG4gICAgICAgIG5leHQsXG4gICAgICAgIGVubGFyZ2VJbiA9IDQsXG4gICAgICAgIGRpY3RTaXplID0gNCxcbiAgICAgICAgbnVtQml0cyA9IDMsXG4gICAgICAgIGVudHJ5ID0gXCJcIixcbiAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgIGksXG4gICAgICAgIHcsXG4gICAgICAgIGJpdHMsIHJlc2IsIG1heHBvd2VyLCBwb3dlcixcbiAgICAgICAgYyxcbiAgICAgICAgZGF0YSA9IHt2YWw6Z2V0TmV4dFZhbHVlKDApLCBwb3NpdGlvbjpyZXNldFZhbHVlLCBpbmRleDoxfTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpICs9IDEpIHtcbiAgICAgIGRpY3Rpb25hcnlbaV0gPSBpO1xuICAgIH1cblxuICAgIGJpdHMgPSAwO1xuICAgIG1heHBvd2VyID0gTWF0aC5wb3coMiwyKTtcbiAgICBwb3dlcj0xO1xuICAgIHdoaWxlIChwb3dlciE9bWF4cG93ZXIpIHtcbiAgICAgIHJlc2IgPSBkYXRhLnZhbCAmIGRhdGEucG9zaXRpb247XG4gICAgICBkYXRhLnBvc2l0aW9uID4+PSAxO1xuICAgICAgaWYgKGRhdGEucG9zaXRpb24gPT0gMCkge1xuICAgICAgICBkYXRhLnBvc2l0aW9uID0gcmVzZXRWYWx1ZTtcbiAgICAgICAgZGF0YS52YWwgPSBnZXROZXh0VmFsdWUoZGF0YS5pbmRleCsrKTtcbiAgICAgIH1cbiAgICAgIGJpdHMgfD0gKHJlc2I+MCA/IDEgOiAwKSAqIHBvd2VyO1xuICAgICAgcG93ZXIgPDw9IDE7XG4gICAgfVxuXG4gICAgc3dpdGNoIChuZXh0ID0gYml0cykge1xuICAgICAgY2FzZSAwOlxuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIG1heHBvd2VyID0gTWF0aC5wb3coMiw4KTtcbiAgICAgICAgICBwb3dlcj0xO1xuICAgICAgICAgIHdoaWxlIChwb3dlciE9bWF4cG93ZXIpIHtcbiAgICAgICAgICAgIHJlc2IgPSBkYXRhLnZhbCAmIGRhdGEucG9zaXRpb247XG4gICAgICAgICAgICBkYXRhLnBvc2l0aW9uID4+PSAxO1xuICAgICAgICAgICAgaWYgKGRhdGEucG9zaXRpb24gPT0gMCkge1xuICAgICAgICAgICAgICBkYXRhLnBvc2l0aW9uID0gcmVzZXRWYWx1ZTtcbiAgICAgICAgICAgICAgZGF0YS52YWwgPSBnZXROZXh0VmFsdWUoZGF0YS5pbmRleCsrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpdHMgfD0gKHJlc2I+MCA/IDEgOiAwKSAqIHBvd2VyO1xuICAgICAgICAgICAgcG93ZXIgPDw9IDE7XG4gICAgICAgICAgfVxuICAgICAgICBjID0gZihiaXRzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgbWF4cG93ZXIgPSBNYXRoLnBvdygyLDE2KTtcbiAgICAgICAgICBwb3dlcj0xO1xuICAgICAgICAgIHdoaWxlIChwb3dlciE9bWF4cG93ZXIpIHtcbiAgICAgICAgICAgIHJlc2IgPSBkYXRhLnZhbCAmIGRhdGEucG9zaXRpb247XG4gICAgICAgICAgICBkYXRhLnBvc2l0aW9uID4+PSAxO1xuICAgICAgICAgICAgaWYgKGRhdGEucG9zaXRpb24gPT0gMCkge1xuICAgICAgICAgICAgICBkYXRhLnBvc2l0aW9uID0gcmVzZXRWYWx1ZTtcbiAgICAgICAgICAgICAgZGF0YS52YWwgPSBnZXROZXh0VmFsdWUoZGF0YS5pbmRleCsrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpdHMgfD0gKHJlc2I+MCA/IDEgOiAwKSAqIHBvd2VyO1xuICAgICAgICAgICAgcG93ZXIgPDw9IDE7XG4gICAgICAgICAgfVxuICAgICAgICBjID0gZihiaXRzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBkaWN0aW9uYXJ5WzNdID0gYztcbiAgICB3ID0gYztcbiAgICByZXN1bHQucHVzaChjKTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKGRhdGEuaW5kZXggPiBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG5cbiAgICAgIGJpdHMgPSAwO1xuICAgICAgbWF4cG93ZXIgPSBNYXRoLnBvdygyLG51bUJpdHMpO1xuICAgICAgcG93ZXI9MTtcbiAgICAgIHdoaWxlIChwb3dlciE9bWF4cG93ZXIpIHtcbiAgICAgICAgcmVzYiA9IGRhdGEudmFsICYgZGF0YS5wb3NpdGlvbjtcbiAgICAgICAgZGF0YS5wb3NpdGlvbiA+Pj0gMTtcbiAgICAgICAgaWYgKGRhdGEucG9zaXRpb24gPT0gMCkge1xuICAgICAgICAgIGRhdGEucG9zaXRpb24gPSByZXNldFZhbHVlO1xuICAgICAgICAgIGRhdGEudmFsID0gZ2V0TmV4dFZhbHVlKGRhdGEuaW5kZXgrKyk7XG4gICAgICAgIH1cbiAgICAgICAgYml0cyB8PSAocmVzYj4wID8gMSA6IDApICogcG93ZXI7XG4gICAgICAgIHBvd2VyIDw8PSAxO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGMgPSBiaXRzKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICBtYXhwb3dlciA9IE1hdGgucG93KDIsOCk7XG4gICAgICAgICAgcG93ZXI9MTtcbiAgICAgICAgICB3aGlsZSAocG93ZXIhPW1heHBvd2VyKSB7XG4gICAgICAgICAgICByZXNiID0gZGF0YS52YWwgJiBkYXRhLnBvc2l0aW9uO1xuICAgICAgICAgICAgZGF0YS5wb3NpdGlvbiA+Pj0gMTtcbiAgICAgICAgICAgIGlmIChkYXRhLnBvc2l0aW9uID09IDApIHtcbiAgICAgICAgICAgICAgZGF0YS5wb3NpdGlvbiA9IHJlc2V0VmFsdWU7XG4gICAgICAgICAgICAgIGRhdGEudmFsID0gZ2V0TmV4dFZhbHVlKGRhdGEuaW5kZXgrKyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaXRzIHw9IChyZXNiPjAgPyAxIDogMCkgKiBwb3dlcjtcbiAgICAgICAgICAgIHBvd2VyIDw8PSAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRpY3Rpb25hcnlbZGljdFNpemUrK10gPSBmKGJpdHMpO1xuICAgICAgICAgIGMgPSBkaWN0U2l6ZS0xO1xuICAgICAgICAgIGVubGFyZ2VJbi0tO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgbWF4cG93ZXIgPSBNYXRoLnBvdygyLDE2KTtcbiAgICAgICAgICBwb3dlcj0xO1xuICAgICAgICAgIHdoaWxlIChwb3dlciE9bWF4cG93ZXIpIHtcbiAgICAgICAgICAgIHJlc2IgPSBkYXRhLnZhbCAmIGRhdGEucG9zaXRpb247XG4gICAgICAgICAgICBkYXRhLnBvc2l0aW9uID4+PSAxO1xuICAgICAgICAgICAgaWYgKGRhdGEucG9zaXRpb24gPT0gMCkge1xuICAgICAgICAgICAgICBkYXRhLnBvc2l0aW9uID0gcmVzZXRWYWx1ZTtcbiAgICAgICAgICAgICAgZGF0YS52YWwgPSBnZXROZXh0VmFsdWUoZGF0YS5pbmRleCsrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpdHMgfD0gKHJlc2I+MCA/IDEgOiAwKSAqIHBvd2VyO1xuICAgICAgICAgICAgcG93ZXIgPDw9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRpY3Rpb25hcnlbZGljdFNpemUrK10gPSBmKGJpdHMpO1xuICAgICAgICAgIGMgPSBkaWN0U2l6ZS0xO1xuICAgICAgICAgIGVubGFyZ2VJbi0tO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVubGFyZ2VJbiA9PSAwKSB7XG4gICAgICAgIGVubGFyZ2VJbiA9IE1hdGgucG93KDIsIG51bUJpdHMpO1xuICAgICAgICBudW1CaXRzKys7XG4gICAgICB9XG5cbiAgICAgIGlmIChkaWN0aW9uYXJ5W2NdKSB7XG4gICAgICAgIGVudHJ5ID0gZGljdGlvbmFyeVtjXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjID09PSBkaWN0U2l6ZSkge1xuICAgICAgICAgIGVudHJ5ID0gdyArIHcuY2hhckF0KDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXN1bHQucHVzaChlbnRyeSk7XG5cbiAgICAgIC8vIEFkZCB3K2VudHJ5WzBdIHRvIHRoZSBkaWN0aW9uYXJ5LlxuICAgICAgZGljdGlvbmFyeVtkaWN0U2l6ZSsrXSA9IHcgKyBlbnRyeS5jaGFyQXQoMCk7XG4gICAgICBlbmxhcmdlSW4tLTtcblxuICAgICAgdyA9IGVudHJ5O1xuXG4gICAgICBpZiAoZW5sYXJnZUluID09IDApIHtcbiAgICAgICAgZW5sYXJnZUluID0gTWF0aC5wb3coMiwgbnVtQml0cyk7XG4gICAgICAgIG51bUJpdHMrKztcbiAgICAgIH1cblxuICAgIH1cbiAgfVxufTtcbiAgcmV0dXJuIExaU3RyaW5nO1xufSkoKTtcblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gTFpTdHJpbmc7IH0pO1xufSBlbHNlIGlmKCB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUgIT0gbnVsbCApIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBMWlN0cmluZ1xufVxuIiwiLy8hIG1vbWVudC5qc1xuLy8hIHZlcnNpb24gOiAyLjE4LjFcbi8vISBhdXRob3JzIDogVGltIFdvb2QsIElza3JlbiBDaGVybmV2LCBNb21lbnQuanMgY29udHJpYnV0b3JzXG4vLyEgbGljZW5zZSA6IE1JVFxuLy8hIG1vbWVudGpzLmNvbVxuXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICBnbG9iYWwubW9tZW50ID0gZmFjdG9yeSgpXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxudmFyIGhvb2tDYWxsYmFjaztcblxuZnVuY3Rpb24gaG9va3MgKCkge1xuICAgIHJldHVybiBob29rQ2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxuLy8gVGhpcyBpcyBkb25lIHRvIHJlZ2lzdGVyIHRoZSBtZXRob2QgY2FsbGVkIHdpdGggbW9tZW50KClcbi8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuZnVuY3Rpb24gc2V0SG9va0NhbGxiYWNrIChjYWxsYmFjaykge1xuICAgIGhvb2tDYWxsYmFjayA9IGNhbGxiYWNrO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgQXJyYXkgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcbiAgICAvLyBJRTggd2lsbCB0cmVhdCB1bmRlZmluZWQgYW5kIG51bGwgYXMgb2JqZWN0IGlmIGl0IHdhc24ndCBmb3JcbiAgICAvLyBpbnB1dCAhPSBudWxsXG4gICAgcmV0dXJuIGlucHV0ICE9IG51bGwgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gICAgdmFyIGs7XG4gICAgZm9yIChrIGluIG9iaikge1xuICAgICAgICAvLyBldmVuIGlmIGl0cyBub3Qgb3duIHByb3BlcnR5IEknZCBzdGlsbCBjYWxsIGl0IG5vbi1lbXB0eVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihpbnB1dCkge1xuICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xufVxuXG5mdW5jdGlvbiBpc0RhdGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuZnVuY3Rpb24gbWFwKGFyciwgZm4pIHtcbiAgICB2YXIgcmVzID0gW10sIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgICAgICByZXMucHVzaChmbihhcnJbaV0sIGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBiKTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICBmb3IgKHZhciBpIGluIGIpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgaSkpIHtcbiAgICAgICAgICAgIGFbaV0gPSBiW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcbiAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7XG4gICAgfVxuXG4gICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkge1xuICAgICAgICBhLnZhbHVlT2YgPSBiLnZhbHVlT2Y7XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQYXJzaW5nRmxhZ3MoKSB7XG4gICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuICAgIHJldHVybiB7XG4gICAgICAgIGVtcHR5ICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSxcbiAgICAgICAgdW51c2VkSW5wdXQgICAgIDogW10sXG4gICAgICAgIG92ZXJmbG93ICAgICAgICA6IC0yLFxuICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLFxuICAgICAgICBudWxsSW5wdXQgICAgICAgOiBmYWxzZSxcbiAgICAgICAgaW52YWxpZE1vbnRoICAgIDogbnVsbCxcbiAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsXG4gICAgICAgIHVzZXJJbnZhbGlkYXRlZCA6IGZhbHNlLFxuICAgICAgICBpc28gICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgcGFyc2VkRGF0ZVBhcnRzIDogW10sXG4gICAgICAgIG1lcmlkaWVtICAgICAgICA6IG51bGwsXG4gICAgICAgIHJmYzI4MjIgICAgICAgICA6IGZhbHNlLFxuICAgICAgICB3ZWVrZGF5TWlzbWF0Y2ggOiBmYWxzZVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgaWYgKG0uX3BmID09IG51bGwpIHtcbiAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG4gICAgfVxuICAgIHJldHVybiBtLl9wZjtcbn1cblxudmFyIHNvbWU7XG5pZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICBzb21lID0gQXJyYXkucHJvdG90eXBlLnNvbWU7XG59IGVsc2Uge1xuICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59XG5cbnZhciBzb21lJDEgPSBzb21lO1xuXG5mdW5jdGlvbiBpc1ZhbGlkKG0pIHtcbiAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgIHZhciBmbGFncyA9IGdldFBhcnNpbmdGbGFncyhtKTtcbiAgICAgICAgdmFyIHBhcnNlZFBhcnRzID0gc29tZSQxLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG4gICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxuICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRGb3JtYXQgJiZcbiAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgaXNOb3dWYWxpZCA9IGlzTm93VmFsaWQgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG4gICAgICAgICAgICBtLl9pc1ZhbGlkID0gaXNOb3dWYWxpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc05vd1ZhbGlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtLl9pc1ZhbGlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnZhbGlkIChmbGFncykge1xuICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XG4gICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgZXh0ZW5kKGdldFBhcnNpbmdGbGFncyhtKSwgZmxhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLnVzZXJJbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcbi8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG52YXIgbW9tZW50UHJvcGVydGllcyA9IGhvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXTtcblxuZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzQU1vbWVudE9iamVjdCkpIHtcbiAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pKSkge1xuICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fZikpIHtcbiAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2wpKSB7XG4gICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9zdHJpY3QpKSB7XG4gICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fdHptKSkge1xuICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzVVRDKSkge1xuICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9vZmZzZXQpKSB7XG4gICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fcGYpKSB7XG4gICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sb2NhbGUpKSB7XG4gICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbW9tZW50UHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdG87XG59XG5cbnZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbi8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG5mdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG4gICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcbiAgICAvLyBvYmplY3RzLlxuICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbCk7XG59XG5cbmZ1bmN0aW9uIGFic0Zsb29yIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbixcbiAgICAgICAgdmFsdWUgPSAwO1xuXG4gICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIGNvbXBhcmUgdHdvIGFycmF5cywgcmV0dXJuIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXNcbmZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgdmFyIGxlbiA9IE1hdGgubWluKGFycmF5MS5sZW5ndGgsIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBsZW5ndGhEaWZmID0gTWF0aC5hYnMoYXJyYXkxLmxlbmd0aCAtIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAoIWRvbnRDb252ZXJ0ICYmIHRvSW50KGFycmF5MVtpXSkgIT09IHRvSW50KGFycmF5MltpXSkpKSB7XG4gICAgICAgICAgICBkaWZmcysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmcyArIGxlbmd0aERpZmY7XG59XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgaWYgKGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG4gICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG5cbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCwgbXNnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgdmFyIGFyZztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDAsIC0yKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGFuZCBzcGFjZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXJuKG1zZyArICdcXG5Bcmd1bWVudHM6ICcgKyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKS5qb2luKCcnKSArICdcXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjayk7XG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LCBmbik7XG59XG5cbnZhciBkZXByZWNhdGlvbnMgPSB7fTtcblxuZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobmFtZSwgbXNnKTtcbiAgICB9XG4gICAgaWYgKCFkZXByZWNhdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgIH1cbn1cblxuaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG5ob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgPSBudWxsO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuZnVuY3Rpb24gc2V0IChjb25maWcpIHtcbiAgICB2YXIgcHJvcCwgaTtcbiAgICBmb3IgKGkgaW4gY29uZmlnKSB7XG4gICAgICAgIHByb3AgPSBjb25maWdbaV07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gcHJvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cbiAgICAvLyBudW1iZXIgKyAocG9zc2libHkpIHN0dWZmIGNvbWluZyBmcm9tIF9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlLlxuICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICB0aGlzLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICh0aGlzLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlLnNvdXJjZSB8fCB0aGlzLl9vcmRpbmFsUGFyc2Uuc291cmNlKSArXG4gICAgICAgICAgICAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcbiAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIHBhcmVudENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gY2hpbGRDb25maWdbcHJvcF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIHBhcmVudENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgIWhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcbiAgICB9XG59XG5cbnZhciBrZXlzO1xuXG5pZiAoT2JqZWN0LmtleXMpIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXM7XG59IGVsc2Uge1xuICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBpLCByZXMgPSBbXTtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn1cblxudmFyIGtleXMkMSA9IGtleXM7XG5cbnZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG4gICAgc2FtZURheSA6ICdbVG9kYXkgYXRdIExUJyxcbiAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuICAgIG5leHRXZWVrIDogJ2RkZGQgW2F0XSBMVCcsXG4gICAgbGFzdERheSA6ICdbWWVzdGVyZGF5IGF0XSBMVCcsXG4gICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG4gICAgc2FtZUVsc2UgOiAnTCdcbn07XG5cbmZ1bmN0aW9uIGNhbGVuZGFyIChrZXksIG1vbSwgbm93KSB7XG4gICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KSA/IG91dHB1dC5jYWxsKG1vbSwgbm93KSA6IG91dHB1dDtcbn1cblxudmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICBMVFMgIDogJ2g6bW06c3MgQScsXG4gICAgTFQgICA6ICdoOm1tIEEnLFxuICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG4gICAgTEwgICA6ICdNTU1NIEQsIFlZWVknLFxuICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG4gICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xufTtcblxuZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQgKGtleSkge1xuICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICBmb3JtYXRVcHBlciA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleS50b1VwcGVyQ2FzZSgpXTtcblxuICAgIGlmIChmb3JtYXQgfHwgIWZvcm1hdFVwcGVyKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcbn1cblxudmFyIGRlZmF1bHRJbnZhbGlkRGF0ZSA9ICdJbnZhbGlkIGRhdGUnO1xuXG5mdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xufVxuXG52YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnO1xudmFyIGRlZmF1bHREYXlPZk1vbnRoT3JkaW5hbFBhcnNlID0gL1xcZHsxLDJ9LztcblxuZnVuY3Rpb24gb3JkaW5hbCAobnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX29yZGluYWwucmVwbGFjZSgnJWQnLCBudW1iZXIpO1xufVxuXG52YXIgZGVmYXVsdFJlbGF0aXZlVGltZSA9IHtcbiAgICBmdXR1cmUgOiAnaW4gJXMnLFxuICAgIHBhc3QgICA6ICclcyBhZ28nLFxuICAgIHMgIDogJ2EgZmV3IHNlY29uZHMnLFxuICAgIHNzIDogJyVkIHNlY29uZHMnLFxuICAgIG0gIDogJ2EgbWludXRlJyxcbiAgICBtbSA6ICclZCBtaW51dGVzJyxcbiAgICBoICA6ICdhbiBob3VyJyxcbiAgICBoaCA6ICclZCBob3VycycsXG4gICAgZCAgOiAnYSBkYXknLFxuICAgIGRkIDogJyVkIGRheXMnLFxuICAgIE0gIDogJ2EgbW9udGgnLFxuICAgIE1NIDogJyVkIG1vbnRocycsXG4gICAgeSAgOiAnYSB5ZWFyJyxcbiAgICB5eSA6ICclZCB5ZWFycydcbn07XG5cbmZ1bmN0aW9uIHJlbGF0aXZlVGltZSAobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSB7XG4gICAgdmFyIG91dHB1dCA9IHRoaXMuX3JlbGF0aXZlVGltZVtzdHJpbmddO1xuICAgIHJldHVybiAoaXNGdW5jdGlvbihvdXRwdXQpKSA/XG4gICAgICAgIG91dHB1dChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIDpcbiAgICAgICAgb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG59XG5cbmZ1bmN0aW9uIHBhc3RGdXR1cmUgKGRpZmYsIG91dHB1dCkge1xuICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oZm9ybWF0KSA/IGZvcm1hdChvdXRwdXQpIDogZm9ybWF0LnJlcGxhY2UoLyVzL2ksIG91dHB1dCk7XG59XG5cbnZhciBhbGlhc2VzID0ge307XG5cbmZ1bmN0aW9uIGFkZFVuaXRBbGlhcyAodW5pdCwgc2hvcnRoYW5kKSB7XG4gICAgdmFyIGxvd2VyQ2FzZSA9IHVuaXQudG9Mb3dlckNhc2UoKTtcbiAgICBhbGlhc2VzW2xvd2VyQ2FzZV0gPSBhbGlhc2VzW2xvd2VyQ2FzZSArICdzJ10gPSBhbGlhc2VzW3Nob3J0aGFuZF0gPSB1bml0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVVbml0cyh1bml0cykge1xuICAgIHJldHVybiB0eXBlb2YgdW5pdHMgPT09ICdzdHJpbmcnID8gYWxpYXNlc1t1bml0c10gfHwgYWxpYXNlc1t1bml0cy50b0xvd2VyQ2FzZSgpXSA6IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplT2JqZWN0VW5pdHMoaW5wdXRPYmplY3QpIHtcbiAgICB2YXIgbm9ybWFsaXplZElucHV0ID0ge30sXG4gICAgICAgIG5vcm1hbGl6ZWRQcm9wLFxuICAgICAgICBwcm9wO1xuXG4gICAgZm9yIChwcm9wIGluIGlucHV0T2JqZWN0KSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGlucHV0T2JqZWN0LCBwcm9wKSkge1xuICAgICAgICAgICAgbm9ybWFsaXplZFByb3AgPSBub3JtYWxpemVVbml0cyhwcm9wKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkUHJvcCkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRJbnB1dFtub3JtYWxpemVkUHJvcF0gPSBpbnB1dE9iamVjdFtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub3JtYWxpemVkSW5wdXQ7XG59XG5cbnZhciBwcmlvcml0aWVzID0ge307XG5cbmZ1bmN0aW9uIGFkZFVuaXRQcmlvcml0eSh1bml0LCBwcmlvcml0eSkge1xuICAgIHByaW9yaXRpZXNbdW5pdF0gPSBwcmlvcml0eTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0c09iaikge1xuICAgIHZhciB1bml0cyA9IFtdO1xuICAgIGZvciAodmFyIHUgaW4gdW5pdHNPYmopIHtcbiAgICAgICAgdW5pdHMucHVzaCh7dW5pdDogdSwgcHJpb3JpdHk6IHByaW9yaXRpZXNbdV19KTtcbiAgICB9XG4gICAgdW5pdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuaXRzO1xufVxuXG5mdW5jdGlvbiBtYWtlR2V0U2V0ICh1bml0LCBrZWVwVGltZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCBrZWVwVGltZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgdW5pdCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXQgKG1vbSwgdW5pdCkge1xuICAgIHJldHVybiBtb20uaXNWYWxpZCgpID9cbiAgICAgICAgbW9tLl9kWydnZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKCkgOiBOYU47XG59XG5cbmZ1bmN0aW9uIHNldCQxIChtb20sIHVuaXQsIHZhbHVlKSB7XG4gICAgaWYgKG1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKHZhbHVlKTtcbiAgICB9XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gc3RyaW5nR2V0ICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICByZXR1cm4gdGhpc1t1bml0c10oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cblxuZnVuY3Rpb24gc3RyaW5nU2V0ICh1bml0cywgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHVuaXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKHVuaXRzKTtcbiAgICAgICAgdmFyIHByaW9yaXRpemVkID0gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJpb3JpdGl6ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXNbcHJpb3JpdGl6ZWRbaV0udW5pdF0odW5pdHNbcHJpb3JpdGl6ZWRbaV0udW5pdF0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gemVyb0ZpbGwobnVtYmVyLCB0YXJnZXRMZW5ndGgsIGZvcmNlU2lnbikge1xuICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG4gICAgICAgIHplcm9zVG9GaWxsID0gdGFyZ2V0TGVuZ3RoIC0gYWJzTnVtYmVyLmxlbmd0aCxcbiAgICAgICAgc2lnbiA9IG51bWJlciA+PSAwO1xuICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcbiAgICAgICAgTWF0aC5wb3coMTAsIE1hdGgubWF4KDAsIHplcm9zVG9GaWxsKSkudG9TdHJpbmcoKS5zdWJzdHIoMSkgKyBhYnNOdW1iZXI7XG59XG5cbnZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZztcblxudmFyIGxvY2FsRm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhMVFN8TFR8TEw/TD9MP3xsezEsNH0pL2c7XG5cbnZhciBmb3JtYXRGdW5jdGlvbnMgPSB7fTtcblxudmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbi8vIHRva2VuOiAgICAnTSdcbi8vIHBhZGRlZDogICBbJ01NJywgMl1cbi8vIG9yZGluYWw6ICAnTW8nXG4vLyBjYWxsYmFjazogZnVuY3Rpb24gKCkgeyB0aGlzLm1vbnRoKCkgKyAxIH1cbmZ1bmN0aW9uIGFkZEZvcm1hdFRva2VuICh0b2tlbiwgcGFkZGVkLCBvcmRpbmFsLCBjYWxsYmFjaykge1xuICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dID0gZnVuYztcbiAgICB9XG4gICAgaWYgKHBhZGRlZCkge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1twYWRkZWRbMF1dID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHplcm9GaWxsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgcGFkZGVkWzFdLCBwYWRkZWRbMl0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3JkaW5hbCkge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5vcmRpbmFsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgdG9rZW4pO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhpbnB1dCkge1xuICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXlxcW3xcXF0kL2csICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xufVxuXG5mdW5jdGlvbiBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLCBpLCBsZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dKSB7XG4gICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5W2ldID0gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKG1vbSkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gJycsIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGlzRnVuY3Rpb24oYXJyYXlbaV0pID8gYXJyYXlbaV0uY2FsbChtb20sIGZvcm1hdCkgOiBhcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59XG5cbi8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuZnVuY3Rpb24gZm9ybWF0TW9tZW50KG0sIGZvcm1hdCkge1xuICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID0gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cbiAgICByZXR1cm4gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0obSk7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuICAgIHZhciBpID0gNTtcblxuICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcbiAgICB9XG5cbiAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UobG9jYWxGb3JtYXR0aW5nVG9rZW5zLCByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMpO1xuICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaSAtPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXQ7XG59XG5cbnZhciBtYXRjaDEgICAgICAgICA9IC9cXGQvOyAgICAgICAgICAgIC8vICAgICAgIDAgLSA5XG52YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XG52YXIgbWF0Y2gzICAgICAgICAgPSAvXFxkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5XG52YXIgbWF0Y2g0ICAgICAgICAgPSAvXFxkezR9LzsgICAgICAgICAvLyAgICAwMDAwIC0gOTk5OVxudmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxudmFyIG1hdGNoMXRvMiAgICAgID0gL1xcZFxcZD8vOyAgICAgICAgIC8vICAgICAgIDAgLSA5OVxudmFyIG1hdGNoM3RvNCAgICAgID0gL1xcZFxcZFxcZFxcZD8vOyAgICAgLy8gICAgIDk5OSAtIDk5OTlcbnZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxudmFyIG1hdGNoMXRvMyAgICAgID0gL1xcZHsxLDN9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OVxudmFyIG1hdGNoMXRvNCAgICAgID0gL1xcZHsxLDR9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OTlcbnZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblxudmFyIG1hdGNoVW5zaWduZWQgID0gL1xcZCsvOyAgICAgICAgICAgLy8gICAgICAgMCAtIGluZlxudmFyIG1hdGNoU2lnbmVkICAgID0gL1srLV0/XFxkKy87ICAgICAgLy8gICAgLWluZiAtIGluZlxuXG52YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxudmFyIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naTsgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcblxudmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XFxkKyhcXC5cXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjNcblxuLy8gYW55IHdvcmQgKG9yIHR3bykgY2hhcmFjdGVycyBvciBudW1iZXJzIGluY2x1ZGluZyB0d28vdGhyZWUgd29yZCBtb250aCBpbiBhcmFiaWMuXG4vLyBpbmNsdWRlcyBzY290dGlzaCBnYWVsaWMgdHdvIHdvcmQgYW5kIGh5cGhlbmF0ZWQgbW9udGhzXG52YXIgbWF0Y2hXb3JkID0gL1swLTldKlsnYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSt8W1xcdTA2MDAtXFx1MDZGRlxcL10rKFxccyo/W1xcdTA2MDAtXFx1MDZGRl0rKXsxLDJ9L2k7XG5cblxudmFyIHJlZ2V4ZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkUmVnZXhUb2tlbiAodG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleCkgPyByZWdleCA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuICAgICAgICByZXR1cm4gKGlzU3RyaWN0ICYmIHN0cmljdFJlZ2V4KSA/IHN0cmljdFJlZ2V4IDogcmVnZXg7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuICh0b2tlbiwgY29uZmlnKSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuICAgIH1cblxuICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xufVxuXG4vLyBDb2RlIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTYxNDkzL2lzLXRoZXJlLWEtcmVnZXhwLWVzY2FwZS1mdW5jdGlvbi1pbi1qYXZhc2NyaXB0XG5mdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG4gICAgcmV0dXJuIHJlZ2V4RXNjYXBlKHMucmVwbGFjZSgnXFxcXCcsICcnKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csIGZ1bmN0aW9uIChtYXRjaGVkLCBwMSwgcDIsIHAzLCBwNCkge1xuICAgICAgICByZXR1cm4gcDEgfHwgcDIgfHwgcDMgfHwgcDQ7XG4gICAgfSkpO1xufVxuXG5mdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG59XG5cbnZhciB0b2tlbnMgPSB7fTtcblxuZnVuY3Rpb24gYWRkUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG4gICAgfVxuICAgIGlmIChpc051bWJlcihjYWxsYmFjaykpIHtcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xuICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIGlucHV0LCBjb25maWcpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCAmJiBoYXNPd25Qcm9wKHRva2VucywgdG9rZW4pKSB7XG4gICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG4gICAgfVxufVxuXG52YXIgWUVBUiA9IDA7XG52YXIgTU9OVEggPSAxO1xudmFyIERBVEUgPSAyO1xudmFyIEhPVVIgPSAzO1xudmFyIE1JTlVURSA9IDQ7XG52YXIgU0VDT05EID0gNTtcbnZhciBNSUxMSVNFQ09ORCA9IDY7XG52YXIgV0VFSyA9IDc7XG52YXIgV0VFS0RBWSA9IDg7XG5cbnZhciBpbmRleE9mO1xuXG5pZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG59IGVsc2Uge1xuICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAvLyBJIGtub3dcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gbykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xufVxuXG52YXIgaW5kZXhPZiQxID0gaW5kZXhPZjtcblxuZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGggKyAxLCAwKSkuZ2V0VVRDRGF0ZSgpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnTW8nLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignTU1NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtb250aCcsIDgpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignTU0nLCAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XG59KTtcbmFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNT05USF0gPSB0b0ludChpbnB1dCkgLSAxO1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydNTU0nLCAnTU1NTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG4gICAgaWYgKG1vbnRoICE9IG51bGwpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZE1vbnRoID0gaW5wdXQ7XG4gICAgfVxufSk7XG5cbi8vIExPQ0FMRVNcblxudmFyIE1PTlRIU19JTl9GT1JNQVQgPSAvRFtvRF0/KFxcW1teXFxbXFxdXSpcXF18XFxzKStNTU1NPy87XG52YXIgZGVmYXVsdExvY2FsZU1vbnRocyA9ICdKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKSA/IHRoaXMuX21vbnRocyA6XG4gICAgICAgICAgICB0aGlzLl9tb250aHNbJ3N0YW5kYWxvbmUnXTtcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKSA/IHRoaXMuX21vbnRoc1ttLm1vbnRoKCldIDpcbiAgICAgICAgdGhpcy5fbW9udGhzWyh0aGlzLl9tb250aHMuaXNGb3JtYXQgfHwgTU9OVEhTX0lOX0ZPUk1BVCkudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQgPSAnSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWMnLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KSA/IHRoaXMuX21vbnRoc1Nob3J0IDpcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0WydzdGFuZGFsb25lJ107XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KSA/IHRoaXMuX21vbnRoc1Nob3J0W20ubW9udGgoKV0gOlxuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBub3QgdXNlZFxuICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlIChtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgfVxuXG4gICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyXG4gICAgLy8gc2VlIHNvcnRpbmcgaW4gY29tcHV0ZU1vbnRoc1BhcnNlXG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykgKyAnfF4nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKTtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTScgJiYgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkge1xuICAgIHZhciBkYXlPZk1vbnRoO1xuXG4gICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIC8vIE5vIG9wXG4gICAgICAgIHJldHVybiBtb207XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xuICAgICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG4gICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArICdNb250aCddKHZhbHVlLCBkYXlPZk1vbnRoKTtcbiAgICByZXR1cm4gbW9tO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRNb250aCAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldCh0aGlzLCAnTW9udGgnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcbiAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7XG59XG5cbnZhciBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIG1vbnRoc1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdE1vbnRoc1JlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSwgbW9tO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgfVxuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcbiAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLl9tb250aHNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciB5ID0gdGhpcy55ZWFyKCk7XG4gICAgcmV0dXJuIHkgPD0gOTk5OSA/ICcnICsgeSA6ICcrJyArIHk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMueWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWScsICAgNF0sICAgICAgIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgIDVdLCAgICAgICAwLCAneWVhcicpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3llYXInLCAneScpO1xuXG4vLyBQUklPUklUSUVTXG5cbmFkZFVuaXRQcmlvcml0eSgneWVhcicsIDEpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcbmFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBpbnB1dC5sZW5ndGggPT09IDIgPyBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbmZ1bmN0aW9uIGRheXNJblllYXIoeWVhcikge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xufVxuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG59XG5cbi8vIEhPT0tTXG5cbmhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbn07XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG5mdW5jdGlvbiBnZXRJc0xlYXBZZWFyICgpIHtcbiAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURhdGUgKHksIG0sIGQsIGgsIE0sIHMsIG1zKSB7XG4gICAgLy8gY2FuJ3QganVzdCBhcHBseSgpIHRvIGNyZWF0ZSBhIGRhdGU6XG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzE4MTM0OFxuICAgIHZhciBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xuXG4gICAgLy8gdGhlIGRhdGUgY29uc3RydWN0b3IgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwICYmIGlzRmluaXRlKGRhdGUuZ2V0RnVsbFllYXIoKSkpIHtcbiAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih5KTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUgKHkpIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuXG4gICAgLy8gdGhlIERhdGUuVVRDIGZ1bmN0aW9uIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpKSB7XG4gICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRlO1xufVxuXG4vLyBzdGFydC1vZi1maXJzdC13ZWVrIC0gc3RhcnQtb2YteWVhclxuZnVuY3Rpb24gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSB7XG4gICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICBmd2QgPSA3ICsgZG93IC0gZG95LFxuICAgICAgICAvLyBmaXJzdC13ZWVrIGRheSBsb2NhbCB3ZWVrZGF5IC0tIHdoaWNoIGxvY2FsIHdlZWtkYXkgaXMgZndkXG4gICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgIHJldHVybiAtZndkbHcgKyBmd2QgLSAxO1xufVxuXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlI0NhbGN1bGF0aW5nX2FfZGF0ZV9naXZlbl90aGVfeWVhci4yQ193ZWVrX251bWJlcl9hbmRfd2Vla2RheVxuZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtzKHllYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgdmFyIGxvY2FsV2Vla2RheSA9ICg3ICsgd2Vla2RheSAtIGRvdykgJSA3LFxuICAgICAgICB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgZGF5T2ZZZWFyID0gMSArIDcgKiAod2VlayAtIDEpICsgbG9jYWxXZWVrZGF5ICsgd2Vla09mZnNldCxcbiAgICAgICAgcmVzWWVhciwgcmVzRGF5T2ZZZWFyO1xuXG4gICAgaWYgKGRheU9mWWVhciA8PSAwKSB7XG4gICAgICAgIHJlc1llYXIgPSB5ZWFyIC0gMTtcbiAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5c0luWWVhcihyZXNZZWFyKSArIGRheU9mWWVhcjtcbiAgICB9IGVsc2UgaWYgKGRheU9mWWVhciA+IGRheXNJblllYXIoeWVhcikpIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXIgKyAxO1xuICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXIgLSBkYXlzSW5ZZWFyKHllYXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc1llYXIgPSB5ZWFyO1xuICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeWVhcjogcmVzWWVhcixcbiAgICAgICAgZGF5T2ZZZWFyOiByZXNEYXlPZlllYXJcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB3ZWVrT2ZZZWFyKG1vbSwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldChtb20ueWVhcigpLCBkb3csIGRveSksXG4gICAgICAgIHdlZWsgPSBNYXRoLmZsb29yKChtb20uZGF5T2ZZZWFyKCkgLSB3ZWVrT2Zmc2V0IC0gMSkgLyA3KSArIDEsXG4gICAgICAgIHJlc1dlZWssIHJlc1llYXI7XG5cbiAgICBpZiAod2VlayA8IDEpIHtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgLSAxO1xuICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcbiAgICB9IGVsc2UgaWYgKHdlZWsgPiB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSkpIHtcbiAgICAgICAgcmVzV2VlayA9IHdlZWsgLSB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSk7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKTtcbiAgICAgICAgcmVzV2VlayA9IHdlZWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2VlazogcmVzV2VlayxcbiAgICAgICAgeWVhcjogcmVzWWVhclxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtzSW5ZZWFyKHllYXIsIGRvdywgZG95KSB7XG4gICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICB3ZWVrT2Zmc2V0TmV4dCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyICsgMSwgZG93LCBkb3kpO1xuICAgIHJldHVybiAoZGF5c0luWWVhcih5ZWFyKSAtIHdlZWtPZmZzZXQgKyB3ZWVrT2Zmc2V0TmV4dCkgLyA3O1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCd3JywgWyd3dycsIDJdLCAnd28nLCAnd2VlaycpO1xuYWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCd3ZWVrJywgJ3cnKTtcbmFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cbi8vIFBSSU9SSVRJRVNcblxuYWRkVW5pdFByaW9yaXR5KCd3ZWVrJywgNSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWsnLCA1KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCd3JywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCd3dycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1cnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ1dXJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ3cnLCAnd3cnLCAnVycsICdXVyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyBMT0NBTEVTXG5cbmZ1bmN0aW9uIGxvY2FsZVdlZWsgKG1vbSkge1xuICAgIHJldHVybiB3ZWVrT2ZZZWFyKG1vbSwgdGhpcy5fd2Vlay5kb3csIHRoaXMuX3dlZWsuZG95KS53ZWVrO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZVdlZWsgPSB7XG4gICAgZG93IDogMCwgLy8gU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG4gICAgZG95IDogNiAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gMXN0IGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxufTtcblxuZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZldlZWsgKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWVrLmRvdztcbn1cblxuZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZlllYXIgKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWVrLmRveTtcbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXRXZWVrIChpbnB1dCkge1xuICAgIHZhciB3ZWVrID0gdGhpcy5sb2NhbGVEYXRhKCkud2Vlayh0aGlzKTtcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG59XG5cbmZ1bmN0aW9uIGdldFNldElTT1dlZWsgKGlucHV0KSB7XG4gICAgdmFyIHdlZWsgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLndlZWs7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpO1xuXG5hZGRGb3JtYXRUb2tlbignZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzTWluKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdlJywgMCwgMCwgJ3dlZWtkYXknKTtcbmFkZEZvcm1hdFRva2VuKCdFJywgMCwgMCwgJ2lzb1dlZWtkYXknKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2RheScsICdkJyk7XG5hZGRVbml0QWxpYXMoJ3dlZWtkYXknLCAnZScpO1xuYWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTtcblxuLy8gUFJJT1JJVFlcbmFkZFVuaXRQcmlvcml0eSgnZGF5JywgMTEpO1xuYWRkVW5pdFByaW9yaXR5KCd3ZWVrZGF5JywgMTEpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrZGF5JywgMTEpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ2QnLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignZScsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdFJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2RkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNNaW5SZWdleChpc1N0cmljdCk7XG59KTtcbmFkZFJlZ2V4VG9rZW4oJ2RkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzU2hvcnRSZWdleChpc1N0cmljdCk7XG59KTtcbmFkZFJlZ2V4VG9rZW4oJ2RkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1JlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2RkJywgJ2RkZCcsICdkZGRkJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHZhciB3ZWVrZGF5ID0gY29uZmlnLl9sb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAvLyBpZiB3ZSBkaWRuJ3QgZ2V0IGEgd2Vla2RheSBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWRcbiAgICBpZiAod2Vla2RheSAhPSBudWxsKSB7XG4gICAgICAgIHdlZWsuZCA9IHdlZWtkYXk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZFdlZWtkYXkgPSBpbnB1dDtcbiAgICB9XG59KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydkJywgJ2UnLCAnRSddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuXSA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbmZ1bmN0aW9uIHBhcnNlV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xuICAgIH1cblxuICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcGFyc2VJc29XZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpICUgNyB8fCA3O1xuICAgIH1cbiAgICByZXR1cm4gaXNOYU4oaW5wdXQpID8gbnVsbCA6IGlucHV0O1xufVxuXG4vLyBMT0NBTEVTXG5cbnZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXMgPSAnU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXknLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5cyAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzIDpcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzWydzdGFuZGFsb25lJ107XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzW20uZGF5KCldIDpcbiAgICAgICAgdGhpcy5fd2Vla2RheXNbdGhpcy5fd2Vla2RheXMuaXNGb3JtYXQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20uZGF5KCldO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNTaG9ydCAobSkge1xuICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNTaG9ydDtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiA9ICdTdV9Nb19UdV9XZV9UaF9Gcl9TYScuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluIChtKSB7XG4gICAgcmV0dXJuIChtKSA/IHRoaXMuX3dlZWtkYXlzTWluW20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNNaW47XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlJDEod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IHdlZWtkYXlOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0cmljdCkge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNQYXJzZSAod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZSQxLmNhbGwodGhpcywgd2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkZCcgJiYgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkJyAmJiB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mV2VlayAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgdmFyIGRheSA9IHRoaXMuX2lzVVRDID8gdGhpcy5fZC5nZXRVVENEYXkoKSA6IHRoaXMuX2QuZ2V0RGF5KCk7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGlucHV0IC0gZGF5LCAnZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkYXk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIHZhciB3ZWVrZGF5ID0gKHRoaXMuZGF5KCkgKyA3IC0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSAlIDc7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuXG4gICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgIC8vIGFzIGEgZ2V0dGVyLCByZXR1cm5zIDcgaW5zdGVhZCBvZiAwICgxLTcgcmFuZ2UgaW5zdGVhZCBvZiAwLTYpXG4gICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuXG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIHdlZWtkYXkgPSBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF5KHRoaXMuZGF5KCkgJSA3ID8gd2Vla2RheSA6IHdlZWtkYXkgLSA3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXkoKSB8fCA3O1xuICAgIH1cbn1cblxudmFyIGRlZmF1bHRXZWVrZGF5c1JlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gd2Vla2RheXNSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzTWluUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGNvbXB1dGVXZWVrZGF5c1BhcnNlICgpIHtcbiAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgbWluUGllY2VzID0gW10sIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgbWlucCA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgIHNob3J0cCA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKTtcbiAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuICAgICAgICBtaW5QaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgc2hvcnRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgIH1cbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIHdlZWtkYXkgKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgbWluUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcbiAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWluUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5mdW5jdGlvbiBoRm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLmhvdXJzKCkgJSAxMiB8fCAxMjtcbn1cblxuZnVuY3Rpb24ga0Zvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3VycygpIHx8IDI0O1xufVxuXG5hZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcbmFkZEZvcm1hdFRva2VuKCdoJywgWydoaCcsIDJdLCAwLCBoRm9ybWF0KTtcbmFkZEZvcm1hdFRva2VuKCdrJywgWydraycsIDJdLCAwLCBrRm9ybWF0KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdIbW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdIbW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG59KTtcblxuZnVuY3Rpb24gbWVyaWRpZW0gKHRva2VuLCBsb3dlcmNhc2UpIHtcbiAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLCB0aGlzLm1pbnV0ZXMoKSwgbG93ZXJjYXNlKTtcbiAgICB9KTtcbn1cblxubWVyaWRpZW0oJ2EnLCB0cnVlKTtcbm1lcmlkaWVtKCdBJywgZmFsc2UpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnaG91cicsICdoJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cbi8vIFBBUlNJTkdcblxuZnVuY3Rpb24gbWF0Y2hNZXJpZGllbSAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG59XG5cbmFkZFJlZ2V4VG9rZW4oJ2EnLCAgbWF0Y2hNZXJpZGllbSk7XG5hZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuYWRkUmVnZXhUb2tlbignSCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignaCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignaycsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignSEgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ2trJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG5hZGRSZWdleFRva2VuKCdobW0nLCBtYXRjaDN0bzQpO1xuYWRkUmVnZXhUb2tlbignaG1tc3MnLCBtYXRjaDV0bzYpO1xuYWRkUmVnZXhUb2tlbignSG1tJywgbWF0Y2gzdG80KTtcbmFkZFJlZ2V4VG9rZW4oJ0htbXNzJywgbWF0Y2g1dG82KTtcblxuYWRkUGFyc2VUb2tlbihbJ0gnLCAnSEgnXSwgSE9VUik7XG5hZGRQYXJzZVRva2VuKFsnaycsICdrayddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIga0lucHV0ID0gdG9JbnQoaW5wdXQpO1xuICAgIGFycmF5W0hPVVJdID0ga0lucHV0ID09PSAyNCA/IDAgOiBrSW5wdXQ7XG59KTtcbmFkZFBhcnNlVG9rZW4oWydhJywgJ0EnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG4gICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xufSk7XG5hZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbn0pO1xuXG4vLyBMT0NBTEVTXG5cbmZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XG4gICAgLy8gSUU4IFF1aXJrcyBNb2RlICYgSUU3IFN0YW5kYXJkcyBNb2RlIGRvIG5vdCBhbGxvdyBhY2Nlc3Npbmcgc3RyaW5ncyBsaWtlIGFycmF5c1xuICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaTtcbmZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuICAgIGlmIChob3VycyA+IDExKSB7XG4gICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAnYW0nIDogJ0FNJztcbiAgICB9XG59XG5cblxuLy8gTU9NRU5UU1xuXG4vLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcbi8vIHNwZWNpZmllZCB3aGljaCBob3VyIGhlIHdhbnRzLiBTbyB0cnlpbmcgdG8gbWFpbnRhaW4gdGhlIHNhbWUgaG91ciAoaW5cbi8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuLy8gdGhpcyBydWxlLlxudmFyIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXG4vLyBtb250aHNcbi8vIHdlZWtcbi8vIHdlZWtkYXlzXG4vLyBtZXJpZGllbVxudmFyIGJhc2VDb25maWcgPSB7XG4gICAgY2FsZW5kYXI6IGRlZmF1bHRDYWxlbmRhcixcbiAgICBsb25nRGF0ZUZvcm1hdDogZGVmYXVsdExvbmdEYXRlRm9ybWF0LFxuICAgIGludmFsaWREYXRlOiBkZWZhdWx0SW52YWxpZERhdGUsXG4gICAgb3JkaW5hbDogZGVmYXVsdE9yZGluYWwsXG4gICAgZGF5T2ZNb250aE9yZGluYWxQYXJzZTogZGVmYXVsdERheU9mTW9udGhPcmRpbmFsUGFyc2UsXG4gICAgcmVsYXRpdmVUaW1lOiBkZWZhdWx0UmVsYXRpdmVUaW1lLFxuXG4gICAgbW9udGhzOiBkZWZhdWx0TG9jYWxlTW9udGhzLFxuICAgIG1vbnRoc1Nob3J0OiBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQsXG5cbiAgICB3ZWVrOiBkZWZhdWx0TG9jYWxlV2VlayxcblxuICAgIHdlZWtkYXlzOiBkZWZhdWx0TG9jYWxlV2Vla2RheXMsXG4gICAgd2Vla2RheXNNaW46IGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbixcbiAgICB3ZWVrZGF5c1Nob3J0OiBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCxcblxuICAgIG1lcmlkaWVtUGFyc2U6IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlXG59O1xuXG4vLyBpbnRlcm5hbCBzdG9yYWdlIGZvciBsb2NhbGUgY29uZmlnIGZpbGVzXG52YXIgbG9jYWxlcyA9IHt9O1xudmFyIGxvY2FsZUZhbWlsaWVzID0ge307XG52YXIgZ2xvYmFsTG9jYWxlO1xuXG5mdW5jdGlvbiBub3JtYWxpemVMb2NhbGUoa2V5KSB7XG4gICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xufVxuXG4vLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXlcbi8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXG4vLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG5mdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHtcbiAgICB2YXIgaSA9IDAsIGosIG5leHQsIGxvY2FsZSwgc3BsaXQ7XG5cbiAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICBzcGxpdCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpXSkuc3BsaXQoJy0nKTtcbiAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pO1xuICAgICAgICBuZXh0ID0gbmV4dCA/IG5leHQuc3BsaXQoJy0nKSA6IG51bGw7XG4gICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCA+PSBqICYmIGNvbXBhcmVBcnJheXMoc3BsaXQsIG5leHQsIHRydWUpID49IGogLSAxKSB7XG4gICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgai0tO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGxvYWRMb2NhbGUobmFtZSkge1xuICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG4gICAgaWYgKCFsb2NhbGVzW25hbWVdICYmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgJiZcbiAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2xkTG9jYWxlID0gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuICAgICAgICAgICAgcmVxdWlyZSgnLi9sb2NhbGUvJyArIG5hbWUpO1xuICAgICAgICAgICAgLy8gYmVjYXVzZSBkZWZpbmVMb2NhbGUgY3VycmVudGx5IGFsc28gc2V0cyB0aGUgZ2xvYmFsIGxvY2FsZSwgd2VcbiAgICAgICAgICAgIC8vIHdhbnQgdG8gdW5kbyB0aGF0IGZvciBsYXp5IGxvYWRlZCBsb2NhbGVzXG4gICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgfVxuICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbG9hZCBsb2NhbGUgYW5kIHRoZW4gc2V0IHRoZSBnbG9iYWwgbG9jYWxlLiAgSWZcbi8vIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGluLCBpdCB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgZ2xvYmFsXG4vLyBsb2NhbGUga2V5LlxuZnVuY3Rpb24gZ2V0U2V0R2xvYmFsTG9jYWxlIChrZXksIHZhbHVlcykge1xuICAgIHZhciBkYXRhO1xuICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG59XG5cbmZ1bmN0aW9uIGRlZmluZUxvY2FsZSAobmFtZSwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgY29uZmlnLmFiYnIgPSBuYW1lO1xuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoJ2RlZmluZUxvY2FsZU92ZXJyaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3VzZSBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgdG8gY2hhbmdlICcgK1xuICAgICAgICAgICAgICAgICAgICAnYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsICcgK1xuICAgICAgICAgICAgICAgICAgICAnY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUgJyArXG4gICAgICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kZWZpbmUtbG9jYWxlLyBmb3IgbW9yZSBpbmZvLicpO1xuICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0uX2NvbmZpZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcblxuICAgICAgICBpZiAobG9jYWxlRmFtaWxpZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICBkZWZpbmVMb2NhbGUoeC5uYW1lLCB4LmNvbmZpZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAvLyBtYWtlIHN1cmUgd2Ugc2V0IHRoZSBsb2NhbGUgQUZURVIgYWxsIGNoaWxkIGxvY2FsZXMgaGF2ZSBiZWVuXG4gICAgICAgIC8vIGNyZWF0ZWQsIHNvIHdlIHdvbid0IGVuZCB1cCB3aXRoIHRoZSBjaGlsZCBsb2NhbGUgc2V0LlxuICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cblxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTG9jYWxlKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICB2YXIgbG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICAvLyBNRVJHRVxuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnID0gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKTtcbiAgICAgICAgbG9jYWxlID0gbmV3IExvY2FsZShjb25maWcpO1xuICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZTtcblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXG4gICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gcmV0dXJucyBsb2NhbGUgZGF0YVxuZnVuY3Rpb24gZ2V0TG9jYWxlIChrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuXG4gICAgaWYgKGtleSAmJiBrZXkuX2xvY2FsZSAmJiBrZXkuX2xvY2FsZS5fYWJicikge1xuICAgICAgICBrZXkgPSBrZXkuX2xvY2FsZS5fYWJicjtcbiAgICB9XG5cbiAgICBpZiAoIWtleSkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xuICAgIH1cblxuICAgIGlmICghaXNBcnJheShrZXkpKSB7XG4gICAgICAgIC8vc2hvcnQtY2lyY3VpdCBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICB9XG4gICAgICAgIGtleSA9IFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcbn1cblxuZnVuY3Rpb24gbGlzdExvY2FsZXMoKSB7XG4gICAgcmV0dXJuIGtleXMkMShsb2NhbGVzKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuICAgIHZhciBvdmVyZmxvdztcbiAgICB2YXIgYSA9IG0uX2E7XG5cbiAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG4gICAgICAgIG92ZXJmbG93ID1cbiAgICAgICAgICAgIGFbTU9OVEhdICAgICAgIDwgMCB8fCBhW01PTlRIXSAgICAgICA+IDExICA/IE1PTlRIIDpcbiAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuICAgICAgICAgICAgYVtIT1VSXSAgICAgICAgPCAwIHx8IGFbSE9VUl0gICAgICAgID4gMjQgfHwgKGFbSE9VUl0gPT09IDI0ICYmIChhW01JTlVURV0gIT09IDAgfHwgYVtTRUNPTkRdICE9PSAwIHx8IGFbTUlMTElTRUNPTkRdICE9PSAwKSkgPyBIT1VSIDpcbiAgICAgICAgICAgIGFbTUlOVVRFXSAgICAgIDwgMCB8fCBhW01JTlVURV0gICAgICA+IDU5ICA/IE1JTlVURSA6XG4gICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuICAgICAgICAgICAgYVtNSUxMSVNFQ09ORF0gPCAwIHx8IGFbTUlMTElTRUNPTkRdID4gOTk5ID8gTUlMTElTRUNPTkQgOlxuICAgICAgICAgICAgLTE7XG5cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dEYXlPZlllYXIgJiYgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IERBVEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFSztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUtEQVk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gaXNvIDg2MDEgcmVnZXhcbi8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxudmFyIGV4dGVuZGVkSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pLSg/OlxcZFxcZC1cXGRcXGR8V1xcZFxcZC1cXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzo6XFxkXFxkKD86OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG52YXIgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG5cbnZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXG52YXIgaXNvRGF0ZXMgPSBbXG4gICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgWydHR0dHLVtXXVdXLUUnLCAvXFxkezR9LVdcXGRcXGQtXFxkL10sXG4gICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxuICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgIFsnWVlZWS1NTScsIC9cXGR7NH0tXFxkXFxkLywgZmFsc2VdLFxuICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxuICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgLy8gWVlZWU1NIGlzIE5PVCBhbGxvd2VkIGJ5IHRoZSBzdGFuZGFyZFxuICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXG4gICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcbiAgICBbJ1lZWVlEREQnLCAvXFxkezd9L11cbl07XG5cbi8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbnZhciBpc29UaW1lcyA9IFtcbiAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG4gICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICBbJ0hIOm1tOnNzJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkL10sXG4gICAgWydISDptbScsIC9cXGRcXGQ6XFxkXFxkL10sXG4gICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgWydISG1tc3MsU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGQsXFxkKy9dLFxuICAgIFsnSEhtbXNzJywgL1xcZFxcZFxcZFxcZFxcZFxcZC9dLFxuICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICBbJ0hIJywgL1xcZFxcZC9dXG5dO1xuXG52YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblxuLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG4gICAgdmFyIGksIGwsXG4gICAgICAgIHN0cmluZyA9IGNvbmZpZy5faSxcbiAgICAgICAgbWF0Y2ggPSBleHRlbmRlZElzb1JlZ2V4LmV4ZWMoc3RyaW5nKSB8fCBiYXNpY0lzb1JlZ2V4LmV4ZWMoc3RyaW5nKSxcbiAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpc29EYXRlc1tpXVsxXS5leGVjKG1hdGNoWzFdKSkge1xuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcbiAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGVGb3JtYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb1RpbWVzW2ldWzFdLmV4ZWMobWF0Y2hbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoWzJdIHNob3VsZCBiZSAnVCcgb3Igc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hbNF0pIHtcbiAgICAgICAgICAgIGlmICh0elJlZ2V4LmV4ZWMobWF0Y2hbNF0pKSB7XG4gICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8gUkZDIDI4MjIgcmVnZXg6IEZvciBkZXRhaWxzIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjgyMiNzZWN0aW9uLTMuM1xudmFyIGJhc2ljUmZjUmVnZXggPSAvXigoPzpNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pLD9cXHMpPyhcXGQ/XFxkXFxzKD86SmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpXFxzKD86XFxkXFxkKT9cXGRcXGRcXHMpKFxcZFxcZDpcXGRcXGQpKFxcOlxcZFxcZCk/KFxccyg/OlVUfEdNVHxbRUNNUF1bU0RdVHxbQS1JSy1aYS1pay16XXxbKy1dXFxkezR9KSkkLztcblxuLy8gZGF0ZSBhbmQgdGltZSBmcm9tIHJlZiAyODIyIGZvcm1hdFxuZnVuY3Rpb24gY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKSB7XG4gICAgdmFyIHN0cmluZywgbWF0Y2gsIGRheUZvcm1hdCxcbiAgICAgICAgZGF0ZUZvcm1hdCwgdGltZUZvcm1hdCwgdHpGb3JtYXQ7XG4gICAgdmFyIHRpbWV6b25lcyA9IHtcbiAgICAgICAgJyBHTVQnOiAnICswMDAwJyxcbiAgICAgICAgJyBFRFQnOiAnIC0wNDAwJyxcbiAgICAgICAgJyBFU1QnOiAnIC0wNTAwJyxcbiAgICAgICAgJyBDRFQnOiAnIC0wNTAwJyxcbiAgICAgICAgJyBDU1QnOiAnIC0wNjAwJyxcbiAgICAgICAgJyBNRFQnOiAnIC0wNjAwJyxcbiAgICAgICAgJyBNU1QnOiAnIC0wNzAwJyxcbiAgICAgICAgJyBQRFQnOiAnIC0wNzAwJyxcbiAgICAgICAgJyBQU1QnOiAnIC0wODAwJ1xuICAgIH07XG4gICAgdmFyIG1pbGl0YXJ5ID0gJ1lYV1ZVVFNSUVBPTlpBQkNERUZHSElLTE0nO1xuICAgIHZhciB0aW1lem9uZSwgdGltZXpvbmVJbmRleDtcblxuICAgIHN0cmluZyA9IGNvbmZpZy5faVxuICAgICAgICAucmVwbGFjZSgvXFwoW15cXCldKlxcKXxbXFxuXFx0XS9nLCAnICcpIC8vIFJlbW92ZSBjb21tZW50cyBhbmQgZm9sZGluZyB3aGl0ZXNwYWNlXG4gICAgICAgIC5yZXBsYWNlKC8oXFxzXFxzKykvZywgJyAnKSAvLyBSZXBsYWNlIG11bHRpcGxlLXNwYWNlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG4gICAgICAgIC5yZXBsYWNlKC9eXFxzfFxccyQvZywgJycpOyAvLyBSZW1vdmUgbGVhZGluZyBhbmQgdHJhaWxpbmcgc3BhY2VzXG4gICAgbWF0Y2ggPSBiYXNpY1JmY1JlZ2V4LmV4ZWMoc3RyaW5nKTtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBkYXlGb3JtYXQgPSBtYXRjaFsxXSA/ICdkZGQnICsgKChtYXRjaFsxXS5sZW5ndGggPT09IDUpID8gJywgJyA6ICcgJykgOiAnJztcbiAgICAgICAgZGF0ZUZvcm1hdCA9ICdEIE1NTSAnICsgKChtYXRjaFsyXS5sZW5ndGggPiAxMCkgPyAnWVlZWSAnIDogJ1lZICcpO1xuICAgICAgICB0aW1lRm9ybWF0ID0gJ0hIOm1tJyArIChtYXRjaFs0XSA/ICc6c3MnIDogJycpO1xuXG4gICAgICAgIC8vIFRPRE86IFJlcGxhY2UgdGhlIHZhbmlsbGEgSlMgRGF0ZSBvYmplY3Qgd2l0aCBhbiBpbmRlcGVudGVudCBkYXktb2Ytd2VlayBjaGVjay5cbiAgICAgICAgaWYgKG1hdGNoWzFdKSB7IC8vIGRheSBvZiB3ZWVrIGdpdmVuXG4gICAgICAgICAgICB2YXIgbW9tZW50RGF0ZSA9IG5ldyBEYXRlKG1hdGNoWzJdKTtcbiAgICAgICAgICAgIHZhciBtb21lbnREYXkgPSBbJ1N1bicsJ01vbicsJ1R1ZScsJ1dlZCcsJ1RodScsJ0ZyaScsJ1NhdCddW21vbWVudERhdGUuZ2V0RGF5KCldO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2hbMV0uc3Vic3RyKDAsMykgIT09IG1vbWVudERheSkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLndlZWtkYXlNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChtYXRjaFs1XS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMjogLy8gbWlsaXRhcnlcbiAgICAgICAgICAgICAgICBpZiAodGltZXpvbmVJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aW1lem9uZSA9ICcgKzAwMDAnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWV6b25lSW5kZXggPSBtaWxpdGFyeS5pbmRleE9mKG1hdGNoWzVdWzFdLnRvVXBwZXJDYXNlKCkpIC0gMTI7XG4gICAgICAgICAgICAgICAgICAgIHRpbWV6b25lID0gKCh0aW1lem9uZUluZGV4IDwgMCkgPyAnIC0nIDogJyArJykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKCgnJyArIHRpbWV6b25lSW5kZXgpLnJlcGxhY2UoL14tPy8sICcwJykpLm1hdGNoKC8uLiQvKVswXSArICcwMCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OiAvLyBab25lXG4gICAgICAgICAgICAgICAgdGltZXpvbmUgPSB0aW1lem9uZXNbbWF0Y2hbNV1dO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDogLy8gVVQgb3IgKy8tOTk5OVxuICAgICAgICAgICAgICAgIHRpbWV6b25lID0gdGltZXpvbmVzWycgR01UJ107XG4gICAgICAgIH1cbiAgICAgICAgbWF0Y2hbNV0gPSB0aW1lem9uZTtcbiAgICAgICAgY29uZmlnLl9pID0gbWF0Y2guc3BsaWNlKDEpLmpvaW4oJycpO1xuICAgICAgICB0ekZvcm1hdCA9ICcgWlonO1xuICAgICAgICBjb25maWcuX2YgPSBkYXlGb3JtYXQgKyBkYXRlRm9ybWF0ICsgdGltZUZvcm1hdCArIHR6Rm9ybWF0O1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnJmYzI4MjIgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXQgb3IgZmFsbGJhY2tcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG4gICAgdmFyIG1hdGNoZWQgPSBhc3BOZXRKc29uUmVnZXguZXhlYyhjb25maWcuX2kpO1xuXG4gICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK21hdGNoZWRbMV0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZyk7XG4gICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmluYWwgYXR0ZW1wdCwgdXNlIElucHV0IEZhbGxiYWNrXG4gICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcbn1cblxuaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgJ3ZhbHVlIHByb3ZpZGVkIGlzIG5vdCBpbiBhIHJlY29nbml6ZWQgUkZDMjgyMiBvciBJU08gZm9ybWF0LiBtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZSgpLCAnICtcbiAgICAnd2hpY2ggaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBhbGwgYnJvd3NlcnMgYW5kIHZlcnNpb25zLiBOb24gUkZDMjgyMi9JU08gZGF0ZSBmb3JtYXRzIGFyZSAnICtcbiAgICAnZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gJyArXG4gICAgJ2h0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvanMtZGF0ZS8gZm9yIG1vcmUgaW5mby4nLFxuICAgIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoY29uZmlnLl9pICsgKGNvbmZpZy5fdXNlVVRDID8gJyBVVEMnIDogJycpKTtcbiAgICB9XG4pO1xuXG4vLyBQaWNrIHRoZSBmaXJzdCBkZWZpbmVkIG9mIHR3byBvciB0aHJlZSBhcmd1bWVudHMuXG5mdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgaWYgKGEgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgaWYgKGIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgcmV0dXJuIGM7XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgLy8gaG9va3MgaXMgYWN0dWFsbHkgdGhlIGV4cG9ydGVkIG1vbWVudCBvYmplY3RcbiAgICB2YXIgbm93VmFsdWUgPSBuZXcgRGF0ZShob29rcy5ub3coKSk7XG4gICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG4gICAgICAgIHJldHVybiBbbm93VmFsdWUuZ2V0VVRDRnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0VVRDTW9udGgoKSwgbm93VmFsdWUuZ2V0VVRDRGF0ZSgpXTtcbiAgICB9XG4gICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRNb250aCgpLCBub3dWYWx1ZS5nZXREYXRlKCldO1xufVxuXG4vLyBjb252ZXJ0IGFuIGFycmF5IHRvIGEgZGF0ZS5cbi8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XG4vLyBub3RlOiBhbGwgdmFsdWVzIHBhc3QgdGhlIHllYXIgYXJlIG9wdGlvbmFsIGFuZCB3aWxsIGRlZmF1bHQgdG8gdGhlIGxvd2VzdCBwb3NzaWJsZSB2YWx1ZS5cbi8vIFt5ZWFyLCBtb250aCwgZGF5ICwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kXVxuZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcbiAgICB2YXIgaSwgZGF0ZSwgaW5wdXQgPSBbXSwgY3VycmVudERhdGUsIHllYXJUb1VzZTtcblxuICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGN1cnJlbnREYXRlID0gY3VycmVudERhdGVBcnJheShjb25maWcpO1xuXG4gICAgLy9jb21wdXRlIGRheSBvZiB0aGUgeWVhciBmcm9tIHdlZWtzIGFuZCB3ZWVrZGF5c1xuICAgIGlmIChjb25maWcuX3cgJiYgY29uZmlnLl9hW0RBVEVdID09IG51bGwgJiYgY29uZmlnLl9hW01PTlRIXSA9PSBudWxsKSB7XG4gICAgICAgIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpO1xuICAgIH1cblxuICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuICAgIGlmIChjb25maWcuX2RheU9mWWVhciAhPSBudWxsKSB7XG4gICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXG4gICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSB8fCBjb25maWcuX2RheU9mWWVhciA9PT0gMCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICBjb25maWcuX2FbTU9OVEhdID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgZGF0ZS5cbiAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG4gICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAvLyAqIGlmIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG9ubHkgeWVhclxuICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSBjdXJyZW50RGF0ZVtpXTtcbiAgICB9XG5cbiAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xuICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IChjb25maWcuX2FbaV0gPT0gbnVsbCkgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgMjQ6MDA6MDAuMDAwXG4gICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG4gICAgICAgICAgICBjb25maWcuX2FbU0VDT05EXSA9PT0gMCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMCkge1xuICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAwO1xuICAgIH1cblxuICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShudWxsLCBpbnB1dCk7XG4gICAgLy8gQXBwbHkgdGltZXpvbmUgb2Zmc2V0IGZyb20gaW5wdXQuIFRoZSBhY3R1YWwgdXRjT2Zmc2V0IGNhbiBiZSBjaGFuZ2VkXG4gICAgLy8gd2l0aCBwYXJzZVpvbmUuXG4gICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXAsIHdlZWtkYXlPdmVyZmxvdztcblxuICAgIHcgPSBjb25maWcuX3c7XG4gICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICBkb3cgPSAxO1xuICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAvLyBob3cgd2UgaW50ZXJwcmV0IG5vdyAobG9jYWwsIHV0YywgZml4ZWQgb2Zmc2V0KS4gU28gY3JlYXRlXG4gICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuR0csIGNvbmZpZy5fYVtZRUFSXSwgd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCAxLCA0KS55ZWFyKTtcbiAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuICAgICAgICBpZiAod2Vla2RheSA8IDEgfHwgd2Vla2RheSA+IDcpIHtcbiAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICB2YXIgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXG4gICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCB3ZWVrLlxuICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCBjdXJXZWVrLndlZWspO1xuXG4gICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gd2Vla2RheSAtLSBsb3cgZGF5IG51bWJlcnMgYXJlIGNvbnNpZGVyZWQgbmV4dCB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuICAgICAgICAgICAgaWYgKHcuZSA8IDAgfHwgdy5lID4gNikge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdlZWsgPCAxIHx8IHdlZWsgPiB3ZWVrc0luWWVhcih3ZWVrWWVhciwgZG93LCBkb3kpKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtkYXkgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgIH1cbn1cblxuLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuaG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIFJGQyAyODIyIGZvcm1cbmhvb2tzLlJGQ18yODIyID0gZnVuY3Rpb24gKCkge307XG5cbi8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmdcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKSB7XG4gICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHNcbiAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5JU09fODYwMSkge1xuICAgICAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuUkZDXzI4MjIpIHtcbiAgICAgICAgY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25maWcuX2EgPSBbXTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7XG5cbiAgICAvLyBUaGlzIGFycmF5IGlzIHVzZWQgdG8gbWFrZSBhIERhdGUsIGVpdGhlciB3aXRoIGBuZXcgRGF0ZWAgb3IgYERhdGUuVVRDYFxuICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSxcbiAgICAgICAgaSwgcGFyc2VkSW5wdXQsIHRva2VucywgdG9rZW4sIHNraXBwZWQsXG4gICAgICAgIHN0cmluZ0xlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG4gICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggPSAwO1xuXG4gICAgdG9rZW5zID0gZXhwYW5kRm9ybWF0KGNvbmZpZy5fZiwgY29uZmlnLl9sb2NhbGUpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpIHx8IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHwgW10pWzBdO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygndG9rZW4nLCB0b2tlbiwgJ3BhcnNlZElucHV0JywgcGFyc2VkSW5wdXQsXG4gICAgICAgIC8vICAgICAgICAgJ3JlZ2V4JywgZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKTtcbiAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpO1xuICAgICAgICAgICAgaWYgKHNraXBwZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2Uoc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpICsgcGFyc2VkSW5wdXQubGVuZ3RoKTtcbiAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvbid0IHBhcnNlIGlmIGl0J3Mgbm90IGEga25vd24gdG9rZW5cbiAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xuICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBwYXJzZWRJbnB1dCwgY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCByZW1haW5pbmcgdW5wYXJzZWQgaW5wdXQgbGVuZ3RoIHRvIHRoZSBzdHJpbmdcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5jaGFyc0xlZnRPdmVyID0gc3RyaW5nTGVuZ3RoIC0gdG90YWxQYXJzZWRJbnB1dExlbmd0aDtcbiAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChzdHJpbmcpO1xuICAgIH1cblxuICAgIC8vIGNsZWFyIF8xMmggZmxhZyBpZiBob3VyIGlzIDw9IDEyXG4gICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA8PSAxMiAmJlxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID09PSB0cnVlICYmXG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA+IDApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5wYXJzZWREYXRlUGFydHMgPSBjb25maWcuX2Euc2xpY2UoMCk7XG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykubWVyaWRpZW0gPSBjb25maWcuX21lcmlkaWVtO1xuICAgIC8vIGhhbmRsZSBtZXJpZGllbVxuICAgIGNvbmZpZy5fYVtIT1VSXSA9IG1lcmlkaWVtRml4V3JhcChjb25maWcuX2xvY2FsZSwgY29uZmlnLl9hW0hPVVJdLCBjb25maWcuX21lcmlkaWVtKTtcblxuICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIGNoZWNrT3ZlcmZsb3coY29uZmlnKTtcbn1cblxuXG5mdW5jdGlvbiBtZXJpZGllbUZpeFdyYXAgKGxvY2FsZSwgaG91ciwgbWVyaWRpZW0pIHtcbiAgICB2YXIgaXNQbTtcblxuICAgIGlmIChtZXJpZGllbSA9PSBudWxsKSB7XG4gICAgICAgIC8vIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfVxuICAgIGlmIChsb2NhbGUubWVyaWRpZW1Ib3VyICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5tZXJpZGllbUhvdXIoaG91ciwgbWVyaWRpZW0pO1xuICAgIH0gZWxzZSBpZiAobG9jYWxlLmlzUE0gIT0gbnVsbCkge1xuICAgICAgICAvLyBGYWxsYmFja1xuICAgICAgICBpc1BtID0gbG9jYWxlLmlzUE0obWVyaWRpZW0pO1xuICAgICAgICBpZiAoaXNQbSAmJiBob3VyIDwgMTIpIHtcbiAgICAgICAgICAgIGhvdXIgKz0gMTI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1BtICYmIGhvdXIgPT09IDEyKSB7XG4gICAgICAgICAgICBob3VyID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aGlzIGlzIG5vdCBzdXBwb3NlZCB0byBoYXBwZW5cbiAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfVxufVxuXG4vLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBhcnJheSBvZiBmb3JtYXQgc3RyaW5nc1xuZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZykge1xuICAgIHZhciB0ZW1wQ29uZmlnLFxuICAgICAgICBiZXN0TW9tZW50LFxuXG4gICAgICAgIHNjb3JlVG9CZWF0LFxuICAgICAgICBpLFxuICAgICAgICBjdXJyZW50U2NvcmU7XG5cbiAgICBpZiAoY29uZmlnLl9mLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBjb25maWcuX2YubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3VycmVudFNjb3JlID0gMDtcbiAgICAgICAgdGVtcENvbmZpZyA9IGNvcHlDb25maWcoe30sIGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcuX3VzZVVUQyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0ZW1wQ29uZmlnLl91c2VVVEMgPSBjb25maWcuX3VzZVVUQztcbiAgICAgICAgfVxuICAgICAgICB0ZW1wQ29uZmlnLl9mID0gY29uZmlnLl9mW2ldO1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KHRlbXBDb25maWcpO1xuXG4gICAgICAgIGlmICghaXNWYWxpZCh0ZW1wQ29uZmlnKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbnkgaW5wdXQgdGhhdCB3YXMgbm90IHBhcnNlZCBhZGQgYSBwZW5hbHR5IGZvciB0aGF0IGZvcm1hdFxuICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cbiAgICAgICAgLy9vciB0b2tlbnNcbiAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS51bnVzZWRUb2tlbnMubGVuZ3RoICogMTA7XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXG4gICAgICAgIGlmIChzY29yZVRvQmVhdCA9PSBudWxsIHx8IGN1cnJlbnRTY29yZSA8IHNjb3JlVG9CZWF0KSB7XG4gICAgICAgICAgICBzY29yZVRvQmVhdCA9IGN1cnJlbnRTY29yZTtcbiAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXh0ZW5kKGNvbmZpZywgYmVzdE1vbWVudCB8fCB0ZW1wQ29uZmlnKTtcbn1cblxuZnVuY3Rpb24gY29uZmlnRnJvbU9iamVjdChjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSk7XG4gICAgY29uZmlnLl9hID0gbWFwKFtpLnllYXIsIGkubW9udGgsIGkuZGF5IHx8IGkuZGF0ZSwgaS5ob3VyLCBpLm1pbnV0ZSwgaS5zZWNvbmQsIGkubWlsbGlzZWNvbmRdLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgfSk7XG5cbiAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyAoY29uZmlnKSB7XG4gICAgdmFyIHJlcyA9IG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhwcmVwYXJlQ29uZmlnKGNvbmZpZykpKTtcbiAgICBpZiAocmVzLl9uZXh0RGF5KSB7XG4gICAgICAgIC8vIEFkZGluZyBpcyBzbWFydCBlbm91Z2ggYXJvdW5kIERTVFxuICAgICAgICByZXMuYWRkKDEsICdkJyk7XG4gICAgICAgIHJlcy5fbmV4dERheSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlQ29uZmlnIChjb25maWcpIHtcbiAgICB2YXIgaW5wdXQgPSBjb25maWcuX2ksXG4gICAgICAgIGZvcm1hdCA9IGNvbmZpZy5fZjtcblxuICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XG5cbiAgICBpZiAoaW5wdXQgPT09IG51bGwgfHwgKGZvcm1hdCA9PT0gdW5kZWZpbmVkICYmIGlucHV0ID09PSAnJykpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoe251bGxJbnB1dDogdHJ1ZX0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbmZpZy5faSA9IGlucHV0ID0gY29uZmlnLl9sb2NhbGUucHJlcGFyc2UoaW5wdXQpO1xuICAgIH1cblxuICAgIGlmIChpc01vbWVudChpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhpbnB1dCkpO1xuICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2QgPSBpbnB1dDtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZm9ybWF0KSkge1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGZvcm1hdCkge1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgfSAgZWxzZSB7XG4gICAgICAgIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpO1xuICAgIH1cblxuICAgIGlmICghaXNWYWxpZChjb25maWcpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmZpZztcbn1cblxuZnVuY3Rpb24gY29uZmlnRnJvbUlucHV0KGNvbmZpZykge1xuICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcbiAgICBpZiAoaXNVbmRlZmluZWQoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQudmFsdWVPZigpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICBjb25maWdGcm9tT2JqZWN0KGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcbiAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhbE9yVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHtcbiAgICB2YXIgYyA9IHt9O1xuXG4gICAgaWYgKGxvY2FsZSA9PT0gdHJ1ZSB8fCBsb2NhbGUgPT09IGZhbHNlKSB7XG4gICAgICAgIHN0cmljdCA9IGxvY2FsZTtcbiAgICAgICAgbG9jYWxlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICgoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxuICAgICAgICAgICAgKGlzQXJyYXkoaW5wdXQpICYmIGlucHV0Lmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgaW5wdXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIG9iamVjdCBjb25zdHJ1Y3Rpb24gbXVzdCBiZSBkb25lIHRoaXMgd2F5LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNDIzXG4gICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICBjLl91c2VVVEMgPSBjLl9pc1VUQyA9IGlzVVRDO1xuICAgIGMuX2wgPSBsb2NhbGU7XG4gICAgYy5faSA9IGlucHV0O1xuICAgIGMuX2YgPSBmb3JtYXQ7XG4gICAgYy5fc3RyaWN0ID0gc3RyaWN0O1xuXG4gICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2FsIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBmYWxzZSk7XG59XG5cbnZhciBwcm90b3R5cGVNaW4gPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlciA8IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICB9XG4gICAgfVxuKTtcblxudmFyIHByb3RvdHlwZU1heCA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkubWF4IGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG4vLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuLy8gb3RoZXIuIFRoaXMgcmVsaWVzIG9uIHRoZSBmdW5jdGlvbiBmbiB0byBiZSB0cmFuc2l0aXZlLlxuLy9cbi8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2Vcbi8vIGZpcnN0IGVsZW1lbnQgaXMgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMuXG5mdW5jdGlvbiBwaWNrQnkoZm4sIG1vbWVudHMpIHtcbiAgICB2YXIgcmVzLCBpO1xuICAgIGlmIChtb21lbnRzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG1vbWVudHNbMF0pKSB7XG4gICAgICAgIG1vbWVudHMgPSBtb21lbnRzWzBdO1xuICAgIH1cbiAgICBpZiAoIW1vbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbCgpO1xuICAgIH1cbiAgICByZXMgPSBtb21lbnRzWzBdO1xuICAgIGZvciAoaSA9IDE7IGkgPCBtb21lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghbW9tZW50c1tpXS5pc1ZhbGlkKCkgfHwgbW9tZW50c1tpXVtmbl0ocmVzKSkge1xuICAgICAgICAgICAgcmVzID0gbW9tZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuZnVuY3Rpb24gbWluICgpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7XG59XG5cbmZ1bmN0aW9uIG1heCAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICByZXR1cm4gcGlja0J5KCdpc0FmdGVyJywgYXJncyk7XG59XG5cbnZhciBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIERhdGUubm93ID8gRGF0ZS5ub3coKSA6ICsobmV3IERhdGUoKSk7XG59O1xuXG52YXIgb3JkZXJpbmcgPSBbJ3llYXInLCAncXVhcnRlcicsICdtb250aCcsICd3ZWVrJywgJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLCAnbWlsbGlzZWNvbmQnXTtcblxuZnVuY3Rpb24gaXNEdXJhdGlvblZhbGlkKG0pIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gbSkge1xuICAgICAgICBpZiAoIShvcmRlcmluZy5pbmRleE9mKGtleSkgIT09IC0xICYmIChtW2tleV0gPT0gbnVsbCB8fCAhaXNOYU4obVtrZXldKSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdW5pdEhhc0RlY2ltYWwgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChtW29yZGVyaW5nW2ldXSkge1xuICAgICAgICAgICAgaWYgKHVuaXRIYXNEZWNpbWFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBvbmx5IGFsbG93IG5vbi1pbnRlZ2VycyBmb3Igc21hbGxlc3QgdW5pdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQobVtvcmRlcmluZ1tpXV0pICE9PSB0b0ludChtW29yZGVyaW5nW2ldXSkpIHtcbiAgICAgICAgICAgICAgICB1bml0SGFzRGVjaW1hbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZCQxKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnZhbGlkJDEoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKE5hTik7XG59XG5cbmZ1bmN0aW9uIER1cmF0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG4gICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLFxuICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcbiAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCAwLFxuICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLFxuICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG4gICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsXG4gICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXG4gICAgdGhpcy5faXNWYWxpZCA9IGlzRHVyYXRpb25WYWxpZChub3JtYWxpemVkSW5wdXQpO1xuXG4gICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICB0aGlzLl9taWxsaXNlY29uZHMgPSArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgc2Vjb25kcyAqIDFlMyArIC8vIDEwMDBcbiAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAvLyBCZWNhdXNlIG9mIGRhdGVBZGRSZW1vdmUgdHJlYXRzIDI0IGhvdXJzIGFzIGRpZmZlcmVudCBmcm9tIGFcbiAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG4gICAgdGhpcy5fZGF5cyA9ICtkYXlzICtcbiAgICAgICAgd2Vla3MgKiA3O1xuICAgIC8vIEl0IGlzIGltcG9zc2libGUgdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG4gICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcbiAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgK1xuICAgICAgICBxdWFydGVycyAqIDMgK1xuICAgICAgICB5ZWFycyAqIDEyO1xuXG4gICAgdGhpcy5fZGF0YSA9IHt9O1xuXG4gICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICB0aGlzLl9idWJibGUoKTtcbn1cblxuZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIER1cmF0aW9uO1xufVxuXG5mdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyKTtcbiAgICB9XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gb2Zmc2V0ICh0b2tlbiwgc2VwYXJhdG9yKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMudXRjT2Zmc2V0KCk7XG4gICAgICAgIHZhciBzaWduID0gJysnO1xuICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcbiAgICAgICAgICAgIHNpZ24gPSAnLSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpZ24gKyB6ZXJvRmlsbCh+fihvZmZzZXQgLyA2MCksIDIpICsgc2VwYXJhdG9yICsgemVyb0ZpbGwofn4ob2Zmc2V0KSAlIDYwLCAyKTtcbiAgICB9KTtcbn1cblxub2Zmc2V0KCdaJywgJzonKTtcbm9mZnNldCgnWlonLCAnJyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignWicsICBtYXRjaFNob3J0T2Zmc2V0KTtcbmFkZFJlZ2V4VG9rZW4oJ1paJywgbWF0Y2hTaG9ydE9mZnNldCk7XG5hZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG4gICAgY29uZmlnLl90em0gPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIHRpbWV6b25lIGNodW5rZXJcbi8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXVxuLy8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG52YXIgY2h1bmtPZmZzZXQgPSAvKFtcXCtcXC1dfFxcZFxcZCkvZ2k7XG5cbmZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG4gICAgdmFyIG1hdGNoZXMgPSAoc3RyaW5nIHx8ICcnKS5tYXRjaChtYXRjaGVyKTtcblxuICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBjaHVuayAgID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICB2YXIgbWludXRlcyA9ICsocGFydHNbMV0gKiA2MCkgKyB0b0ludChwYXJ0c1syXSk7XG5cbiAgICByZXR1cm4gbWludXRlcyA9PT0gMCA/XG4gICAgICAwIDpcbiAgICAgIHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG59XG5cbi8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG5mdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XG4gICAgdmFyIHJlcywgZGlmZjtcbiAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XG4gICAgICAgIGRpZmYgPSAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dCkgPyBpbnB1dC52YWx1ZU9mKCkgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG4gICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgcmVzLl9kLnNldFRpbWUocmVzLl9kLnZhbHVlT2YoKSArIGRpZmYpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldCAobSkge1xuICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvcHVsbC8xODcxXG4gICAgcmV0dXJuIC1NYXRoLnJvdW5kKG0uX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE1KSAqIDE1O1xufVxuXG4vLyBIT09LU1xuXG4vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXG4vLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cbmhvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBNT01FTlRTXG5cbi8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuLy8gYWZmZWN0aW5nIHRoZSBsb2NhbCBob3VyLiBTbyA1OjMxOjI2ICswMzAwIC0tW3V0Y09mZnNldCgyLCB0cnVlKV0tLT5cbi8vIDU6MzE6MjYgKzAyMDAgSXQgaXMgcG9zc2libGUgdGhhdCA1OjMxOjI2IGRvZXNuJ3QgZXhpc3Qgd2l0aCBvZmZzZXRcbi8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbi8vXG4vLyBLZWVwaW5nIHRoZSB0aW1lIGFjdHVhbGx5IGFkZHMvc3VidHJhY3RzIChvbmUgaG91cilcbi8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuLy8gYSBzZWNvbmQgdGltZS4gSW4gY2FzZSBpdCB3YW50cyB1cyB0byBjaGFuZ2UgdGhlIG9mZnNldCBhZ2FpblxuLy8gX2NoYW5nZUluUHJvZ3Jlc3MgPT0gdHJ1ZSBjYXNlLCB0aGVuIHdlIGhhdmUgdG8gYWRqdXN0LCBiZWNhdXNlXG4vLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuZnVuY3Rpb24gZ2V0U2V0T2Zmc2V0IChpbnB1dCwga2VlcExvY2FsVGltZSwga2VlcE1pbnV0ZXMpIHtcbiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0IHx8IDAsXG4gICAgICAgIGxvY2FsQWRqdXN0O1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW5wdXQgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbiAgICAgICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGlucHV0KSA8IDE2ICYmICFrZWVwTWludXRlcykge1xuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNVVEMgJiYga2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGlucHV0O1xuICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG4gICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChsb2NhbEFkanVzdCwgJ20nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgaWYgKCFrZWVwTG9jYWxUaW1lIHx8IHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSwgMSwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2V0Wm9uZSAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW5wdXQgPSAtaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnV0Y09mZnNldChpbnB1dCwga2VlcExvY2FsVGltZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC10aGlzLnV0Y09mZnNldCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICByZXR1cm4gdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvTG9jYWwgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICBpZiAodGhpcy5faXNVVEMpIHtcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgICAgIHRoaXMuX2lzVVRDID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3VidHJhY3QoZ2V0RGF0ZU9mZnNldCh0aGlzKSwgJ20nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQgKCkge1xuICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnV0Y09mZnNldCh0aGlzLl90em0sIGZhbHNlLCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgaWYgKHRab25lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBoYXNBbGlnbmVkSG91ck9mZnNldCAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcbn1cblxuZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCkgfHxcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgfVxuXG4gICAgdmFyIGMgPSB7fTtcblxuICAgIGNvcHlDb25maWcoYywgdGhpcyk7XG4gICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICBpZiAoYy5fYSkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjLl9pc1VUQyA/IGNyZWF0ZVVUQyhjLl9hKSA6IGNyZWF0ZUxvY2FsKGMuX2EpO1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xufVxuXG5mdW5jdGlvbiBpc0xvY2FsICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyAhdGhpcy5faXNVVEMgOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDIDogZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyAmJiB0aGlzLl9vZmZzZXQgPT09IDAgOiBmYWxzZTtcbn1cblxuLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG52YXIgYXNwTmV0UmVnZXggPSAvXihcXC0pPyg/OihcXGQqKVsuIF0pPyhcXGQrKVxcOihcXGQrKSg/OlxcOihcXGQrKShcXC5cXGQqKT8pPyQvO1xuXG4vLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuLy8gc29tZXdoYXQgbW9yZSBpbiBsaW5lIHdpdGggNC40LjMuMiAyMDA0IHNwZWMsIGJ1dCBhbGxvd3MgZGVjaW1hbCBhbnl3aGVyZVxuLy8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxudmFyIGlzb1JlZ2V4ID0gL14oLSk/UCg/OigtP1swLTksLl0qKVkpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVcpPyg/OigtP1swLTksLl0qKUQpPyg/OlQoPzooLT9bMC05LC5dKilIKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilTKT8pPyQvO1xuXG5mdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAvLyBtYXRjaGluZyBhZ2FpbnN0IHJlZ2V4cCBpcyBleHBlbnNpdmUsIGRvIGl0IG9uIGRlbWFuZFxuICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgIHNpZ24sXG4gICAgICAgIHJldCxcbiAgICAgICAgZGlmZlJlcztcblxuICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICBNICA6IGlucHV0Ll9tb250aHNcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICB5ICA6IDAsXG4gICAgICAgICAgICBkICA6IHRvSW50KG1hdGNoW0RBVEVdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtICA6IHRvSW50KG1hdGNoW01JTlVURV0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBzICA6IHRvSW50KG1hdGNoW1NFQ09ORF0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHkgOiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG4gICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuICAgICAgICAgICAgdyA6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcbiAgICAgICAgICAgIGQgOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG4gICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuICAgICAgICAgICAgbSA6IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcbiAgICAgICAgICAgIHMgOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbilcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHsvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHtcbiAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKGNyZWF0ZUxvY2FsKGR1cmF0aW9uLmZyb20pLCBjcmVhdGVMb2NhbChkdXJhdGlvbi50bykpO1xuXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXG4gICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfbG9jYWxlJykpIHtcbiAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59XG5cbmNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuY3JlYXRlRHVyYXRpb24uaW52YWxpZCA9IGNyZWF0ZUludmFsaWQkMTtcblxuZnVuY3Rpb24gcGFyc2VJc28gKGlucCwgc2lnbikge1xuICAgIC8vIFdlJ2Qgbm9ybWFsbHkgdXNlIH5+aW5wIGZvciB0aGlzLCBidXQgdW5mb3J0dW5hdGVseSBpdCBhbHNvXG4gICAgLy8gY29udmVydHMgZmxvYXRzIHRvIGludHMuXG4gICAgLy8gaW5wIG1heSBiZSB1bmRlZmluZWQsIHNvIGNhcmVmdWwgY2FsbGluZyByZXBsYWNlIG9uIGl0LlxuICAgIHZhciByZXMgPSBpbnAgJiYgcGFyc2VGbG9hdChpbnAucmVwbGFjZSgnLCcsICcuJykpO1xuICAgIC8vIGFwcGx5IHNpZ24gd2hpbGUgd2UncmUgYXQgaXRcbiAgICByZXR1cm4gKGlzTmFOKHJlcykgPyAwIDogcmVzKSAqIHNpZ247XG59XG5cbmZ1bmN0aW9uIHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICB2YXIgcmVzID0ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcblxuICAgIHJlcy5tb250aHMgPSBvdGhlci5tb250aCgpIC0gYmFzZS5tb250aCgpICtcbiAgICAgICAgKG90aGVyLnllYXIoKSAtIGJhc2UueWVhcigpKSAqIDEyO1xuICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcbiAgICAgICAgLS1yZXMubW9udGhzO1xuICAgIH1cblxuICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XG5cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgIHZhciByZXM7XG4gICAgaWYgKCEoYmFzZS5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcbiAgICB9XG5cbiAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XG4gICAgaWYgKGJhc2UuaXNCZWZvcmUob3RoZXIpKSB7XG4gICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2Uob3RoZXIsIGJhc2UpO1xuICAgICAgICByZXMubWlsbGlzZWNvbmRzID0gLXJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBUT0RPOiByZW1vdmUgJ25hbWUnIGFyZyBhZnRlciBkZXByZWNhdGlvbiBpcyByZW1vdmVkXG5mdW5jdGlvbiBjcmVhdGVBZGRlcihkaXJlY3Rpb24sIG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgcGVyaW9kKSB7XG4gICAgICAgIHZhciBkdXIsIHRtcDtcbiAgICAgICAgLy9pbnZlcnQgdGhlIGFyZ3VtZW50cywgYnV0IGNvbXBsYWluIGFib3V0IGl0XG4gICAgICAgIGlmIChwZXJpb2QgIT09IG51bGwgJiYgIWlzTmFOKCtwZXJpb2QpKSB7XG4gICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4gJyArXG4gICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvYWRkLWludmVydGVkLXBhcmFtLyBmb3IgbW9yZSBpbmZvLicpO1xuICAgICAgICAgICAgdG1wID0gdmFsOyB2YWwgPSBwZXJpb2Q7IHBlcmlvZCA9IHRtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gK3ZhbCA6IHZhbDtcbiAgICAgICAgZHVyID0gY3JlYXRlRHVyYXRpb24odmFsLCBwZXJpb2QpO1xuICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBkdXIsIGRpcmVjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFkZFN1YnRyYWN0IChtb20sIGR1cmF0aW9uLCBpc0FkZGluZywgdXBkYXRlT2Zmc2V0KSB7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IGR1cmF0aW9uLl9taWxsaXNlY29uZHMsXG4gICAgICAgIGRheXMgPSBhYnNSb3VuZChkdXJhdGlvbi5fZGF5cyksXG4gICAgICAgIG1vbnRocyA9IGFic1JvdW5kKGR1cmF0aW9uLl9tb250aHMpO1xuXG4gICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIC8vIE5vIG9wXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XG5cbiAgICBpZiAobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmIChkYXlzKSB7XG4gICAgICAgIHNldCQxKG1vbSwgJ0RhdGUnLCBnZXQobW9tLCAnRGF0ZScpICsgZGF5cyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKG1vbnRocykge1xuICAgICAgICBzZXRNb250aChtb20sIGdldChtb20sICdNb250aCcpICsgbW9udGhzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAodXBkYXRlT2Zmc2V0KSB7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTtcbiAgICB9XG59XG5cbnZhciBhZGQgICAgICA9IGNyZWF0ZUFkZGVyKDEsICdhZGQnKTtcbnZhciBzdWJ0cmFjdCA9IGNyZWF0ZUFkZGVyKC0xLCAnc3VidHJhY3QnKTtcblxuZnVuY3Rpb24gZ2V0Q2FsZW5kYXJGb3JtYXQobXlNb21lbnQsIG5vdykge1xuICAgIHZhciBkaWZmID0gbXlNb21lbnQuZGlmZihub3csICdkYXlzJywgdHJ1ZSk7XG4gICAgcmV0dXJuIGRpZmYgPCAtNiA/ICdzYW1lRWxzZScgOlxuICAgICAgICAgICAgZGlmZiA8IC0xID8gJ2xhc3RXZWVrJyA6XG4gICAgICAgICAgICBkaWZmIDwgMCA/ICdsYXN0RGF5JyA6XG4gICAgICAgICAgICBkaWZmIDwgMSA/ICdzYW1lRGF5JyA6XG4gICAgICAgICAgICBkaWZmIDwgMiA/ICduZXh0RGF5JyA6XG4gICAgICAgICAgICBkaWZmIDwgNyA/ICduZXh0V2VlaycgOiAnc2FtZUVsc2UnO1xufVxuXG5mdW5jdGlvbiBjYWxlbmRhciQxICh0aW1lLCBmb3JtYXRzKSB7XG4gICAgLy8gV2Ugd2FudCB0byBjb21wYXJlIHRoZSBzdGFydCBvZiB0b2RheSwgdnMgdGhpcy5cbiAgICAvLyBHZXR0aW5nIHN0YXJ0LW9mLXRvZGF5IGRlcGVuZHMgb24gd2hldGhlciB3ZSdyZSBsb2NhbC91dGMvb2Zmc2V0IG9yIG5vdC5cbiAgICB2YXIgbm93ID0gdGltZSB8fCBjcmVhdGVMb2NhbCgpLFxuICAgICAgICBzb2QgPSBjbG9uZVdpdGhPZmZzZXQobm93LCB0aGlzKS5zdGFydE9mKCdkYXknKSxcbiAgICAgICAgZm9ybWF0ID0gaG9va3MuY2FsZW5kYXJGb3JtYXQodGhpcywgc29kKSB8fCAnc2FtZUVsc2UnO1xuXG4gICAgdmFyIG91dHB1dCA9IGZvcm1hdHMgJiYgKGlzRnVuY3Rpb24oZm9ybWF0c1tmb3JtYXRdKSA/IGZvcm1hdHNbZm9ybWF0XS5jYWxsKHRoaXMsIG5vdykgOiBmb3JtYXRzW2Zvcm1hdF0pO1xuXG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KG91dHB1dCB8fCB0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmb3JtYXQsIHRoaXMsIGNyZWF0ZUxvY2FsKG5vdykpKTtcbn1cblxuZnVuY3Rpb24gY2xvbmUgKCkge1xuICAgIHJldHVybiBuZXcgTW9tZW50KHRoaXMpO1xufVxuXG5mdW5jdGlvbiBpc0FmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA+IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBsb2NhbElucHV0LnZhbHVlT2YoKSA8IHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0JlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzQmV0d2VlbiAoZnJvbSwgdG8sIHVuaXRzLCBpbmNsdXNpdml0eSkge1xuICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcbiAgICByZXR1cm4gKGluY2x1c2l2aXR5WzBdID09PSAnKCcgPyB0aGlzLmlzQWZ0ZXIoZnJvbSwgdW5pdHMpIDogIXRoaXMuaXNCZWZvcmUoZnJvbSwgdW5pdHMpKSAmJlxuICAgICAgICAoaW5jbHVzaXZpdHlbMV0gPT09ICcpJyA/IHRoaXMuaXNCZWZvcmUodG8sIHVuaXRzKSA6ICF0aGlzLmlzQWZ0ZXIodG8sIHVuaXRzKSk7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KSxcbiAgICAgICAgaW5wdXRNcztcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzIHx8ICdtaWxsaXNlY29uZCcpO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPT09IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlucHV0TXMgPSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCkgPD0gaW5wdXRNcyAmJiBpbnB1dE1zIDw9IHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTYW1lT3JBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0FmdGVyKGlucHV0LHVuaXRzKTtcbn1cblxuZnVuY3Rpb24gaXNTYW1lT3JCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNCZWZvcmUoaW5wdXQsdW5pdHMpO1xufVxuXG5mdW5jdGlvbiBkaWZmIChpbnB1dCwgdW5pdHMsIGFzRmxvYXQpIHtcbiAgICB2YXIgdGhhdCxcbiAgICAgICAgem9uZURlbHRhLFxuICAgICAgICBkZWx0YSwgb3V0cHV0O1xuXG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIHRoYXQgPSBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIHRoaXMpO1xuXG4gICAgaWYgKCF0aGF0LmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIHpvbmVEZWx0YSA9ICh0aGF0LnV0Y09mZnNldCgpIC0gdGhpcy51dGNPZmZzZXQoKSkgKiA2ZTQ7XG5cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgIGlmICh1bml0cyA9PT0gJ3llYXInIHx8IHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMztcbiAgICAgICAgfSBlbHNlIGlmICh1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgLyAxMjtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbHRhID0gdGhpcyAtIHRoYXQ7XG4gICAgICAgIG91dHB1dCA9IHVuaXRzID09PSAnc2Vjb25kJyA/IGRlbHRhIC8gMWUzIDogLy8gMTAwMFxuICAgICAgICAgICAgdW5pdHMgPT09ICdtaW51dGUnID8gZGVsdGEgLyA2ZTQgOiAvLyAxMDAwICogNjBcbiAgICAgICAgICAgIHVuaXRzID09PSAnaG91cicgPyBkZWx0YSAvIDM2ZTUgOiAvLyAxMDAwICogNjAgKiA2MFxuICAgICAgICAgICAgdW5pdHMgPT09ICdkYXknID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDg2NGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxuICAgICAgICAgICAgdW5pdHMgPT09ICd3ZWVrJyA/IChkZWx0YSAtIHpvbmVEZWx0YSkgLyA2MDQ4ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0ICogNywgbmVnYXRlIGRzdFxuICAgICAgICAgICAgZGVsdGE7XG4gICAgfVxuICAgIHJldHVybiBhc0Zsb2F0ID8gb3V0cHV0IDogYWJzRmxvb3Iob3V0cHV0KTtcbn1cblxuZnVuY3Rpb24gbW9udGhEaWZmIChhLCBiKSB7XG4gICAgLy8gZGlmZmVyZW5jZSBpbiBtb250aHNcbiAgICB2YXIgd2hvbGVNb250aERpZmYgPSAoKGIueWVhcigpIC0gYS55ZWFyKCkpICogMTIpICsgKGIubW9udGgoKSAtIGEubW9udGgoKSksXG4gICAgICAgIC8vIGIgaXMgaW4gKGFuY2hvciAtIDEgbW9udGgsIGFuY2hvciArIDEgbW9udGgpXG4gICAgICAgIGFuY2hvciA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYsICdtb250aHMnKSxcbiAgICAgICAgYW5jaG9yMiwgYWRqdXN0O1xuXG4gICAgaWYgKGIgLSBhbmNob3IgPCAwKSB7XG4gICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpO1xuICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yIC0gYW5jaG9yMik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgKyAxLCAnbW9udGhzJyk7XG4gICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTtcbiAgICB9XG5cbiAgICAvL2NoZWNrIGZvciBuZWdhdGl2ZSB6ZXJvLCByZXR1cm4gemVybyBpZiBuZWdhdGl2ZSB6ZXJvXG4gICAgcmV0dXJuIC0od2hvbGVNb250aERpZmYgKyBhZGp1c3QpIHx8IDA7XG59XG5cbmhvb2tzLmRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERFRISDptbTpzc1onO1xuaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA9ICdZWVlZLU1NLUREVEhIOm1tOnNzW1pdJztcblxuZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKCdlbicpLmZvcm1hdCgnZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlonKTtcbn1cblxuZnVuY3Rpb24gdG9JU09TdHJpbmcoKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIG0gPSB0aGlzLmNsb25lKCkudXRjKCk7XG4gICAgaWYgKG0ueWVhcigpIDwgMCB8fCBtLnllYXIoKSA+IDk5OTkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG4gICAgfVxuICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuICAgICAgICAvLyBuYXRpdmUgaW1wbGVtZW50YXRpb24gaXMgfjUweCBmYXN0ZXIsIHVzZSBpdCB3aGVuIHdlIGNhblxuICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cbiAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcbiAqXG4gKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuICovXG5mdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XG4gICAgfVxuICAgIHZhciBmdW5jID0gJ21vbWVudCc7XG4gICAgdmFyIHpvbmUgPSAnJztcbiAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XG4gICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xuICAgICAgICB6b25lID0gJ1onO1xuICAgIH1cbiAgICB2YXIgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcbiAgICB2YXIgeWVhciA9ICgwIDw9IHRoaXMueWVhcigpICYmIHRoaXMueWVhcigpIDw9IDk5OTkpID8gJ1lZWVknIDogJ1lZWVlZWSc7XG4gICAgdmFyIGRhdGV0aW1lID0gJy1NTS1ERFtUXUhIOm1tOnNzLlNTUyc7XG4gICAgdmFyIHN1ZmZpeCA9IHpvbmUgKyAnW1wiKV0nO1xuXG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KHByZWZpeCArIHllYXIgKyBkYXRldGltZSArIHN1ZmZpeCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdCAoaW5wdXRTdHJpbmcpIHtcbiAgICBpZiAoIWlucHV0U3RyaW5nKSB7XG4gICAgICAgIGlucHV0U3RyaW5nID0gdGhpcy5pc1V0YygpID8gaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA6IGhvb2tzLmRlZmF1bHRGb3JtYXQ7XG4gICAgfVxuICAgIHZhciBvdXRwdXQgPSBmb3JtYXRNb21lbnQodGhpcywgaW5wdXRTdHJpbmcpO1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCk7XG59XG5cbmZ1bmN0aW9uIGZyb20gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XG4gICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe3RvOiB0aGlzLCBmcm9tOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZyb21Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICByZXR1cm4gdGhpcy5mcm9tKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xufVxuXG5mdW5jdGlvbiB0byAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7ZnJvbTogdGhpcywgdG86IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdG9Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICByZXR1cm4gdGhpcy50byhjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbn1cblxuLy8gSWYgcGFzc2VkIGEgbG9jYWxlIGtleSwgaXQgd2lsbCBzZXQgdGhlIGxvY2FsZSBmb3IgdGhpc1xuLy8gaW5zdGFuY2UuICBPdGhlcndpc2UsIGl0IHdpbGwgcmV0dXJuIHRoZSBsb2NhbGUgY29uZmlndXJhdGlvblxuLy8gdmFyaWFibGVzIGZvciB0aGlzIGluc3RhbmNlLlxuZnVuY3Rpb24gbG9jYWxlIChrZXkpIHtcbiAgICB2YXIgbmV3TG9jYWxlRGF0YTtcblxuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlLl9hYmJyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0xvY2FsZURhdGEgPSBnZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgaWYgKG5ld0xvY2FsZURhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxlID0gbmV3TG9jYWxlRGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbnZhciBsYW5nID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLicsXG4gICAgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZShrZXkpO1xuICAgICAgICB9XG4gICAgfVxuKTtcblxuZnVuY3Rpb24gbG9jYWxlRGF0YSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcbn1cblxuZnVuY3Rpb24gc3RhcnRPZiAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAvLyB0aGUgZm9sbG93aW5nIHN3aXRjaCBpbnRlbnRpb25hbGx5IG9taXRzIGJyZWFrIGtleXdvcmRzXG4gICAgLy8gdG8gdXRpbGl6ZSBmYWxsaW5nIHRocm91Z2ggdGhlIGNhc2VzLlxuICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICB0aGlzLm1vbnRoKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgdGhpcy5kYXRlKDEpO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgdGhpcy5ob3VycygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgICAgICB0aGlzLm1pbnV0ZXMoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgICAgICB0aGlzLnNlY29uZHMoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgICAgICB0aGlzLm1pbGxpc2Vjb25kcygwKTtcbiAgICB9XG5cbiAgICAvLyB3ZWVrcyBhcmUgYSBzcGVjaWFsIGNhc2VcbiAgICBpZiAodW5pdHMgPT09ICd3ZWVrJykge1xuICAgICAgICB0aGlzLndlZWtkYXkoMCk7XG4gICAgfVxuICAgIGlmICh1bml0cyA9PT0gJ2lzb1dlZWsnKSB7XG4gICAgICAgIHRoaXMuaXNvV2Vla2RheSgxKTtcbiAgICB9XG5cbiAgICAvLyBxdWFydGVycyBhcmUgYWxzbyBzcGVjaWFsXG4gICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgdGhpcy5tb250aChNYXRoLmZsb29yKHRoaXMubW9udGgoKSAvIDMpICogMyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGVuZE9mICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vICdkYXRlJyBpcyBhbiBhbGlhcyBmb3IgJ2RheScsIHNvIGl0IHNob3VsZCBiZSBjb25zaWRlcmVkIGFzIHN1Y2guXG4gICAgaWYgKHVuaXRzID09PSAnZGF0ZScpIHtcbiAgICAgICAgdW5pdHMgPSAnZGF5JztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdGFydE9mKHVuaXRzKS5hZGQoMSwgKHVuaXRzID09PSAnaXNvV2VlaycgPyAnd2VlaycgOiB1bml0cykpLnN1YnRyYWN0KDEsICdtcycpO1xufVxuXG5mdW5jdGlvbiB2YWx1ZU9mICgpIHtcbiAgICByZXR1cm4gdGhpcy5fZC52YWx1ZU9mKCkgLSAoKHRoaXMuX29mZnNldCB8fCAwKSAqIDYwMDAwKTtcbn1cblxuZnVuY3Rpb24gdW5peCAoKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy52YWx1ZU9mKCkgLyAxMDAwKTtcbn1cblxuZnVuY3Rpb24gdG9EYXRlICgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5ICgpIHtcbiAgICB2YXIgbSA9IHRoaXM7XG4gICAgcmV0dXJuIFttLnllYXIoKSwgbS5tb250aCgpLCBtLmRhdGUoKSwgbS5ob3VyKCksIG0ubWludXRlKCksIG0uc2Vjb25kKCksIG0ubWlsbGlzZWNvbmQoKV07XG59XG5cbmZ1bmN0aW9uIHRvT2JqZWN0ICgpIHtcbiAgICB2YXIgbSA9IHRoaXM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeWVhcnM6IG0ueWVhcigpLFxuICAgICAgICBtb250aHM6IG0ubW9udGgoKSxcbiAgICAgICAgZGF0ZTogbS5kYXRlKCksXG4gICAgICAgIGhvdXJzOiBtLmhvdXJzKCksXG4gICAgICAgIG1pbnV0ZXM6IG0ubWludXRlcygpLFxuICAgICAgICBzZWNvbmRzOiBtLnNlY29uZHMoKSxcbiAgICAgICAgbWlsbGlzZWNvbmRzOiBtLm1pbGxpc2Vjb25kcygpXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgICAvLyBuZXcgRGF0ZShOYU4pLnRvSlNPTigpID09PSBudWxsXG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy50b0lTT1N0cmluZygpIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZCQyICgpIHtcbiAgICByZXR1cm4gaXNWYWxpZCh0aGlzKTtcbn1cblxuZnVuY3Rpb24gcGFyc2luZ0ZsYWdzICgpIHtcbiAgICByZXR1cm4gZXh0ZW5kKHt9LCBnZXRQYXJzaW5nRmxhZ3ModGhpcykpO1xufVxuXG5mdW5jdGlvbiBpbnZhbGlkQXQgKCkge1xuICAgIHJldHVybiBnZXRQYXJzaW5nRmxhZ3ModGhpcykub3ZlcmZsb3c7XG59XG5cbmZ1bmN0aW9uIGNyZWF0aW9uRGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnB1dDogdGhpcy5faSxcbiAgICAgICAgZm9ybWF0OiB0aGlzLl9mLFxuICAgICAgICBsb2NhbGU6IHRoaXMuX2xvY2FsZSxcbiAgICAgICAgaXNVVEM6IHRoaXMuX2lzVVRDLFxuICAgICAgICBzdHJpY3Q6IHRoaXMuX3N0cmljdFxuICAgIH07XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydnZycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ0dHJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc29XZWVrWWVhcigpICUgMTAwO1xufSk7XG5cbmZ1bmN0aW9uIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4gKHRva2VuLCBnZXR0ZXIpIHtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG59XG5cbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2cnLCAgICAgJ3dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICAgICd3ZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHRycsICAnaXNvV2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0dHJywgJ2lzb1dlZWtZZWFyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCd3ZWVrWWVhcicsICdnZycpO1xuYWRkVW5pdEFsaWFzKCdpc29XZWVrWWVhcicsICdHRycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3dlZWtZZWFyJywgMSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtZZWFyJywgMSk7XG5cblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdHJywgICAgICBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdnJywgICAgICBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdHRycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdnZycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdHR0dHJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG5hZGRSZWdleFRva2VuKCdnZ2dnJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG5hZGRSZWdleFRva2VuKCdHR0dHRycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5hZGRSZWdleFRva2VuKCdnZ2dnZycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZ2dnZycsICdnZ2dnZycsICdHR0dHJywgJ0dHR0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDIpXSA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2dnJywgJ0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW5dID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xufSk7XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgdGhpcy53ZWVrKCksXG4gICAgICAgICAgICB0aGlzLndlZWtkYXkoKSxcbiAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcbiAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveSk7XG59XG5cbmZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkge1xuICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKHRoaXMsXG4gICAgICAgICAgICBpbnB1dCwgdGhpcy5pc29XZWVrKCksIHRoaXMuaXNvV2Vla2RheSgpLCAxLCA0KTtcbn1cblxuZnVuY3Rpb24gZ2V0SVNPV2Vla3NJblllYXIgKCkge1xuICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgMSwgNCk7XG59XG5cbmZ1bmN0aW9uIGdldFdlZWtzSW5ZZWFyICgpIHtcbiAgICB2YXIgd2Vla0luZm8gPSB0aGlzLmxvY2FsZURhdGEoKS5fd2VlaztcbiAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXJIZWxwZXIoaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgdmFyIHdlZWtzVGFyZ2V0O1xuICAgIGlmIChpbnB1dCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKHRoaXMsIGRvdywgZG95KS55ZWFyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdlZWtzVGFyZ2V0ID0gd2Vla3NJblllYXIoaW5wdXQsIGRvdywgZG95KTtcbiAgICAgICAgaWYgKHdlZWsgPiB3ZWVrc1RhcmdldCkge1xuICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRXZWVrQWxsLmNhbGwodGhpcywgaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldFdlZWtBbGwod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgdmFyIGRheU9mWWVhckRhdGEgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSxcbiAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoZGF5T2ZZZWFyRGF0YS55ZWFyLCAwLCBkYXlPZlllYXJEYXRhLmRheU9mWWVhcik7XG5cbiAgICB0aGlzLnllYXIoZGF0ZS5nZXRVVENGdWxsWWVhcigpKTtcbiAgICB0aGlzLm1vbnRoKGRhdGUuZ2V0VVRDTW9udGgoKSk7XG4gICAgdGhpcy5kYXRlKGRhdGUuZ2V0VVRDRGF0ZSgpKTtcbiAgICByZXR1cm4gdGhpcztcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignUScsIDAsICdRbycsICdxdWFydGVyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdxdWFydGVyJywgJ1EnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdxdWFydGVyJywgNyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignUScsIG1hdGNoMSk7XG5hZGRQYXJzZVRva2VuKCdRJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W01PTlRIXSA9ICh0b0ludChpbnB1dCkgLSAxKSAqIDM7XG59KTtcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXRRdWFydGVyIChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gTWF0aC5jZWlsKCh0aGlzLm1vbnRoKCkgKyAxKSAvIDMpIDogdGhpcy5tb250aCgoaW5wdXQgLSAxKSAqIDMgKyB0aGlzLm1vbnRoKCkgJSAzKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignRCcsIFsnREQnLCAyXSwgJ0RvJywgJ2RhdGUnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2RhdGUnLCAnRCcpO1xuXG4vLyBQUklPUk9JVFlcbmFkZFVuaXRQcmlvcml0eSgnZGF0ZScsIDkpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0QnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0REJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignRG8nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICByZXR1cm4gaXNTdHJpY3QgP1xuICAgICAgKGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZSB8fCBsb2NhbGUuX29yZGluYWxQYXJzZSkgOlxuICAgICAgbG9jYWxlLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlTGVuaWVudDtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbmFkZFBhcnNlVG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSwgMTApO1xufSk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldERheU9mTW9udGggPSBtYWtlR2V0U2V0KCdEYXRlJywgdHJ1ZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ0RERCcsIFsnRERERCcsIDNdLCAnREREbycsICdkYXlPZlllYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2RheU9mWWVhcicsICdEREQnKTtcblxuLy8gUFJJT1JJVFlcbmFkZFVuaXRQcmlvcml0eSgnZGF5T2ZZZWFyJywgNCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignREREJywgIG1hdGNoMXRvMyk7XG5hZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTtcbmFkZFBhcnNlVG9rZW4oWydEREQnLCAnRERERCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0RGF5T2ZZZWFyIChpbnB1dCkge1xuICAgIHZhciBkYXlPZlllYXIgPSBNYXRoLnJvdW5kKCh0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykgLSB0aGlzLmNsb25lKCkuc3RhcnRPZigneWVhcicpKSAvIDg2NGU1KSArIDE7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtaW51dGUnLCAnbScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21pbnV0ZScsIDE0KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdtbScsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldE1pbnV0ZSA9IG1ha2VHZXRTZXQoJ01pbnV0ZXMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnc2Vjb25kJywgMTUpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ3NzJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUGFyc2VUb2tlbihbJ3MnLCAnc3MnXSwgU0VDT05EKTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0U2Vjb25kID0gbWFrZUdldFNldCgnU2Vjb25kcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTAwKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTApO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTJywgNF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1MnLCA1XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTJywgNl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTJywgN10sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1MnLCA4XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1NTJywgOV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwMDtcbn0pO1xuXG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtaWxsaXNlY29uZCcsICdtcycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21pbGxpc2Vjb25kJywgMTYpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1MnLCAgICBtYXRjaDF0bzMsIG1hdGNoMSk7XG5hZGRSZWdleFRva2VuKCdTUycsICAgbWF0Y2gxdG8zLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblxudmFyIHRva2VuO1xuZm9yICh0b2tlbiA9ICdTU1NTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1zKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG59XG5cbmZvciAodG9rZW4gPSAnUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbn1cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCd6JywgIDAsIDAsICd6b25lQWJicicpO1xuYWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0Wm9uZUFiYnIgKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG59XG5cbmZ1bmN0aW9uIGdldFpvbmVOYW1lICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG59XG5cbnZhciBwcm90byA9IE1vbWVudC5wcm90b3R5cGU7XG5cbnByb3RvLmFkZCAgICAgICAgICAgICAgID0gYWRkO1xucHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBjYWxlbmRhciQxO1xucHJvdG8uY2xvbmUgICAgICAgICAgICAgPSBjbG9uZTtcbnByb3RvLmRpZmYgICAgICAgICAgICAgID0gZGlmZjtcbnByb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG5wcm90by5mb3JtYXQgICAgICAgICAgICA9IGZvcm1hdDtcbnByb3RvLmZyb20gICAgICAgICAgICAgID0gZnJvbTtcbnByb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcbnByb3RvLnRvICAgICAgICAgICAgICAgID0gdG87XG5wcm90by50b05vdyAgICAgICAgICAgICA9IHRvTm93O1xucHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdHZXQ7XG5wcm90by5pbnZhbGlkQXQgICAgICAgICA9IGludmFsaWRBdDtcbnByb3RvLmlzQWZ0ZXIgICAgICAgICAgID0gaXNBZnRlcjtcbnByb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG5wcm90by5pc0JldHdlZW4gICAgICAgICA9IGlzQmV0d2VlbjtcbnByb3RvLmlzU2FtZSAgICAgICAgICAgID0gaXNTYW1lO1xucHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xucHJvdG8uaXNTYW1lT3JCZWZvcmUgICAgPSBpc1NhbWVPckJlZm9yZTtcbnByb3RvLmlzVmFsaWQgICAgICAgICAgID0gaXNWYWxpZCQyO1xucHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xucHJvdG8ubG9jYWxlICAgICAgICAgICAgPSBsb2NhbGU7XG5wcm90by5sb2NhbGVEYXRhICAgICAgICA9IGxvY2FsZURhdGE7XG5wcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcbnByb3RvLm1pbiAgICAgICAgICAgICAgID0gcHJvdG90eXBlTWluO1xucHJvdG8ucGFyc2luZ0ZsYWdzICAgICAgPSBwYXJzaW5nRmxhZ3M7XG5wcm90by5zZXQgICAgICAgICAgICAgICA9IHN0cmluZ1NldDtcbnByb3RvLnN0YXJ0T2YgICAgICAgICAgID0gc3RhcnRPZjtcbnByb3RvLnN1YnRyYWN0ICAgICAgICAgID0gc3VidHJhY3Q7XG5wcm90by50b0FycmF5ICAgICAgICAgICA9IHRvQXJyYXk7XG5wcm90by50b09iamVjdCAgICAgICAgICA9IHRvT2JqZWN0O1xucHJvdG8udG9EYXRlICAgICAgICAgICAgPSB0b0RhdGU7XG5wcm90by50b0lTT1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nO1xucHJvdG8uaW5zcGVjdCAgICAgICAgICAgPSBpbnNwZWN0O1xucHJvdG8udG9KU09OICAgICAgICAgICAgPSB0b0pTT047XG5wcm90by50b1N0cmluZyAgICAgICAgICA9IHRvU3RyaW5nO1xucHJvdG8udW5peCAgICAgICAgICAgICAgPSB1bml4O1xucHJvdG8udmFsdWVPZiAgICAgICAgICAgPSB2YWx1ZU9mO1xucHJvdG8uY3JlYXRpb25EYXRhICAgICAgPSBjcmVhdGlvbkRhdGE7XG5cbi8vIFllYXJcbnByb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xucHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG5cbi8vIFdlZWsgWWVhclxucHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjtcbnByb3RvLmlzb1dlZWtZZWFyID0gZ2V0U2V0SVNPV2Vla1llYXI7XG5cbi8vIFF1YXJ0ZXJcbnByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XG5cbi8vIE1vbnRoXG5wcm90by5tb250aCAgICAgICA9IGdldFNldE1vbnRoO1xucHJvdG8uZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aDtcblxuLy8gV2Vla1xucHJvdG8ud2VlayAgICAgICAgICAgPSBwcm90by53ZWVrcyAgICAgICAgPSBnZXRTZXRXZWVrO1xucHJvdG8uaXNvV2VlayAgICAgICAgPSBwcm90by5pc29XZWVrcyAgICAgPSBnZXRTZXRJU09XZWVrO1xucHJvdG8ud2Vla3NJblllYXIgICAgPSBnZXRXZWVrc0luWWVhcjtcbnByb3RvLmlzb1dlZWtzSW5ZZWFyID0gZ2V0SVNPV2Vla3NJblllYXI7XG5cbi8vIERheVxucHJvdG8uZGF0ZSAgICAgICA9IGdldFNldERheU9mTW9udGg7XG5wcm90by5kYXkgICAgICAgID0gcHJvdG8uZGF5cyAgICAgICAgICAgICA9IGdldFNldERheU9mV2VlaztcbnByb3RvLndlZWtkYXkgICAgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG5wcm90by5pc29XZWVrZGF5ID0gZ2V0U2V0SVNPRGF5T2ZXZWVrO1xucHJvdG8uZGF5T2ZZZWFyICA9IGdldFNldERheU9mWWVhcjtcblxuLy8gSG91clxucHJvdG8uaG91ciA9IHByb3RvLmhvdXJzID0gZ2V0U2V0SG91cjtcblxuLy8gTWludXRlXG5wcm90by5taW51dGUgPSBwcm90by5taW51dGVzID0gZ2V0U2V0TWludXRlO1xuXG4vLyBTZWNvbmRcbnByb3RvLnNlY29uZCA9IHByb3RvLnNlY29uZHMgPSBnZXRTZXRTZWNvbmQ7XG5cbi8vIE1pbGxpc2Vjb25kXG5wcm90by5taWxsaXNlY29uZCA9IHByb3RvLm1pbGxpc2Vjb25kcyA9IGdldFNldE1pbGxpc2Vjb25kO1xuXG4vLyBPZmZzZXRcbnByb3RvLnV0Y09mZnNldCAgICAgICAgICAgID0gZ2V0U2V0T2Zmc2V0O1xucHJvdG8udXRjICAgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1VUQztcbnByb3RvLmxvY2FsICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9Mb2NhbDtcbnByb3RvLnBhcnNlWm9uZSAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQ7XG5wcm90by5oYXNBbGlnbmVkSG91ck9mZnNldCA9IGhhc0FsaWduZWRIb3VyT2Zmc2V0O1xucHJvdG8uaXNEU1QgICAgICAgICAgICAgICAgPSBpc0RheWxpZ2h0U2F2aW5nVGltZTtcbnByb3RvLmlzTG9jYWwgICAgICAgICAgICAgID0gaXNMb2NhbDtcbnByb3RvLmlzVXRjT2Zmc2V0ICAgICAgICAgID0gaXNVdGNPZmZzZXQ7XG5wcm90by5pc1V0YyAgICAgICAgICAgICAgICA9IGlzVXRjO1xucHJvdG8uaXNVVEMgICAgICAgICAgICAgICAgPSBpc1V0YztcblxuLy8gVGltZXpvbmVcbnByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG5wcm90by56b25lTmFtZSA9IGdldFpvbmVOYW1lO1xuXG4vLyBEZXByZWNhdGlvbnNcbnByb3RvLmRhdGVzICA9IGRlcHJlY2F0ZSgnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLCBnZXRTZXREYXlPZk1vbnRoKTtcbnByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xucHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG5wcm90by56b25lICAgPSBkZXByZWNhdGUoJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL3pvbmUvJywgZ2V0U2V0Wm9uZSk7XG5wcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLCBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQpO1xuXG5mdW5jdGlvbiBjcmVhdGVVbml4IChpbnB1dCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCAqIDEwMDApO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJblpvbmUgKCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpLnBhcnNlWm9uZSgpO1xufVxuXG5mdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmc7XG59XG5cbnZhciBwcm90byQxID0gTG9jYWxlLnByb3RvdHlwZTtcblxucHJvdG8kMS5jYWxlbmRhciAgICAgICAgPSBjYWxlbmRhcjtcbnByb3RvJDEubG9uZ0RhdGVGb3JtYXQgID0gbG9uZ0RhdGVGb3JtYXQ7XG5wcm90byQxLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xucHJvdG8kMS5vcmRpbmFsICAgICAgICAgPSBvcmRpbmFsO1xucHJvdG8kMS5wcmVwYXJzZSAgICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5wcm90byQxLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbnByb3RvJDEucmVsYXRpdmVUaW1lICAgID0gcmVsYXRpdmVUaW1lO1xucHJvdG8kMS5wYXN0RnV0dXJlICAgICAgPSBwYXN0RnV0dXJlO1xucHJvdG8kMS5zZXQgICAgICAgICAgICAgPSBzZXQ7XG5cbi8vIE1vbnRoXG5wcm90byQxLm1vbnRocyAgICAgICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRocztcbnByb3RvJDEubW9udGhzU2hvcnQgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzU2hvcnQ7XG5wcm90byQxLm1vbnRoc1BhcnNlICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1BhcnNlO1xucHJvdG8kMS5tb250aHNSZWdleCAgICAgICA9IG1vbnRoc1JlZ2V4O1xucHJvdG8kMS5tb250aHNTaG9ydFJlZ2V4ICA9IG1vbnRoc1Nob3J0UmVnZXg7XG5cbi8vIFdlZWtcbnByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG5wcm90byQxLmZpcnN0RGF5T2ZZZWFyID0gbG9jYWxlRmlyc3REYXlPZlllYXI7XG5wcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbi8vIERheSBvZiBXZWVrXG5wcm90byQxLndlZWtkYXlzICAgICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzO1xucHJvdG8kMS53ZWVrZGF5c01pbiAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c01pbjtcbnByb3RvJDEud2Vla2RheXNTaG9ydCAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNTaG9ydDtcbnByb3RvJDEud2Vla2RheXNQYXJzZSAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNQYXJzZTtcblxucHJvdG8kMS53ZWVrZGF5c1JlZ2V4ICAgICAgID0gICAgICAgIHdlZWtkYXlzUmVnZXg7XG5wcm90byQxLndlZWtkYXlzU2hvcnRSZWdleCAgPSAgICAgICAgd2Vla2RheXNTaG9ydFJlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ICAgID0gICAgICAgIHdlZWtkYXlzTWluUmVnZXg7XG5cbi8vIEhvdXJzXG5wcm90byQxLmlzUE0gPSBsb2NhbGVJc1BNO1xucHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXG5mdW5jdGlvbiBnZXQkMSAoZm9ybWF0LCBpbmRleCwgZmllbGQsIHNldHRlcikge1xuICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKTtcbiAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuICAgIHJldHVybiBsb2NhbGVbZmllbGRdKHV0YywgZm9ybWF0KTtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwgKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cbiAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCBpbmRleCwgZmllbGQsICdtb250aCcpO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cblxuLy8gKClcbi8vICg1KVxuLy8gKGZtdCwgNSlcbi8vIChmbXQpXG4vLyAodHJ1ZSlcbi8vICh0cnVlLCA1KVxuLy8gKHRydWUsIGZtdCwgNSlcbi8vICh0cnVlLCBmbXQpXG5mdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgaWYgKHR5cGVvZiBsb2NhbGVTb3J0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9ybWF0ID0gbG9jYWxlU29ydGVkO1xuICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgbG9jYWxlU29ydGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH1cblxuICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcbiAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblxuICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIChpbmRleCArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgfVxuXG4gICAgdmFyIGk7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCAoaSArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHMgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzU2hvcnQgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5cyAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzU2hvcnQgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzTWluIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xufVxuXG5nZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuICAgIGRheU9mTW9udGhPcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7XG4gICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsXG4gICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgKGIgPT09IDEpID8gJ3N0JyA6XG4gICAgICAgICAgICAoYiA9PT0gMikgPyAnbmQnIDpcbiAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICByZXR1cm4gbnVtYmVyICsgb3V0cHV0O1xuICAgIH1cbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5ob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGdldFNldEdsb2JhbExvY2FsZSk7XG5ob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGdldExvY2FsZSk7XG5cbnZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbmZ1bmN0aW9uIGFicyAoKSB7XG4gICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTtcbiAgICB0aGlzLl9kYXlzICAgICAgICAgPSBtYXRoQWJzKHRoaXMuX2RheXMpO1xuICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuICAgIGRhdGEuc2Vjb25kcyAgICAgICA9IG1hdGhBYnMoZGF0YS5zZWNvbmRzKTtcbiAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICBkYXRhLm1vbnRocyAgICAgICAgPSBtYXRoQWJzKGRhdGEubW9udGhzKTtcbiAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGFkZFN1YnRyYWN0JDEgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgIHZhciBvdGhlciA9IGNyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9taWxsaXNlY29uZHM7XG4gICAgZHVyYXRpb24uX2RheXMgICAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fZGF5cztcbiAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICByZXR1cm4gZHVyYXRpb24uX2J1YmJsZSgpO1xufVxuXG4vLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG5mdW5jdGlvbiBhZGQkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAxKTtcbn1cblxuLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgc3VidHJhY3QoMSwgJ3MnKSBvciBzdWJ0cmFjdChkdXJhdGlvbilcbmZ1bmN0aW9uIHN1YnRyYWN0JDEgKGlucHV0LCB2YWx1ZSkge1xuICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xufVxuXG5mdW5jdGlvbiBhYnNDZWlsIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcbiAgICB2YXIgZGF5cyAgICAgICAgID0gdGhpcy5fZGF5cztcbiAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgIHZhciBkYXRhICAgICAgICAgPSB0aGlzLl9kYXRhO1xuICAgIHZhciBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgeWVhcnMsIG1vbnRoc0Zyb21EYXlzO1xuXG4gICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgIC8vIGNoZWNrOiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjE2NlxuICAgIGlmICghKChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XG4gICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgbWlsbGlzZWNvbmRzICs9IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRocykgKyBkYXlzKSAqIDg2NGU1O1xuICAgICAgICBkYXlzID0gMDtcbiAgICAgICAgbW9udGhzID0gMDtcbiAgICB9XG5cbiAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgYnViYmxlcyB1cCB2YWx1ZXMsIHNlZSB0aGUgdGVzdHMgZm9yXG4gICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgIGRhdGEubWlsbGlzZWNvbmRzID0gbWlsbGlzZWNvbmRzICUgMTAwMDtcblxuICAgIHNlY29uZHMgICAgICAgICAgID0gYWJzRmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XG4gICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgZGF0YS5taW51dGVzICAgICAgPSBtaW51dGVzICUgNjA7XG5cbiAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgZGF0YS5ob3VycyAgICAgICAgPSBob3VycyAlIDI0O1xuXG4gICAgZGF5cyArPSBhYnNGbG9vcihob3VycyAvIDI0KTtcblxuICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICBtb250aHNGcm9tRGF5cyA9IGFic0Zsb29yKGRheXNUb01vbnRocyhkYXlzKSk7XG4gICAgbW9udGhzICs9IG1vbnRoc0Zyb21EYXlzO1xuICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cbiAgICBkYXRhLmRheXMgICA9IGRheXM7XG4gICAgZGF0YS5tb250aHMgPSBtb250aHM7XG4gICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxNDYwOTcgZGF5cyAodGFraW5nIGludG8gYWNjb3VudCBsZWFwIHllYXIgcnVsZXMpXG4gICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG4gICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xufVxuXG5mdW5jdGlvbiBtb250aHNUb0RheXMgKG1vbnRocykge1xuICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgIHJldHVybiBtb250aHMgKiAxNDYwOTcgLyA0ODAwO1xufVxuXG5mdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIHZhciBkYXlzO1xuICAgIHZhciBtb250aHM7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgZGF5cyAgID0gdGhpcy5fZGF5cyAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgIG1vbnRocyA9IHRoaXMuX21vbnRocyArIGRheXNUb01vbnRocyhkYXlzKTtcbiAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaGFuZGxlIG1pbGxpc2Vjb25kcyBzZXBhcmF0ZWx5IGJlY2F1c2Ugb2YgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgKGlzc3VlICMxODY3KVxuICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd3ZWVrJyAgIDogcmV0dXJuIGRheXMgLyA3ICAgICArIG1pbGxpc2Vjb25kcyAvIDYwNDhlNTtcbiAgICAgICAgICAgIGNhc2UgJ2RheScgICAgOiByZXR1cm4gZGF5cyAgICAgICAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgICAgICBjYXNlICdob3VyJyAgIDogcmV0dXJuIGRheXMgKiAyNCAgICArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7XG4gICAgICAgICAgICBjYXNlICdtaW51dGUnIDogcmV0dXJuIGRheXMgKiAxNDQwICArIG1pbGxpc2Vjb25kcyAvIDZlNDtcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCcgOiByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcbiAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZVxuICAgICAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOiByZXR1cm4gTWF0aC5mbG9vcihkYXlzICogODY0ZTUpICsgbWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHVuaXQgJyArIHVuaXRzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gVE9ETzogVXNlIHRoaXMuYXMoJ21zJyk/XG5mdW5jdGlvbiB2YWx1ZU9mJDEgKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzICtcbiAgICAgICAgdGhpcy5fZGF5cyAqIDg2NGU1ICtcbiAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArXG4gICAgICAgIHRvSW50KHRoaXMuX21vbnRocyAvIDEyKSAqIDMxNTM2ZTZcbiAgICApO1xufVxuXG5mdW5jdGlvbiBtYWtlQXMgKGFsaWFzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xuICAgIH07XG59XG5cbnZhciBhc01pbGxpc2Vjb25kcyA9IG1ha2VBcygnbXMnKTtcbnZhciBhc1NlY29uZHMgICAgICA9IG1ha2VBcygncycpO1xudmFyIGFzTWludXRlcyAgICAgID0gbWFrZUFzKCdtJyk7XG52YXIgYXNIb3VycyAgICAgICAgPSBtYWtlQXMoJ2gnKTtcbnZhciBhc0RheXMgICAgICAgICA9IG1ha2VBcygnZCcpO1xudmFyIGFzV2Vla3MgICAgICAgID0gbWFrZUFzKCd3Jyk7XG52YXIgYXNNb250aHMgICAgICAgPSBtYWtlQXMoJ00nKTtcbnZhciBhc1llYXJzICAgICAgICA9IG1ha2VBcygneScpO1xuXG5mdW5jdGlvbiBnZXQkMiAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzW3VuaXRzICsgJ3MnXSgpIDogTmFOO1xufVxuXG5mdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9kYXRhW25hbWVdIDogTmFOO1xuICAgIH07XG59XG5cbnZhciBtaWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKTtcbnZhciBzZWNvbmRzICAgICAgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyk7XG52YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xudmFyIGhvdXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ2hvdXJzJyk7XG52YXIgZGF5cyAgICAgICAgID0gbWFrZUdldHRlcignZGF5cycpO1xudmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xudmFyIHllYXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ3llYXJzJyk7XG5cbmZ1bmN0aW9uIHdlZWtzICgpIHtcbiAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbn1cblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbnZhciB0aHJlc2hvbGRzID0ge1xuICAgIHNzOiA0NCwgICAgICAgICAvLyBhIGZldyBzZWNvbmRzIHRvIHNlY29uZHNcbiAgICBzIDogNDUsICAgICAgICAgLy8gc2Vjb25kcyB0byBtaW51dGVcbiAgICBtIDogNDUsICAgICAgICAgLy8gbWludXRlcyB0byBob3VyXG4gICAgaCA6IDIyLCAgICAgICAgIC8vIGhvdXJzIHRvIGRheVxuICAgIGQgOiAyNiwgICAgICAgICAvLyBkYXlzIHRvIG1vbnRoXG4gICAgTSA6IDExICAgICAgICAgIC8vIG1vbnRocyB0byB5ZWFyXG59O1xuXG4vLyBoZWxwZXIgZnVuY3Rpb24gZm9yIG1vbWVudC5mbi5mcm9tLCBtb21lbnQuZm4uZnJvbU5vdywgYW5kIG1vbWVudC5kdXJhdGlvbi5mbi5odW1hbml6ZVxuZnVuY3Rpb24gc3Vic3RpdHV0ZVRpbWVBZ28oc3RyaW5nLCBudW1iZXIsIHdpdGhvdXRTdWZmaXgsIGlzRnV0dXJlLCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLnJlbGF0aXZlVGltZShudW1iZXIgfHwgMSwgISF3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKTtcbn1cblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lJDEgKHBvc05lZ0R1cmF0aW9uLCB3aXRob3V0U3VmZml4LCBsb2NhbGUpIHtcbiAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVEdXJhdGlvbihwb3NOZWdEdXJhdGlvbikuYWJzKCk7XG4gICAgdmFyIHNlY29uZHMgID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSk7XG4gICAgdmFyIG1pbnV0ZXMgID0gcm91bmQoZHVyYXRpb24uYXMoJ20nKSk7XG4gICAgdmFyIGhvdXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2gnKSk7XG4gICAgdmFyIGRheXMgICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSk7XG4gICAgdmFyIG1vbnRocyAgID0gcm91bmQoZHVyYXRpb24uYXMoJ00nKSk7XG4gICAgdmFyIHllYXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ3knKSk7XG5cbiAgICB2YXIgYSA9IHNlY29uZHMgPD0gdGhyZXNob2xkcy5zcyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcbiAgICAgICAgICAgIHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgICAmJiBbJ3NzJywgc2Vjb25kc10gfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gICAmJiBbJ21tJywgbWludXRlc10gfHxcbiAgICAgICAgICAgIGhvdXJzICAgPD0gMSAgICAgICAgICAgICAmJiBbJ2gnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggICAmJiBbJ2hoJywgaG91cnNdICAgfHxcbiAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgICAmJiBbJ2QnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgICAmJiBbJ2RkJywgZGF5c10gICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gICAmJiBbJ01NJywgbW9udGhzXSAgfHxcbiAgICAgICAgICAgIHllYXJzICAgPD0gMSAgICAgICAgICAgICAmJiBbJ3knXSAgICAgICAgICAgfHwgWyd5eScsIHllYXJzXTtcblxuICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgIGFbNF0gPSBsb2NhbGU7XG4gICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IHRoZSByb3VuZGluZyBmdW5jdGlvbiBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyAocm91bmRpbmdGdW5jdGlvbikge1xuICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kO1xuICAgIH1cbiAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQgKHRocmVzaG9sZCwgbGltaXQpIHtcbiAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuICAgIH1cbiAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICBpZiAodGhyZXNob2xkID09PSAncycpIHtcbiAgICAgICAgdGhyZXNob2xkcy5zcyA9IGxpbWl0IC0gMTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGh1bWFuaXplICh3aXRoU3VmZml4KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG5cbiAgICB2YXIgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgdmFyIG91dHB1dCA9IHJlbGF0aXZlVGltZSQxKHRoaXMsICF3aXRoU3VmZml4LCBsb2NhbGUpO1xuXG4gICAgaWYgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG59XG5cbnZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG5mdW5jdGlvbiB0b0lTT1N0cmluZyQxKCkge1xuICAgIC8vIGZvciBJU08gc3RyaW5ncyB3ZSBkbyBub3QgdXNlIHRoZSBub3JtYWwgYnViYmxpbmcgcnVsZXM6XG4gICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgIC8vICAqIGRheXMgZG8gbm90IGJ1YmJsZSBhdCBhbGxcbiAgICAvLyAgKiBtb250aHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIHllYXJzXG4gICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAvLyAodGhpbmsgb2YgY2xvY2sgY2hhbmdlcylcbiAgICAvLyBhbmQgYWxzbyBub3QgYmV0d2VlbiBkYXlzIGFuZCBtb250aHMgKDI4LTMxIGRheXMgcGVyIG1vbnRoKVxuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxuXG4gICAgdmFyIHNlY29uZHMgPSBhYnMkMSh0aGlzLl9taWxsaXNlY29uZHMpIC8gMTAwMDtcbiAgICB2YXIgZGF5cyAgICAgICAgID0gYWJzJDEodGhpcy5fZGF5cyk7XG4gICAgdmFyIG1vbnRocyAgICAgICA9IGFicyQxKHRoaXMuX21vbnRocyk7XG4gICAgdmFyIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycztcblxuICAgIC8vIDM2MDAgc2Vjb25kcyAtPiA2MCBtaW51dGVzIC0+IDEgaG91clxuICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgc2Vjb25kcyAlPSA2MDtcbiAgICBtaW51dGVzICU9IDYwO1xuXG4gICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgIHllYXJzICA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cblxuICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kb3JkaWxsZS9tb21lbnQtaXNvZHVyYXRpb24vYmxvYi9tYXN0ZXIvbW9tZW50Lmlzb2R1cmF0aW9uLmpzXG4gICAgdmFyIFkgPSB5ZWFycztcbiAgICB2YXIgTSA9IG1vbnRocztcbiAgICB2YXIgRCA9IGRheXM7XG4gICAgdmFyIGggPSBob3VycztcbiAgICB2YXIgbSA9IG1pbnV0ZXM7XG4gICAgdmFyIHMgPSBzZWNvbmRzO1xuICAgIHZhciB0b3RhbCA9IHRoaXMuYXNTZWNvbmRzKCk7XG5cbiAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYXMgQyMncyAoTm9kYSkgYW5kIHB5dGhvbiAoaXNvZGF0ZSkuLi5cbiAgICAgICAgLy8gYnV0IG5vdCBvdGhlciBKUyAoZ29vZy5kYXRlKVxuICAgICAgICByZXR1cm4gJ1AwRCc7XG4gICAgfVxuXG4gICAgcmV0dXJuICh0b3RhbCA8IDAgPyAnLScgOiAnJykgK1xuICAgICAgICAnUCcgK1xuICAgICAgICAoWSA/IFkgKyAnWScgOiAnJykgK1xuICAgICAgICAoTSA/IE0gKyAnTScgOiAnJykgK1xuICAgICAgICAoRCA/IEQgKyAnRCcgOiAnJykgK1xuICAgICAgICAoKGggfHwgbSB8fCBzKSA/ICdUJyA6ICcnKSArXG4gICAgICAgIChoID8gaCArICdIJyA6ICcnKSArXG4gICAgICAgIChtID8gbSArICdNJyA6ICcnKSArXG4gICAgICAgIChzID8gcyArICdTJyA6ICcnKTtcbn1cblxudmFyIHByb3RvJDIgPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbnByb3RvJDIuaXNWYWxpZCAgICAgICAgPSBpc1ZhbGlkJDE7XG5wcm90byQyLmFicyAgICAgICAgICAgID0gYWJzO1xucHJvdG8kMi5hZGQgICAgICAgICAgICA9IGFkZCQxO1xucHJvdG8kMi5zdWJ0cmFjdCAgICAgICA9IHN1YnRyYWN0JDE7XG5wcm90byQyLmFzICAgICAgICAgICAgID0gYXM7XG5wcm90byQyLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG5wcm90byQyLmFzU2Vjb25kcyAgICAgID0gYXNTZWNvbmRzO1xucHJvdG8kMi5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlcztcbnByb3RvJDIuYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xucHJvdG8kMi5hc0RheXMgICAgICAgICA9IGFzRGF5cztcbnByb3RvJDIuYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzO1xucHJvdG8kMi5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xucHJvdG8kMi5hc1llYXJzICAgICAgICA9IGFzWWVhcnM7XG5wcm90byQyLnZhbHVlT2YgICAgICAgID0gdmFsdWVPZiQxO1xucHJvdG8kMi5fYnViYmxlICAgICAgICA9IGJ1YmJsZTtcbnByb3RvJDIuZ2V0ICAgICAgICAgICAgPSBnZXQkMjtcbnByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG5wcm90byQyLnNlY29uZHMgICAgICAgID0gc2Vjb25kcztcbnByb3RvJDIubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xucHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xucHJvdG8kMi5kYXlzICAgICAgICAgICA9IGRheXM7XG5wcm90byQyLndlZWtzICAgICAgICAgID0gd2Vla3M7XG5wcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xucHJvdG8kMi55ZWFycyAgICAgICAgICA9IHllYXJzO1xucHJvdG8kMi5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xucHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLnRvU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIudG9KU09OICAgICAgICAgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcbnByb3RvJDIubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhO1xuXG4vLyBEZXByZWNhdGlvbnNcbnByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG5wcm90byQyLmxhbmcgPSBsYW5nO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuYWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xufSk7XG5hZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cblxuaG9va3MudmVyc2lvbiA9ICcyLjE4LjEnO1xuXG5zZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXG5ob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBwcm90bztcbmhvb2tzLm1pbiAgICAgICAgICAgICAgICAgICA9IG1pbjtcbmhvb2tzLm1heCAgICAgICAgICAgICAgICAgICA9IG1heDtcbmhvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcbmhvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVUQztcbmhvb2tzLnVuaXggICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVuaXg7XG5ob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0TW9udGhzO1xuaG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuaG9va3MubG9jYWxlICAgICAgICAgICAgICAgID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuaG9va3MuaW52YWxpZCAgICAgICAgICAgICAgID0gY3JlYXRlSW52YWxpZDtcbmhvb2tzLmR1cmF0aW9uICAgICAgICAgICAgICA9IGNyZWF0ZUR1cmF0aW9uO1xuaG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG5ob29rcy53ZWVrZGF5cyAgICAgICAgICAgICAgPSBsaXN0V2Vla2RheXM7XG5ob29rcy5wYXJzZVpvbmUgICAgICAgICAgICAgPSBjcmVhdGVJblpvbmU7XG5ob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBnZXRMb2NhbGU7XG5ob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuaG9va3MubW9udGhzU2hvcnQgICAgICAgICAgID0gbGlzdE1vbnRoc1Nob3J0O1xuaG9va3Mud2Vla2RheXNNaW4gICAgICAgICAgID0gbGlzdFdlZWtkYXlzTWluO1xuaG9va3MuZGVmaW5lTG9jYWxlICAgICAgICAgID0gZGVmaW5lTG9jYWxlO1xuaG9va3MudXBkYXRlTG9jYWxlICAgICAgICAgID0gdXBkYXRlTG9jYWxlO1xuaG9va3MubG9jYWxlcyAgICAgICAgICAgICAgID0gbGlzdExvY2FsZXM7XG5ob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0V2Vla2RheXNTaG9ydDtcbmhvb2tzLm5vcm1hbGl6ZVVuaXRzICAgICAgICA9IG5vcm1hbGl6ZVVuaXRzO1xuaG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcbmhvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZDtcbmhvb2tzLmNhbGVuZGFyRm9ybWF0ICAgICAgICA9IGdldENhbGVuZGFyRm9ybWF0O1xuaG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XG5cbnJldHVybiBob29rcztcblxufSkpKTtcbiIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iLCIvKiFcbiAqIFBpa2FkYXlcbiAqXG4gKiBDb3B5cmlnaHQgwqkgMjAxNCBEYXZpZCBCdXNoZWxsIHwgQlNEICYgTUlUIGxpY2Vuc2UgfCBodHRwczovL2dpdGh1Yi5jb20vZGJ1c2hlbGwvUGlrYWRheVxuICovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSlcbntcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbW9tZW50O1xuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gQ29tbW9uSlMgbW9kdWxlXG4gICAgICAgIC8vIExvYWQgbW9tZW50LmpzIGFzIGFuIG9wdGlvbmFsIGRlcGVuZGVuY3lcbiAgICAgICAgdHJ5IHsgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7IH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShtb21lbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uIChyZXEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExvYWQgbW9tZW50LmpzIGFzIGFuIG9wdGlvbmFsIGRlcGVuZGVuY3lcbiAgICAgICAgICAgIHZhciBpZCA9ICdtb21lbnQnO1xuICAgICAgICAgICAgdHJ5IHsgbW9tZW50ID0gcmVxKGlkKTsgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KG1vbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QuUGlrYWRheSA9IGZhY3Rvcnkocm9vdC5tb21lbnQpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKG1vbWVudClcbntcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBmZWF0dXJlIGRldGVjdGlvbiBhbmQgaGVscGVyIGZ1bmN0aW9uc1xuICAgICAqL1xuICAgIHZhciBoYXNNb21lbnQgPSB0eXBlb2YgbW9tZW50ID09PSAnZnVuY3Rpb24nLFxuXG4gICAgaGFzRXZlbnRMaXN0ZW5lcnMgPSAhIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyLFxuXG4gICAgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQsXG5cbiAgICBzdG8gPSB3aW5kb3cuc2V0VGltZW91dCxcblxuICAgIGFkZEV2ZW50ID0gZnVuY3Rpb24oZWwsIGUsIGNhbGxiYWNrLCBjYXB0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKGhhc0V2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGUsIGNhbGxiYWNrLCAhIWNhcHR1cmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwuYXR0YWNoRXZlbnQoJ29uJyArIGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICByZW1vdmVFdmVudCA9IGZ1bmN0aW9uKGVsLCBlLCBjYWxsYmFjaywgY2FwdHVyZSlcbiAgICB7XG4gICAgICAgIGlmIChoYXNFdmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBjYWxsYmFjaywgISFjYXB0dXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmRldGFjaEV2ZW50KCdvbicgKyBlLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdHJpbSA9IGZ1bmN0aW9uKHN0cilcbiAgICB7XG4gICAgICAgIHJldHVybiBzdHIudHJpbSA/IHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywnJyk7XG4gICAgfSxcblxuICAgIGhhc0NsYXNzID0gZnVuY3Rpb24oZWwsIGNuKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLmluZGV4T2YoJyAnICsgY24gKyAnICcpICE9PSAtMTtcbiAgICB9LFxuXG4gICAgYWRkQ2xhc3MgPSBmdW5jdGlvbihlbCwgY24pXG4gICAge1xuICAgICAgICBpZiAoIWhhc0NsYXNzKGVsLCBjbikpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9IChlbC5jbGFzc05hbWUgPT09ICcnKSA/IGNuIDogZWwuY2xhc3NOYW1lICsgJyAnICsgY247XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbCwgY24pXG4gICAge1xuICAgICAgICBlbC5jbGFzc05hbWUgPSB0cmltKCgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoJyAnICsgY24gKyAnICcsICcgJykpO1xuICAgIH0sXG5cbiAgICBpc0FycmF5ID0gZnVuY3Rpb24ob2JqKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgvQXJyYXkvKS50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKTtcbiAgICB9LFxuXG4gICAgaXNEYXRlID0gZnVuY3Rpb24ob2JqKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgvRGF0ZS8pLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpICYmICFpc05hTihvYmouZ2V0VGltZSgpKTtcbiAgICB9LFxuXG4gICAgaXNXZWVrZW5kID0gZnVuY3Rpb24oZGF0ZSlcbiAgICB7XG4gICAgICAgIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xuICAgICAgICByZXR1cm4gZGF5ID09PSAwIHx8IGRheSA9PT0gNjtcbiAgICB9LFxuXG4gICAgaXNMZWFwWWVhciA9IGZ1bmN0aW9uKHllYXIpXG4gICAge1xuICAgICAgICAvLyBzb2x1dGlvbiBieSBNYXR0aSBWaXJra3VuZW46IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ4ODE5NTFcbiAgICAgICAgcmV0dXJuIHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgICB9LFxuXG4gICAgZ2V0RGF5c0luTW9udGggPSBmdW5jdGlvbih5ZWFyLCBtb250aClcbiAgICB7XG4gICAgICAgIHJldHVybiBbMzEsIGlzTGVhcFllYXIoeWVhcikgPyAyOSA6IDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV1bbW9udGhdO1xuICAgIH0sXG5cbiAgICBzZXRUb1N0YXJ0T2ZEYXkgPSBmdW5jdGlvbihkYXRlKVxuICAgIHtcbiAgICAgICAgaWYgKGlzRGF0ZShkYXRlKSkgZGF0ZS5zZXRIb3VycygwLDAsMCwwKTtcbiAgICB9LFxuXG4gICAgY29tcGFyZURhdGVzID0gZnVuY3Rpb24oYSxiKVxuICAgIHtcbiAgICAgICAgLy8gd2VhayBkYXRlIGNvbXBhcmlzb24gKHVzZSBzZXRUb1N0YXJ0T2ZEYXkoZGF0ZSkgdG8gZW5zdXJlIGNvcnJlY3QgcmVzdWx0KVxuICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpO1xuICAgIH0sXG5cbiAgICBleHRlbmQgPSBmdW5jdGlvbih0bywgZnJvbSwgb3ZlcndyaXRlKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3AsIGhhc1Byb3A7XG4gICAgICAgIGZvciAocHJvcCBpbiBmcm9tKSB7XG4gICAgICAgICAgICBoYXNQcm9wID0gdG9bcHJvcF0gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChoYXNQcm9wICYmIHR5cGVvZiBmcm9tW3Byb3BdID09PSAnb2JqZWN0JyAmJiBmcm9tW3Byb3BdICE9PSBudWxsICYmIGZyb21bcHJvcF0ubm9kZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0RhdGUoZnJvbVtwcm9wXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSBuZXcgRGF0ZShmcm9tW3Byb3BdLmdldFRpbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShmcm9tW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcndyaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b1twcm9wXSA9IGZyb21bcHJvcF0uc2xpY2UoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b1twcm9wXSA9IGV4dGVuZCh7fSwgZnJvbVtwcm9wXSwgb3ZlcndyaXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG92ZXJ3cml0ZSB8fCAhaGFzUHJvcCkge1xuICAgICAgICAgICAgICAgIHRvW3Byb3BdID0gZnJvbVtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG87XG4gICAgfSxcblxuICAgIGZpcmVFdmVudCA9IGZ1bmN0aW9uKGVsLCBldmVudE5hbWUsIGRhdGEpXG4gICAge1xuICAgICAgICB2YXIgZXY7XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSB7XG4gICAgICAgICAgICBldiA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7XG4gICAgICAgICAgICBldi5pbml0RXZlbnQoZXZlbnROYW1lLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICBldiA9IGV4dGVuZChldiwgZGF0YSk7XG4gICAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCkge1xuICAgICAgICAgICAgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuICAgICAgICAgICAgZXYgPSBleHRlbmQoZXYsIGRhdGEpO1xuICAgICAgICAgICAgZWwuZmlyZUV2ZW50KCdvbicgKyBldmVudE5hbWUsIGV2KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBhZGp1c3RDYWxlbmRhciA9IGZ1bmN0aW9uKGNhbGVuZGFyKSB7XG4gICAgICAgIGlmIChjYWxlbmRhci5tb250aCA8IDApIHtcbiAgICAgICAgICAgIGNhbGVuZGFyLnllYXIgLT0gTWF0aC5jZWlsKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKS8xMik7XG4gICAgICAgICAgICBjYWxlbmRhci5tb250aCArPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsZW5kYXIubW9udGggPiAxMSkge1xuICAgICAgICAgICAgY2FsZW5kYXIueWVhciArPSBNYXRoLmZsb29yKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKS8xMik7XG4gICAgICAgICAgICBjYWxlbmRhci5tb250aCAtPSAxMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsZW5kYXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRlZmF1bHRzIGFuZCBsb2NhbGlzYXRpb25cbiAgICAgKi9cbiAgICBkZWZhdWx0cyA9IHtcblxuICAgICAgICAvLyBiaW5kIHRoZSBwaWNrZXIgdG8gYSBmb3JtIGZpZWxkXG4gICAgICAgIGZpZWxkOiBudWxsLFxuXG4gICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgc2hvdy9oaWRlIHRoZSBwaWNrZXIgb24gYGZpZWxkYCBmb2N1cyAoZGVmYXVsdCBgdHJ1ZWAgaWYgYGZpZWxkYCBpcyBzZXQpXG4gICAgICAgIGJvdW5kOiB1bmRlZmluZWQsXG5cbiAgICAgICAgLy8gcG9zaXRpb24gb2YgdGhlIGRhdGVwaWNrZXIsIHJlbGF0aXZlIHRvIHRoZSBmaWVsZCAoZGVmYXVsdCB0byBib3R0b20gJiBsZWZ0KVxuICAgICAgICAvLyAoJ2JvdHRvbScgJiAnbGVmdCcga2V5d29yZHMgYXJlIG5vdCB1c2VkLCAndG9wJyAmICdyaWdodCcgYXJlIG1vZGlmaWVyIG9uIHRoZSBib3R0b20vbGVmdCBwb3NpdGlvbilcbiAgICAgICAgcG9zaXRpb246ICdib3R0b20gbGVmdCcsXG5cbiAgICAgICAgLy8gYXV0b21hdGljYWxseSBmaXQgaW4gdGhlIHZpZXdwb3J0IGV2ZW4gaWYgaXQgbWVhbnMgcmVwb3NpdGlvbmluZyBmcm9tIHRoZSBwb3NpdGlvbiBvcHRpb25cbiAgICAgICAgcmVwb3NpdGlvbjogdHJ1ZSxcblxuICAgICAgICAvLyB0aGUgZGVmYXVsdCBvdXRwdXQgZm9ybWF0IGZvciBgLnRvU3RyaW5nKClgIGFuZCBgZmllbGRgIHZhbHVlXG4gICAgICAgIGZvcm1hdDogJ1lZWVktTU0tREQnLFxuXG4gICAgICAgIC8vIHRoZSB0b1N0cmluZyBmdW5jdGlvbiB3aGljaCBnZXRzIHBhc3NlZCBhIGN1cnJlbnQgZGF0ZSBvYmplY3QgYW5kIGZvcm1hdFxuICAgICAgICAvLyBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICAgICAgICB0b1N0cmluZzogbnVsbCxcblxuICAgICAgICAvLyB1c2VkIHRvIGNyZWF0ZSBkYXRlIG9iamVjdCBmcm9tIGN1cnJlbnQgaW5wdXQgc3RyaW5nXG4gICAgICAgIHBhcnNlOiBudWxsLFxuXG4gICAgICAgIC8vIHRoZSBpbml0aWFsIGRhdGUgdG8gdmlldyB3aGVuIGZpcnN0IG9wZW5lZFxuICAgICAgICBkZWZhdWx0RGF0ZTogbnVsbCxcblxuICAgICAgICAvLyBtYWtlIHRoZSBgZGVmYXVsdERhdGVgIHRoZSBpbml0aWFsIHNlbGVjdGVkIHZhbHVlXG4gICAgICAgIHNldERlZmF1bHREYXRlOiBmYWxzZSxcblxuICAgICAgICAvLyBmaXJzdCBkYXkgb2Ygd2VlayAoMDogU3VuZGF5LCAxOiBNb25kYXkgZXRjKVxuICAgICAgICBmaXJzdERheTogMCxcblxuICAgICAgICAvLyB0aGUgZGVmYXVsdCBmbGFnIGZvciBtb21lbnQncyBzdHJpY3QgZGF0ZSBwYXJzaW5nXG4gICAgICAgIGZvcm1hdFN0cmljdDogZmFsc2UsXG5cbiAgICAgICAgLy8gdGhlIG1pbmltdW0vZWFybGllc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZFxuICAgICAgICBtaW5EYXRlOiBudWxsLFxuICAgICAgICAvLyB0aGUgbWF4aW11bS9sYXRlc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZFxuICAgICAgICBtYXhEYXRlOiBudWxsLFxuXG4gICAgICAgIC8vIG51bWJlciBvZiB5ZWFycyBlaXRoZXIgc2lkZSwgb3IgYXJyYXkgb2YgdXBwZXIvbG93ZXIgcmFuZ2VcbiAgICAgICAgeWVhclJhbmdlOiAxMCxcblxuICAgICAgICAvLyBzaG93IHdlZWsgbnVtYmVycyBhdCBoZWFkIG9mIHJvd1xuICAgICAgICBzaG93V2Vla051bWJlcjogZmFsc2UsXG5cbiAgICAgICAgLy8gV2VlayBwaWNrZXIgbW9kZVxuICAgICAgICBwaWNrV2hvbGVXZWVrOiBmYWxzZSxcblxuICAgICAgICAvLyB1c2VkIGludGVybmFsbHkgKGRvbid0IGNvbmZpZyBvdXRzaWRlKVxuICAgICAgICBtaW5ZZWFyOiAwLFxuICAgICAgICBtYXhZZWFyOiA5OTk5LFxuICAgICAgICBtaW5Nb250aDogdW5kZWZpbmVkLFxuICAgICAgICBtYXhNb250aDogdW5kZWZpbmVkLFxuXG4gICAgICAgIHN0YXJ0UmFuZ2U6IG51bGwsXG4gICAgICAgIGVuZFJhbmdlOiBudWxsLFxuXG4gICAgICAgIGlzUlRMOiBmYWxzZSxcblxuICAgICAgICAvLyBBZGRpdGlvbmFsIHRleHQgdG8gYXBwZW5kIHRvIHRoZSB5ZWFyIGluIHRoZSBjYWxlbmRhciB0aXRsZVxuICAgICAgICB5ZWFyU3VmZml4OiAnJyxcblxuICAgICAgICAvLyBSZW5kZXIgdGhlIG1vbnRoIGFmdGVyIHllYXIgaW4gdGhlIGNhbGVuZGFyIHRpdGxlXG4gICAgICAgIHNob3dNb250aEFmdGVyWWVhcjogZmFsc2UsXG5cbiAgICAgICAgLy8gUmVuZGVyIGRheXMgb2YgdGhlIGNhbGVuZGFyIGdyaWQgdGhhdCBmYWxsIGluIHRoZSBuZXh0IG9yIHByZXZpb3VzIG1vbnRoXG4gICAgICAgIHNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHM6IGZhbHNlLFxuXG4gICAgICAgIC8vIEFsbG93cyB1c2VyIHRvIHNlbGVjdCBkYXlzIHRoYXQgZmFsbCBpbiB0aGUgbmV4dCBvciBwcmV2aW91cyBtb250aFxuICAgICAgICBlbmFibGVTZWxlY3Rpb25EYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHM6IGZhbHNlLFxuXG4gICAgICAgIC8vIGhvdyBtYW55IG1vbnRocyBhcmUgdmlzaWJsZVxuICAgICAgICBudW1iZXJPZk1vbnRoczogMSxcblxuICAgICAgICAvLyB3aGVuIG51bWJlck9mTW9udGhzIGlzIHVzZWQsIHRoaXMgd2lsbCBoZWxwIHlvdSB0byBjaG9vc2Ugd2hlcmUgdGhlIG1haW4gY2FsZW5kYXIgd2lsbCBiZSAoZGVmYXVsdCBgbGVmdGAsIGNhbiBiZSBzZXQgdG8gYHJpZ2h0YClcbiAgICAgICAgLy8gb25seSB1c2VkIGZvciB0aGUgZmlyc3QgZGlzcGxheSBvciB3aGVuIGEgc2VsZWN0ZWQgZGF0ZSBpcyBub3QgdmlzaWJsZVxuICAgICAgICBtYWluQ2FsZW5kYXI6ICdsZWZ0JyxcblxuICAgICAgICAvLyBTcGVjaWZ5IGEgRE9NIGVsZW1lbnQgdG8gcmVuZGVyIHRoZSBjYWxlbmRhciBpblxuICAgICAgICBjb250YWluZXI6IHVuZGVmaW5lZCxcblxuICAgICAgICAvLyBCbHVyIGZpZWxkIHdoZW4gZGF0ZSBpcyBzZWxlY3RlZFxuICAgICAgICBibHVyRmllbGRPblNlbGVjdCA6IHRydWUsXG5cbiAgICAgICAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgICAgICAgaTE4bjoge1xuICAgICAgICAgICAgcHJldmlvdXNNb250aCA6ICdQcmV2aW91cyBNb250aCcsXG4gICAgICAgICAgICBuZXh0TW9udGggICAgIDogJ05leHQgTW9udGgnLFxuICAgICAgICAgICAgbW9udGhzICAgICAgICA6IFsnSmFudWFyeScsJ0ZlYnJ1YXJ5JywnTWFyY2gnLCdBcHJpbCcsJ01heScsJ0p1bmUnLCdKdWx5JywnQXVndXN0JywnU2VwdGVtYmVyJywnT2N0b2JlcicsJ05vdmVtYmVyJywnRGVjZW1iZXInXSxcbiAgICAgICAgICAgIHdlZWtkYXlzICAgICAgOiBbJ1N1bmRheScsJ01vbmRheScsJ1R1ZXNkYXknLCdXZWRuZXNkYXknLCdUaHVyc2RheScsJ0ZyaWRheScsJ1NhdHVyZGF5J10sXG4gICAgICAgICAgICB3ZWVrZGF5c1Nob3J0IDogWydTdW4nLCdNb24nLCdUdWUnLCdXZWQnLCdUaHUnLCdGcmknLCdTYXQnXVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFRoZW1lIENsYXNzbmFtZVxuICAgICAgICB0aGVtZTogbnVsbCxcblxuICAgICAgICAvLyBldmVudHMgYXJyYXlcbiAgICAgICAgZXZlbnRzOiBbXSxcblxuICAgICAgICAvLyBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICBvblNlbGVjdDogbnVsbCxcbiAgICAgICAgb25PcGVuOiBudWxsLFxuICAgICAgICBvbkNsb3NlOiBudWxsLFxuICAgICAgICBvbkRyYXc6IG51bGxcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiB0ZW1wbGF0aW5nIGZ1bmN0aW9ucyB0byBhYnN0cmFjdCBIVE1MIHJlbmRlcmluZ1xuICAgICAqL1xuICAgIHJlbmRlckRheU5hbWUgPSBmdW5jdGlvbihvcHRzLCBkYXksIGFiYnIpXG4gICAge1xuICAgICAgICBkYXkgKz0gb3B0cy5maXJzdERheTtcbiAgICAgICAgd2hpbGUgKGRheSA+PSA3KSB7XG4gICAgICAgICAgICBkYXkgLT0gNztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWJiciA/IG9wdHMuaTE4bi53ZWVrZGF5c1Nob3J0W2RheV0gOiBvcHRzLmkxOG4ud2Vla2RheXNbZGF5XTtcbiAgICB9LFxuXG4gICAgcmVuZGVyRGF5ID0gZnVuY3Rpb24ob3B0cylcbiAgICB7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgdmFyIGFyaWFTZWxlY3RlZCA9ICdmYWxzZSc7XG4gICAgICAgIGlmIChvcHRzLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLnNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHMpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaCgnaXMtb3V0c2lkZS1jdXJyZW50LW1vbnRoJyk7XG5cbiAgICAgICAgICAgICAgICBpZighb3B0cy5lbmFibGVTZWxlY3Rpb25EYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goJ2lzLXNlbGVjdGlvbi1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzx0ZCBjbGFzcz1cImlzLWVtcHR5XCI+PC90ZD4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCdpcy1kaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzVG9kYXkpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCdpcy10b2RheScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgYXJpYVNlbGVjdGVkID0gJ3RydWUnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmhhc0V2ZW50KSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaGFzLWV2ZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMuaXNJblJhbmdlKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtaW5yYW5nZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzU3RhcnRSYW5nZSkge1xuICAgICAgICAgICAgYXJyLnB1c2goJ2lzLXN0YXJ0cmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc0VuZFJhbmdlKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtZW5kcmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzx0ZCBkYXRhLWRheT1cIicgKyBvcHRzLmRheSArICdcIiBjbGFzcz1cIicgKyBhcnIuam9pbignICcpICsgJ1wiIGFyaWEtc2VsZWN0ZWQ9XCInICsgYXJpYVNlbGVjdGVkICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInBpa2EtYnV0dG9uIHBpa2EtZGF5XCIgdHlwZT1cImJ1dHRvblwiICcgK1xuICAgICAgICAgICAgICAgICAgICAnZGF0YS1waWthLXllYXI9XCInICsgb3B0cy55ZWFyICsgJ1wiIGRhdGEtcGlrYS1tb250aD1cIicgKyBvcHRzLm1vbnRoICsgJ1wiIGRhdGEtcGlrYS1kYXk9XCInICsgb3B0cy5kYXkgKyAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmRheSArXG4gICAgICAgICAgICAgICAgICc8L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICc8L3RkPic7XG4gICAgfSxcblxuICAgIHJlbmRlcldlZWsgPSBmdW5jdGlvbiAoZCwgbSwgeSkge1xuICAgICAgICAvLyBMaWZ0ZWQgZnJvbSBodHRwOi8vamF2YXNjcmlwdC5hYm91dC5jb20vbGlicmFyeS9ibHdlZWt5ZWFyLmh0bSwgbGlnaHRseSBtb2RpZmllZC5cbiAgICAgICAgdmFyIG9uZWphbiA9IG5ldyBEYXRlKHksIDAsIDEpLFxuICAgICAgICAgICAgd2Vla051bSA9IE1hdGguY2VpbCgoKChuZXcgRGF0ZSh5LCBtLCBkKSAtIG9uZWphbikgLyA4NjQwMDAwMCkgKyBvbmVqYW4uZ2V0RGF5KCkrMSkvNyk7XG4gICAgICAgIHJldHVybiAnPHRkIGNsYXNzPVwicGlrYS13ZWVrXCI+JyArIHdlZWtOdW0gKyAnPC90ZD4nO1xuICAgIH0sXG5cbiAgICByZW5kZXJSb3cgPSBmdW5jdGlvbihkYXlzLCBpc1JUTCwgcGlja1dob2xlV2VlaywgaXNSb3dTZWxlY3RlZClcbiAgICB7XG4gICAgICAgIHJldHVybiAnPHRyIGNsYXNzPVwicGlrYS1yb3cnICsgKHBpY2tXaG9sZVdlZWsgPyAnIHBpY2std2hvbGUtd2VlaycgOiAnJykgKyAoaXNSb3dTZWxlY3RlZCA/ICcgaXMtc2VsZWN0ZWQnIDogJycpICsgJ1wiPicgKyAoaXNSVEwgPyBkYXlzLnJldmVyc2UoKSA6IGRheXMpLmpvaW4oJycpICsgJzwvdHI+JztcbiAgICB9LFxuXG4gICAgcmVuZGVyQm9keSA9IGZ1bmN0aW9uKHJvd3MpXG4gICAge1xuICAgICAgICByZXR1cm4gJzx0Ym9keT4nICsgcm93cy5qb2luKCcnKSArICc8L3Rib2R5Pic7XG4gICAgfSxcblxuICAgIHJlbmRlckhlYWQgPSBmdW5jdGlvbihvcHRzKVxuICAgIHtcbiAgICAgICAgdmFyIGksIGFyciA9IFtdO1xuICAgICAgICBpZiAob3B0cy5zaG93V2Vla051bWJlcikge1xuICAgICAgICAgICAgYXJyLnB1c2goJzx0aD48L3RoPicpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCc8dGggc2NvcGU9XCJjb2xcIj48YWJiciB0aXRsZT1cIicgKyByZW5kZXJEYXlOYW1lKG9wdHMsIGkpICsgJ1wiPicgKyByZW5kZXJEYXlOYW1lKG9wdHMsIGksIHRydWUpICsgJzwvYWJicj48L3RoPicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnPHRoZWFkPjx0cj4nICsgKG9wdHMuaXNSVEwgPyBhcnIucmV2ZXJzZSgpIDogYXJyKS5qb2luKCcnKSArICc8L3RyPjwvdGhlYWQ+JztcbiAgICB9LFxuXG4gICAgcmVuZGVyVGl0bGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgYywgeWVhciwgbW9udGgsIHJlZlllYXIsIHJhbmRJZClcbiAgICB7XG4gICAgICAgIHZhciBpLCBqLCBhcnIsXG4gICAgICAgICAgICBvcHRzID0gaW5zdGFuY2UuX28sXG4gICAgICAgICAgICBpc01pblllYXIgPSB5ZWFyID09PSBvcHRzLm1pblllYXIsXG4gICAgICAgICAgICBpc01heFllYXIgPSB5ZWFyID09PSBvcHRzLm1heFllYXIsXG4gICAgICAgICAgICBodG1sID0gJzxkaXYgaWQ9XCInICsgcmFuZElkICsgJ1wiIGNsYXNzPVwicGlrYS10aXRsZVwiIHJvbGU9XCJoZWFkaW5nXCIgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCI+JyxcbiAgICAgICAgICAgIG1vbnRoSHRtbCxcbiAgICAgICAgICAgIHllYXJIdG1sLFxuICAgICAgICAgICAgcHJldiA9IHRydWUsXG4gICAgICAgICAgICBuZXh0ID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGFyciA9IFtdLCBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiJyArICh5ZWFyID09PSByZWZZZWFyID8gaSAtIGMgOiAxMiArIGkgLSBjKSArICdcIicgK1xuICAgICAgICAgICAgICAgIChpID09PSBtb250aCA/ICcgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJzogJycpICtcbiAgICAgICAgICAgICAgICAoKGlzTWluWWVhciAmJiBpIDwgb3B0cy5taW5Nb250aCkgfHwgKGlzTWF4WWVhciAmJiBpID4gb3B0cy5tYXhNb250aCkgPyAnZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnKSArICc+JyArXG4gICAgICAgICAgICAgICAgb3B0cy5pMThuLm1vbnRoc1tpXSArICc8L29wdGlvbj4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vbnRoSHRtbCA9ICc8ZGl2IGNsYXNzPVwicGlrYS1sYWJlbFwiPicgKyBvcHRzLmkxOG4ubW9udGhzW21vbnRoXSArICc8c2VsZWN0IGNsYXNzPVwicGlrYS1zZWxlY3QgcGlrYS1zZWxlY3QtbW9udGhcIiB0YWJpbmRleD1cIi0xXCI+JyArIGFyci5qb2luKCcnKSArICc8L3NlbGVjdD48L2Rpdj4nO1xuXG4gICAgICAgIGlmIChpc0FycmF5KG9wdHMueWVhclJhbmdlKSkge1xuICAgICAgICAgICAgaSA9IG9wdHMueWVhclJhbmdlWzBdO1xuICAgICAgICAgICAgaiA9IG9wdHMueWVhclJhbmdlWzFdICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGkgPSB5ZWFyIC0gb3B0cy55ZWFyUmFuZ2U7XG4gICAgICAgICAgICBqID0gMSArIHllYXIgKyBvcHRzLnllYXJSYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoYXJyID0gW107IGkgPCBqICYmIGkgPD0gb3B0cy5tYXhZZWFyOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID49IG9wdHMubWluWWVhcikge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiJyArIGkgKyAnXCInICsgKGkgPT09IHllYXIgPyAnIHNlbGVjdGVkPVwic2VsZWN0ZWRcIic6ICcnKSArICc+JyArIChpKSArICc8L29wdGlvbj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB5ZWFySHRtbCA9ICc8ZGl2IGNsYXNzPVwicGlrYS1sYWJlbFwiPicgKyB5ZWFyICsgb3B0cy55ZWFyU3VmZml4ICsgJzxzZWxlY3QgY2xhc3M9XCJwaWthLXNlbGVjdCBwaWthLXNlbGVjdC15ZWFyXCIgdGFiaW5kZXg9XCItMVwiPicgKyBhcnIuam9pbignJykgKyAnPC9zZWxlY3Q+PC9kaXY+JztcblxuICAgICAgICBpZiAob3B0cy5zaG93TW9udGhBZnRlclllYXIpIHtcbiAgICAgICAgICAgIGh0bWwgKz0geWVhckh0bWwgKyBtb250aEh0bWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodG1sICs9IG1vbnRoSHRtbCArIHllYXJIdG1sO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTWluWWVhciAmJiAobW9udGggPT09IDAgfHwgb3B0cy5taW5Nb250aCA+PSBtb250aCkpIHtcbiAgICAgICAgICAgIHByZXYgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc01heFllYXIgJiYgKG1vbnRoID09PSAxMSB8fCBvcHRzLm1heE1vbnRoIDw9IG1vbnRoKSkge1xuICAgICAgICAgICAgbmV4dCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPT09IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxidXR0b24gY2xhc3M9XCJwaWthLXByZXYnICsgKHByZXYgPyAnJyA6ICcgaXMtZGlzYWJsZWQnKSArICdcIiB0eXBlPVwiYnV0dG9uXCI+JyArIG9wdHMuaTE4bi5wcmV2aW91c01vbnRoICsgJzwvYnV0dG9uPic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMgPT09IChpbnN0YW5jZS5fby5udW1iZXJPZk1vbnRocyAtIDEpICkge1xuICAgICAgICAgICAgaHRtbCArPSAnPGJ1dHRvbiBjbGFzcz1cInBpa2EtbmV4dCcgKyAobmV4dCA/ICcnIDogJyBpcy1kaXNhYmxlZCcpICsgJ1wiIHR5cGU9XCJidXR0b25cIj4nICsgb3B0cy5pMThuLm5leHRNb250aCArICc8L2J1dHRvbj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgfSxcblxuICAgIHJlbmRlclRhYmxlID0gZnVuY3Rpb24ob3B0cywgZGF0YSwgcmFuZElkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICc8dGFibGUgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgY2xhc3M9XCJwaWthLXRhYmxlXCIgcm9sZT1cImdyaWRcIiBhcmlhLWxhYmVsbGVkYnk9XCInICsgcmFuZElkICsgJ1wiPicgKyByZW5kZXJIZWFkKG9wdHMpICsgcmVuZGVyQm9keShkYXRhKSArICc8L3RhYmxlPic7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUGlrYWRheSBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIFBpa2FkYXkgPSBmdW5jdGlvbihvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgb3B0cyA9IHNlbGYuY29uZmlnKG9wdGlvbnMpO1xuXG4gICAgICAgIHNlbGYuX29uTW91c2VEb3duID0gZnVuY3Rpb24oZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFzZWxmLl92KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWhhc0NsYXNzKHRhcmdldCwgJ2lzLWRpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAncGlrYS1idXR0b24nKSAmJiAhaGFzQ2xhc3ModGFyZ2V0LCAnaXMtZW1wdHknKSAmJiAhaGFzQ2xhc3ModGFyZ2V0LnBhcmVudE5vZGUsICdpcy1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0RGF0ZShuZXcgRGF0ZSh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBpa2EteWVhcicpLCB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBpa2EtbW9udGgnKSwgdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1waWthLWRheScpKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG8oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuYmx1ckZpZWxkT25TZWxlY3QgJiYgb3B0cy5maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmZpZWxkLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2EtcHJldicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucHJldk1vbnRoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2EtbmV4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubmV4dE1vbnRoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoYXNDbGFzcyh0YXJnZXQsICdwaWthLXNlbGVjdCcpKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyB0b3VjaCBldmVudCBwcmV2ZW50IG1vdXNlIGV2ZW50cyBlbXVsYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9jID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl9vbkNoYW5nZSA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNDbGFzcyh0YXJnZXQsICdwaWthLXNlbGVjdC1tb250aCcpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5nb3RvTW9udGgodGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2Etc2VsZWN0LXllYXInKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuZ290b1llYXIodGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl9vbktleUNoYW5nZSA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgaWYgKHNlbGYuaXNWaXNpYmxlKCkpIHtcblxuICAgICAgICAgICAgICAgIHN3aXRjaChlLmtleUNvZGUpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmZpZWxkLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGp1c3REYXRlKCdzdWJ0cmFjdCcsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkanVzdERhdGUoJ3N1YnRyYWN0JywgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0RGF0ZSgnYWRkJywgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0RGF0ZSgnYWRkJywgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25JbnB1dENoYW5nZSA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkYXRlO1xuXG4gICAgICAgICAgICBpZiAoZS5maXJlZEJ5ID09PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMucGFyc2UpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gb3B0cy5wYXJzZShvcHRzLmZpZWxkLnZhbHVlLCBvcHRzLmZvcm1hdCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc01vbWVudCkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQob3B0cy5maWVsZC52YWx1ZSwgb3B0cy5mb3JtYXQsIG9wdHMuZm9ybWF0U3RyaWN0KTtcbiAgICAgICAgICAgICAgICBkYXRlID0gKGRhdGUgJiYgZGF0ZS5pc1ZhbGlkKCkpID8gZGF0ZS50b0RhdGUoKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZShvcHRzLmZpZWxkLnZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEYXRlKGRhdGUpKSB7XG4gICAgICAgICAgICAgIHNlbGYuc2V0RGF0ZShkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2VsZi5fdikge1xuICAgICAgICAgICAgICAgIHNlbGYuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuX29uSW5wdXRGb2N1cyA9IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgc2VsZi5zaG93KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25JbnB1dENsaWNrID0gZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWxmLnNob3coKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl9vbklucHV0Qmx1ciA9IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSUUgYWxsb3dzIHBpa2EgZGl2IHRvIGdhaW4gZm9jdXM7IGNhdGNoIGJsdXIgdGhlIGlucHV0IGZpZWxkXG4gICAgICAgICAgICB2YXIgcEVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2xhc3MocEVsLCAncGlrYS1zaW5nbGUnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKChwRWwgPSBwRWwucGFyZW50Tm9kZSkpO1xuXG4gICAgICAgICAgICBpZiAoIXNlbGYuX2MpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9iID0gc3RvKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLl9jID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25DbGljayA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgcEVsID0gdGFyZ2V0O1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhhc0V2ZW50TGlzdGVuZXJzICYmIGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2Etc2VsZWN0JykpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5vbmNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdvbmNoYW5nZScsICdyZXR1cm47Jyk7XG4gICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50KHRhcmdldCwgJ2NoYW5nZScsIHNlbGYuX29uQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0NsYXNzKHBFbCwgJ3Bpa2Etc2luZ2xlJykgfHwgcEVsID09PSBvcHRzLnRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICgocEVsID0gcEVsLnBhcmVudE5vZGUpKTtcbiAgICAgICAgICAgIGlmIChzZWxmLl92ICYmIHRhcmdldCAhPT0gb3B0cy50cmlnZ2VyICYmIHBFbCAhPT0gb3B0cy50cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzZWxmLmVsLmNsYXNzTmFtZSA9ICdwaWthLXNpbmdsZScgKyAob3B0cy5pc1JUTCA/ICcgaXMtcnRsJyA6ICcnKSArIChvcHRzLnRoZW1lID8gJyAnICsgb3B0cy50aGVtZSA6ICcnKTtcblxuICAgICAgICBhZGRFdmVudChzZWxmLmVsLCAnbW91c2Vkb3duJywgc2VsZi5fb25Nb3VzZURvd24sIHRydWUpO1xuICAgICAgICBhZGRFdmVudChzZWxmLmVsLCAndG91Y2hlbmQnLCBzZWxmLl9vbk1vdXNlRG93biwgdHJ1ZSk7XG4gICAgICAgIGFkZEV2ZW50KHNlbGYuZWwsICdjaGFuZ2UnLCBzZWxmLl9vbkNoYW5nZSk7XG4gICAgICAgIGFkZEV2ZW50KGRvY3VtZW50LCAna2V5ZG93bicsIHNlbGYuX29uS2V5Q2hhbmdlKTtcblxuICAgICAgICBpZiAob3B0cy5maWVsZCkge1xuICAgICAgICAgICAgaWYgKG9wdHMuY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5jb250YWluZXIuYXBwZW5kQ2hpbGQoc2VsZi5lbCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdHMuYm91bmQpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNlbGYuZWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRzLmZpZWxkLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNlbGYuZWwsIG9wdHMuZmllbGQubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkRXZlbnQob3B0cy5maWVsZCwgJ2NoYW5nZScsIHNlbGYuX29uSW5wdXRDaGFuZ2UpO1xuXG4gICAgICAgICAgICBpZiAoIW9wdHMuZGVmYXVsdERhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzTW9tZW50ICYmIG9wdHMuZmllbGQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5kZWZhdWx0RGF0ZSA9IG1vbWVudChvcHRzLmZpZWxkLnZhbHVlLCBvcHRzLmZvcm1hdCkudG9EYXRlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5kZWZhdWx0RGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2Uob3B0cy5maWVsZC52YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRzLnNldERlZmF1bHREYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZEYXRlID0gb3B0cy5kZWZhdWx0RGF0ZTtcblxuICAgICAgICBpZiAoaXNEYXRlKGRlZkRhdGUpKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5zZXREZWZhdWx0RGF0ZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0RGF0ZShkZWZEYXRlLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5nb3RvRGF0ZShkZWZEYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuZ290b0RhdGUobmV3IERhdGUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0cy5ib3VuZCkge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICBzZWxmLmVsLmNsYXNzTmFtZSArPSAnIGlzLWJvdW5kJztcbiAgICAgICAgICAgIGFkZEV2ZW50KG9wdHMudHJpZ2dlciwgJ2NsaWNrJywgc2VsZi5fb25JbnB1dENsaWNrKTtcbiAgICAgICAgICAgIGFkZEV2ZW50KG9wdHMudHJpZ2dlciwgJ2ZvY3VzJywgc2VsZi5fb25JbnB1dEZvY3VzKTtcbiAgICAgICAgICAgIGFkZEV2ZW50KG9wdHMudHJpZ2dlciwgJ2JsdXInLCBzZWxmLl9vbklucHV0Qmx1cik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIHB1YmxpYyBQaWthZGF5IEFQSVxuICAgICAqL1xuICAgIFBpa2FkYXkucHJvdG90eXBlID0ge1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbmZpZ3VyZSBmdW5jdGlvbmFsaXR5XG4gICAgICAgICAqL1xuICAgICAgICBjb25maWc6IGZ1bmN0aW9uKG9wdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbykge1xuICAgICAgICAgICAgICAgIHRoaXMuX28gPSBleHRlbmQoe30sIGRlZmF1bHRzLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9wdHMgPSBleHRlbmQodGhpcy5fbywgb3B0aW9ucywgdHJ1ZSk7XG5cbiAgICAgICAgICAgIG9wdHMuaXNSVEwgPSAhIW9wdHMuaXNSVEw7XG5cbiAgICAgICAgICAgIG9wdHMuZmllbGQgPSAob3B0cy5maWVsZCAmJiBvcHRzLmZpZWxkLm5vZGVOYW1lKSA/IG9wdHMuZmllbGQgOiBudWxsO1xuXG4gICAgICAgICAgICBvcHRzLnRoZW1lID0gKHR5cGVvZiBvcHRzLnRoZW1lKSA9PT0gJ3N0cmluZycgJiYgb3B0cy50aGVtZSA/IG9wdHMudGhlbWUgOiBudWxsO1xuXG4gICAgICAgICAgICBvcHRzLmJvdW5kID0gISEob3B0cy5ib3VuZCAhPT0gdW5kZWZpbmVkID8gb3B0cy5maWVsZCAmJiBvcHRzLmJvdW5kIDogb3B0cy5maWVsZCk7XG5cbiAgICAgICAgICAgIG9wdHMudHJpZ2dlciA9IChvcHRzLnRyaWdnZXIgJiYgb3B0cy50cmlnZ2VyLm5vZGVOYW1lKSA/IG9wdHMudHJpZ2dlciA6IG9wdHMuZmllbGQ7XG5cbiAgICAgICAgICAgIG9wdHMuZGlzYWJsZVdlZWtlbmRzID0gISFvcHRzLmRpc2FibGVXZWVrZW5kcztcblxuICAgICAgICAgICAgb3B0cy5kaXNhYmxlRGF5Rm4gPSAodHlwZW9mIG9wdHMuZGlzYWJsZURheUZuKSA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZGlzYWJsZURheUZuIDogbnVsbDtcblxuICAgICAgICAgICAgdmFyIG5vbSA9IHBhcnNlSW50KG9wdHMubnVtYmVyT2ZNb250aHMsIDEwKSB8fCAxO1xuICAgICAgICAgICAgb3B0cy5udW1iZXJPZk1vbnRocyA9IG5vbSA+IDQgPyA0IDogbm9tO1xuXG4gICAgICAgICAgICBpZiAoIWlzRGF0ZShvcHRzLm1pbkRhdGUpKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5taW5EYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzRGF0ZShvcHRzLm1heERhdGUpKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5tYXhEYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG9wdHMubWluRGF0ZSAmJiBvcHRzLm1heERhdGUpICYmIG9wdHMubWF4RGF0ZSA8IG9wdHMubWluRGF0ZSkge1xuICAgICAgICAgICAgICAgIG9wdHMubWF4RGF0ZSA9IG9wdHMubWluRGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMubWluRGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TWluRGF0ZShvcHRzLm1pbkRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMubWF4RGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TWF4RGF0ZShvcHRzLm1heERhdGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNBcnJheShvcHRzLnllYXJSYW5nZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmFsbGJhY2sgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgLSAxMDtcbiAgICAgICAgICAgICAgICBvcHRzLnllYXJSYW5nZVswXSA9IHBhcnNlSW50KG9wdHMueWVhclJhbmdlWzBdLCAxMCkgfHwgZmFsbGJhY2s7XG4gICAgICAgICAgICAgICAgb3B0cy55ZWFyUmFuZ2VbMV0gPSBwYXJzZUludChvcHRzLnllYXJSYW5nZVsxXSwgMTApIHx8IGZhbGxiYWNrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRzLnllYXJSYW5nZSA9IE1hdGguYWJzKHBhcnNlSW50KG9wdHMueWVhclJhbmdlLCAxMCkpIHx8IGRlZmF1bHRzLnllYXJSYW5nZTtcbiAgICAgICAgICAgICAgICBpZiAob3B0cy55ZWFyUmFuZ2UgPiAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0cy55ZWFyUmFuZ2UgPSAxMDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb3B0cztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJuIGEgZm9ybWF0dGVkIHN0cmluZyBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gKHVzaW5nIE1vbWVudC5qcyBpZiBhdmFpbGFibGUpXG4gICAgICAgICAqL1xuICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24oZm9ybWF0KVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgdGhpcy5fby5mb3JtYXQ7XG4gICAgICAgICAgICBpZiAoIWlzRGF0ZSh0aGlzLl9kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9vLnRvU3RyaW5nKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vLnRvU3RyaW5nKHRoaXMuX2QsIGZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzTW9tZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBtb21lbnQodGhpcy5fZCkuZm9ybWF0KGZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZC50b0RhdGVTdHJpbmcoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJuIGEgTW9tZW50LmpzIG9iamVjdCBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gKGlmIGF2YWlsYWJsZSlcbiAgICAgICAgICovXG4gICAgICAgIGdldE1vbWVudDogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gaGFzTW9tZW50ID8gbW9tZW50KHRoaXMuX2QpIDogbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IHRoZSBjdXJyZW50IHNlbGVjdGlvbiBmcm9tIGEgTW9tZW50LmpzIG9iamVjdCAoaWYgYXZhaWxhYmxlKVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0TW9tZW50OiBmdW5jdGlvbihkYXRlLCBwcmV2ZW50T25TZWxlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoYXNNb21lbnQgJiYgbW9tZW50LmlzTW9tZW50KGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXREYXRlKGRhdGUudG9EYXRlKCksIHByZXZlbnRPblNlbGVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybiBhIERhdGUgb2JqZWN0IG9mIHRoZSBjdXJyZW50IHNlbGVjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RGF0ZTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gaXNEYXRlKHRoaXMuX2QpID8gbmV3IERhdGUodGhpcy5fZC5nZXRUaW1lKCkpIDogbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IHRoZSBjdXJyZW50IHNlbGVjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgc2V0RGF0ZTogZnVuY3Rpb24oZGF0ZSwgcHJldmVudE9uU2VsZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vLmZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX28uZmllbGQudmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KHRoaXMuX28uZmllbGQsICdjaGFuZ2UnLCB7IGZpcmVkQnk6IHRoaXMgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHJhdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKGRhdGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNEYXRlKGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbWluID0gdGhpcy5fby5taW5EYXRlLFxuICAgICAgICAgICAgICAgIG1heCA9IHRoaXMuX28ubWF4RGF0ZTtcblxuICAgICAgICAgICAgaWYgKGlzRGF0ZShtaW4pICYmIGRhdGUgPCBtaW4pIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbWluO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0RhdGUobWF4KSAmJiBkYXRlID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1heDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIHNldFRvU3RhcnRPZkRheSh0aGlzLl9kKTtcbiAgICAgICAgICAgIHRoaXMuZ290b0RhdGUodGhpcy5fZCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vLmZpZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5maWVsZC52YWx1ZSA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBmaXJlRXZlbnQodGhpcy5fby5maWVsZCwgJ2NoYW5nZScsIHsgZmlyZWRCeTogdGhpcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcHJldmVudE9uU2VsZWN0ICYmIHR5cGVvZiB0aGlzLl9vLm9uU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5vblNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuZ2V0RGF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2hhbmdlIHZpZXcgdG8gYSBzcGVjaWZpYyBkYXRlXG4gICAgICAgICAqL1xuICAgICAgICBnb3RvRGF0ZTogZnVuY3Rpb24oZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG5ld0NhbGVuZGFyID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKCFpc0RhdGUoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNhbGVuZGFycykge1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdFZpc2libGVEYXRlID0gbmV3IERhdGUodGhpcy5jYWxlbmRhcnNbMF0ueWVhciwgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgsIDEpLFxuICAgICAgICAgICAgICAgICAgICBsYXN0VmlzaWJsZURhdGUgPSBuZXcgRGF0ZSh0aGlzLmNhbGVuZGFyc1t0aGlzLmNhbGVuZGFycy5sZW5ndGgtMV0ueWVhciwgdGhpcy5jYWxlbmRhcnNbdGhpcy5jYWxlbmRhcnMubGVuZ3RoLTFdLm1vbnRoLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZURhdGUgPSBkYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGVuZCBvZiB0aGUgbW9udGhcbiAgICAgICAgICAgICAgICBsYXN0VmlzaWJsZURhdGUuc2V0TW9udGgobGFzdFZpc2libGVEYXRlLmdldE1vbnRoKCkrMSk7XG4gICAgICAgICAgICAgICAgbGFzdFZpc2libGVEYXRlLnNldERhdGUobGFzdFZpc2libGVEYXRlLmdldERhdGUoKS0xKTtcbiAgICAgICAgICAgICAgICBuZXdDYWxlbmRhciA9ICh2aXNpYmxlRGF0ZSA8IGZpcnN0VmlzaWJsZURhdGUuZ2V0VGltZSgpIHx8IGxhc3RWaXNpYmxlRGF0ZS5nZXRUaW1lKCkgPCB2aXNpYmxlRGF0ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdDYWxlbmRhcikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzID0gW3tcbiAgICAgICAgICAgICAgICAgICAgbW9udGg6IGRhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogZGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX28ubWFpbkNhbGVuZGFyID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoICs9IDEgLSB0aGlzLl9vLm51bWJlck9mTW9udGhzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGp1c3REYXRlOiBmdW5jdGlvbihzaWduLCBkYXlzKSB7XG5cbiAgICAgICAgICAgIHZhciBkYXkgPSB0aGlzLmdldERhdGUoKSB8fCBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSBwYXJzZUludChkYXlzKSoyNCo2MCo2MCoxMDAwO1xuXG4gICAgICAgICAgICB2YXIgbmV3RGF5O1xuXG4gICAgICAgICAgICBpZiAoc2lnbiA9PT0gJ2FkZCcpIHtcbiAgICAgICAgICAgICAgICBuZXdEYXkgPSBuZXcgRGF0ZShkYXkudmFsdWVPZigpICsgZGlmZmVyZW5jZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNpZ24gPT09ICdzdWJ0cmFjdCcpIHtcbiAgICAgICAgICAgICAgICBuZXdEYXkgPSBuZXcgRGF0ZShkYXkudmFsdWVPZigpIC0gZGlmZmVyZW5jZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RGF0ZShuZXdEYXkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkanVzdENhbGVuZGFyczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1swXSA9IGFkanVzdENhbGVuZGFyKHRoaXMuY2FsZW5kYXJzWzBdKTtcbiAgICAgICAgICAgIGZvciAodmFyIGMgPSAxOyBjIDwgdGhpcy5fby5udW1iZXJPZk1vbnRoczsgYysrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbY10gPSBhZGp1c3RDYWxlbmRhcih7XG4gICAgICAgICAgICAgICAgICAgIG1vbnRoOiB0aGlzLmNhbGVuZGFyc1swXS5tb250aCArIGMsXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IHRoaXMuY2FsZW5kYXJzWzBdLnllYXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdvdG9Ub2RheTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdvdG9EYXRlKG5ldyBEYXRlKCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjaGFuZ2UgdmlldyB0byBhIHNwZWNpZmljIG1vbnRoICh6ZXJvLWluZGV4LCBlLmcuIDA6IEphbnVhcnkpXG4gICAgICAgICAqL1xuICAgICAgICBnb3RvTW9udGg6IGZ1bmN0aW9uKG1vbnRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKG1vbnRoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoID0gcGFyc2VJbnQobW9udGgsIDEwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG5leHRNb250aDogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aCsrO1xuICAgICAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBwcmV2TW9udGg6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgtLTtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNoYW5nZSB2aWV3IHRvIGEgc3BlY2lmaWMgZnVsbCB5ZWFyIChlLmcuIFwiMjAxMlwiKVxuICAgICAgICAgKi9cbiAgICAgICAgZ290b1llYXI6IGZ1bmN0aW9uKHllYXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4oeWVhcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1swXS55ZWFyID0gcGFyc2VJbnQoeWVhciwgMTApO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNoYW5nZSB0aGUgbWluRGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0TWluRGF0ZTogZnVuY3Rpb24odmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHNldFRvU3RhcnRPZkRheSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5taW5EYXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5taW5ZZWFyICA9IHZhbHVlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5taW5Nb250aCA9IHZhbHVlLmdldE1vbnRoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluRGF0ZSA9IGRlZmF1bHRzLm1pbkRhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5taW5ZZWFyICA9IGRlZmF1bHRzLm1pblllYXI7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5taW5Nb250aCA9IGRlZmF1bHRzLm1pbk1vbnRoO1xuICAgICAgICAgICAgICAgIHRoaXMuX28uc3RhcnRSYW5nZSA9IGRlZmF1bHRzLnN0YXJ0UmFuZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjaGFuZ2UgdGhlIG1heERhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNldE1heERhdGU6IGZ1bmN0aW9uKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZih2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICBzZXRUb1N0YXJ0T2ZEYXkodmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWF4RGF0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWF4WWVhciA9IHZhbHVlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5tYXhNb250aCA9IHZhbHVlLmdldE1vbnRoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWF4RGF0ZSA9IGRlZmF1bHRzLm1heERhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5tYXhZZWFyID0gZGVmYXVsdHMubWF4WWVhcjtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1heE1vbnRoID0gZGVmYXVsdHMubWF4TW9udGg7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5lbmRSYW5nZSA9IGRlZmF1bHRzLmVuZFJhbmdlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRTdGFydFJhbmdlOiBmdW5jdGlvbih2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fby5zdGFydFJhbmdlID0gdmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0RW5kUmFuZ2U6IGZ1bmN0aW9uKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vLmVuZFJhbmdlID0gdmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlZnJlc2ggdGhlIEhUTUxcbiAgICAgICAgICovXG4gICAgICAgIGRyYXc6IGZ1bmN0aW9uKGZvcmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3YgJiYgIWZvcmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9wdHMgPSB0aGlzLl9vLFxuICAgICAgICAgICAgICAgIG1pblllYXIgPSBvcHRzLm1pblllYXIsXG4gICAgICAgICAgICAgICAgbWF4WWVhciA9IG9wdHMubWF4WWVhcixcbiAgICAgICAgICAgICAgICBtaW5Nb250aCA9IG9wdHMubWluTW9udGgsXG4gICAgICAgICAgICAgICAgbWF4TW9udGggPSBvcHRzLm1heE1vbnRoLFxuICAgICAgICAgICAgICAgIGh0bWwgPSAnJyxcbiAgICAgICAgICAgICAgICByYW5kSWQ7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl95IDw9IG1pblllYXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0gbWluWWVhcjtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKG1pbk1vbnRoKSAmJiB0aGlzLl9tIDwgbWluTW9udGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbSA9IG1pbk1vbnRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl95ID49IG1heFllYXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0gbWF4WWVhcjtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKG1heE1vbnRoKSAmJiB0aGlzLl9tID4gbWF4TW9udGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbSA9IG1heE1vbnRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmFuZElkID0gJ3Bpa2EtdGl0bGUtJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnJlcGxhY2UoL1teYS16XSsvZywgJycpLnN1YnN0cigwLCAyKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBvcHRzLm51bWJlck9mTW9udGhzOyBjKyspIHtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicGlrYS1sZW5kYXJcIj4nICsgcmVuZGVyVGl0bGUodGhpcywgYywgdGhpcy5jYWxlbmRhcnNbY10ueWVhciwgdGhpcy5jYWxlbmRhcnNbY10ubW9udGgsIHRoaXMuY2FsZW5kYXJzWzBdLnllYXIsIHJhbmRJZCkgKyB0aGlzLnJlbmRlcih0aGlzLmNhbGVuZGFyc1tjXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1tjXS5tb250aCwgcmFuZElkKSArICc8L2Rpdj4nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVsLmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICAgICAgICAgIGlmIChvcHRzLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgaWYob3B0cy5maWVsZC50eXBlICE9PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgICAgICAgICBzdG8oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzLnRyaWdnZXIuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX28ub25EcmF3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5vbkRyYXcodGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRzLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgLy8gbGV0IHRoZSBzY3JlZW4gcmVhZGVyIHVzZXIga25vdyB0byB1c2UgYXJyb3cga2V5c1xuICAgICAgICAgICAgICAgIG9wdHMuZmllbGQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ1VzZSB0aGUgYXJyb3cga2V5cyB0byBwaWNrIGEgZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFkanVzdFBvc2l0aW9uOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmaWVsZCwgcEVsLCB3aWR0aCwgaGVpZ2h0LCB2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgc2Nyb2xsVG9wLCBsZWZ0LCB0b3AsIGNsaWVudFJlY3Q7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLmVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblxuICAgICAgICAgICAgZmllbGQgPSB0aGlzLl9vLnRyaWdnZXI7XG4gICAgICAgICAgICBwRWwgPSBmaWVsZDtcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5lbC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuZWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIHZpZXdwb3J0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWVsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjbGllbnRSZWN0ID0gZmllbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgbGVmdCA9IGNsaWVudFJlY3QubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldDtcbiAgICAgICAgICAgICAgICB0b3AgPSBjbGllbnRSZWN0LmJvdHRvbSArIHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGVmdCA9IHBFbC5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgICAgIHRvcCAgPSBwRWwub2Zmc2V0VG9wICsgcEVsLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICB3aGlsZSgocEVsID0gcEVsLm9mZnNldFBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCArPSBwRWwub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICAgICAgdG9wICArPSBwRWwub2Zmc2V0VG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZGVmYXVsdCBwb3NpdGlvbiBpcyBib3R0b20gJiBsZWZ0XG4gICAgICAgICAgICBpZiAoKHRoaXMuX28ucmVwb3NpdGlvbiAmJiBsZWZ0ICsgd2lkdGggPiB2aWV3cG9ydFdpZHRoKSB8fFxuICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fby5wb3NpdGlvbi5pbmRleE9mKCdyaWdodCcpID4gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgbGVmdCAtIHdpZHRoICsgZmllbGQub2Zmc2V0V2lkdGggPiAwXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbGVmdCA9IGxlZnQgLSB3aWR0aCArIGZpZWxkLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0aGlzLl9vLnJlcG9zaXRpb24gJiYgdG9wICsgaGVpZ2h0ID4gdmlld3BvcnRIZWlnaHQgKyBzY3JvbGxUb3ApIHx8XG4gICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vLnBvc2l0aW9uLmluZGV4T2YoJ3RvcCcpID4gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgdG9wIC0gaGVpZ2h0IC0gZmllbGQub2Zmc2V0SGVpZ2h0ID4gMFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRvcCA9IHRvcCAtIGhlaWdodCAtIGZpZWxkLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7XG4gICAgICAgICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IHRvcCArICdweCc7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlbmRlciBIVE1MIGZvciBhIHBhcnRpY3VsYXIgbW9udGhcbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oeWVhciwgbW9udGgsIHJhbmRJZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG9wdHMgICA9IHRoaXMuX28sXG4gICAgICAgICAgICAgICAgbm93ICAgID0gbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBkYXlzICAgPSBnZXREYXlzSW5Nb250aCh5ZWFyLCBtb250aCksXG4gICAgICAgICAgICAgICAgYmVmb3JlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLmdldERheSgpLFxuICAgICAgICAgICAgICAgIGRhdGEgICA9IFtdLFxuICAgICAgICAgICAgICAgIHJvdyAgICA9IFtdO1xuICAgICAgICAgICAgc2V0VG9TdGFydE9mRGF5KG5vdyk7XG4gICAgICAgICAgICBpZiAob3B0cy5maXJzdERheSA+IDApIHtcbiAgICAgICAgICAgICAgICBiZWZvcmUgLT0gb3B0cy5maXJzdERheTtcbiAgICAgICAgICAgICAgICBpZiAoYmVmb3JlIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmUgKz0gNztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNNb250aCA9IG1vbnRoID09PSAwID8gMTEgOiBtb250aCAtIDEsXG4gICAgICAgICAgICAgICAgbmV4dE1vbnRoID0gbW9udGggPT09IDExID8gMCA6IG1vbnRoICsgMSxcbiAgICAgICAgICAgICAgICB5ZWFyT2ZQcmV2aW91c01vbnRoID0gbW9udGggPT09IDAgPyB5ZWFyIC0gMSA6IHllYXIsXG4gICAgICAgICAgICAgICAgeWVhck9mTmV4dE1vbnRoID0gbW9udGggPT09IDExID8geWVhciArIDEgOiB5ZWFyLFxuICAgICAgICAgICAgICAgIGRheXNJblByZXZpb3VzTW9udGggPSBnZXREYXlzSW5Nb250aCh5ZWFyT2ZQcmV2aW91c01vbnRoLCBwcmV2aW91c01vbnRoKTtcbiAgICAgICAgICAgIHZhciBjZWxscyA9IGRheXMgKyBiZWZvcmUsXG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBjZWxscztcbiAgICAgICAgICAgIHdoaWxlKGFmdGVyID4gNykge1xuICAgICAgICAgICAgICAgIGFmdGVyIC09IDc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjZWxscyArPSA3IC0gYWZ0ZXI7XG4gICAgICAgICAgICB2YXIgaXNXZWVrU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCByID0gMDsgaSA8IGNlbGxzOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGRheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxICsgKGkgLSBiZWZvcmUpKSxcbiAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZCA9IGlzRGF0ZSh0aGlzLl9kKSA/IGNvbXBhcmVEYXRlcyhkYXksIHRoaXMuX2QpIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGlzVG9kYXkgPSBjb21wYXJlRGF0ZXMoZGF5LCBub3cpLFxuICAgICAgICAgICAgICAgICAgICBoYXNFdmVudCA9IG9wdHMuZXZlbnRzLmluZGV4T2YoZGF5LnRvRGF0ZVN0cmluZygpKSAhPT0gLTEgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGlzRW1wdHkgPSBpIDwgYmVmb3JlIHx8IGkgPj0gKGRheXMgKyBiZWZvcmUpLFxuICAgICAgICAgICAgICAgICAgICBkYXlOdW1iZXIgPSAxICsgKGkgLSBiZWZvcmUpLFxuICAgICAgICAgICAgICAgICAgICBtb250aE51bWJlciA9IG1vbnRoLFxuICAgICAgICAgICAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhcixcbiAgICAgICAgICAgICAgICAgICAgaXNTdGFydFJhbmdlID0gb3B0cy5zdGFydFJhbmdlICYmIGNvbXBhcmVEYXRlcyhvcHRzLnN0YXJ0UmFuZ2UsIGRheSksXG4gICAgICAgICAgICAgICAgICAgIGlzRW5kUmFuZ2UgPSBvcHRzLmVuZFJhbmdlICYmIGNvbXBhcmVEYXRlcyhvcHRzLmVuZFJhbmdlLCBkYXkpLFxuICAgICAgICAgICAgICAgICAgICBpc0luUmFuZ2UgPSBvcHRzLnN0YXJ0UmFuZ2UgJiYgb3B0cy5lbmRSYW5nZSAmJiBvcHRzLnN0YXJ0UmFuZ2UgPCBkYXkgJiYgZGF5IDwgb3B0cy5lbmRSYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgaXNEaXNhYmxlZCA9IChvcHRzLm1pbkRhdGUgJiYgZGF5IDwgb3B0cy5taW5EYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9wdHMubWF4RGF0ZSAmJiBkYXkgPiBvcHRzLm1heERhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3B0cy5kaXNhYmxlV2Vla2VuZHMgJiYgaXNXZWVrZW5kKGRheSkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3B0cy5kaXNhYmxlRGF5Rm4gJiYgb3B0cy5kaXNhYmxlRGF5Rm4oZGF5KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IGJlZm9yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF5TnVtYmVyID0gZGF5c0luUHJldmlvdXNNb250aCArIGRheU51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoTnVtYmVyID0gcHJldmlvdXNNb250aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXJOdW1iZXIgPSB5ZWFyT2ZQcmV2aW91c01vbnRoO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF5TnVtYmVyID0gZGF5TnVtYmVyIC0gZGF5cztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoTnVtYmVyID0gbmV4dE1vbnRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVhck51bWJlciA9IHllYXJPZk5leHRNb250aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBkYXlDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXk6IGRheU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiBtb250aE51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6IHllYXJOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFdmVudDogaGFzRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUb2RheTogaXNUb2RheSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0VtcHR5OiBpc0VtcHR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdGFydFJhbmdlOiBpc1N0YXJ0UmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0VuZFJhbmdlOiBpc0VuZFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNJblJhbmdlOiBpc0luUmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBvcHRzLnNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVTZWxlY3Rpb25EYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHM6IG9wdHMuZW5hYmxlU2VsZWN0aW9uRGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0cy5waWNrV2hvbGVXZWVrICYmIGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNXZWVrU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJvdy5wdXNoKHJlbmRlckRheShkYXlDb25maWcpKTtcblxuICAgICAgICAgICAgICAgIGlmICgrK3IgPT09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuc2hvd1dlZWtOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy51bnNoaWZ0KHJlbmRlcldlZWsoaSAtIGJlZm9yZSwgbW9udGgsIHllYXIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2gocmVuZGVyUm93KHJvdywgb3B0cy5pc1JUTCwgb3B0cy5waWNrV2hvbGVXZWVrLCBpc1dlZWtTZWxlY3RlZCkpO1xuICAgICAgICAgICAgICAgICAgICByb3cgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlzV2Vla1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlclRhYmxlKG9wdHMsIGRhdGEsIHJhbmRJZCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNWaXNpYmxlOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92O1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbCwgJ2lzLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGp1c3RQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX28ub25PcGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX28ub25PcGVuLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHYgPSB0aGlzLl92O1xuICAgICAgICAgICAgaWYgKHYgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX28uYm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQoZG9jdW1lbnQsICdjbGljaycsIHRoaXMuX29uQ2xpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVsLnN0eWxlLnBvc2l0aW9uID0gJ3N0YXRpYyc7IC8vIHJlc2V0XG4gICAgICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gJ2F1dG8nO1xuICAgICAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUudG9wID0gJ2F1dG8nO1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKHRoaXMuZWwsICdpcy1oaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLl92ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHYgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdGhpcy5fby5vbkNsb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX28ub25DbG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogR0FNRSBPVkVSXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnQodGhpcy5lbCwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoaXMuZWwsICd0b3VjaGVuZCcsIHRoaXMuX29uTW91c2VEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoaXMuZWwsICdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZSk7XG4gICAgICAgICAgICByZW1vdmVFdmVudChkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9vbktleUNoYW5nZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fby5maWVsZCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoaXMuX28uZmllbGQsICdjaGFuZ2UnLCB0aGlzLl9vbklucHV0Q2hhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fby5ib3VuZCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudCh0aGlzLl9vLnRyaWdnZXIsICdjbGljaycsIHRoaXMuX29uSW5wdXRDbGljayk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoaXMuX28udHJpZ2dlciwgJ2ZvY3VzJywgdGhpcy5fb25JbnB1dEZvY3VzKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQodGhpcy5fby50cmlnZ2VyLCAnYmx1cicsIHRoaXMuX29uSW5wdXRCbHVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5lbC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgcmV0dXJuIFBpa2FkYXk7XG5cbn0pKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBzdHJpY3RVcmlFbmNvZGUgPSByZXF1aXJlKCdzdHJpY3QtdXJpLWVuY29kZScpO1xudmFyIG9iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbnZhciBkZWNvZGVDb21wb25lbnQgPSByZXF1aXJlKCdkZWNvZGUtdXJpLWNvbXBvbmVudCcpO1xuXG5mdW5jdGlvbiBlbmNvZGVyRm9yQXJyYXlGb3JtYXQob3B0cykge1xuXHRzd2l0Y2ggKG9wdHMuYXJyYXlGb3JtYXQpIHtcblx0XHRjYXNlICdpbmRleCc6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUsIGluZGV4KSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IFtcblx0XHRcdFx0XHRlbmNvZGUoa2V5LCBvcHRzKSxcblx0XHRcdFx0XHQnWycsXG5cdFx0XHRcdFx0aW5kZXgsXG5cdFx0XHRcdFx0J10nXG5cdFx0XHRcdF0uam9pbignJykgOiBbXG5cdFx0XHRcdFx0ZW5jb2RlKGtleSwgb3B0cyksXG5cdFx0XHRcdFx0J1snLFxuXHRcdFx0XHRcdGVuY29kZShpbmRleCwgb3B0cyksXG5cdFx0XHRcdFx0J109Jyxcblx0XHRcdFx0XHRlbmNvZGUodmFsdWUsIG9wdHMpXG5cdFx0XHRcdF0uam9pbignJyk7XG5cdFx0XHR9O1xuXG5cdFx0Y2FzZSAnYnJhY2tldCc6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSBudWxsID8gZW5jb2RlKGtleSwgb3B0cykgOiBbXG5cdFx0XHRcdFx0ZW5jb2RlKGtleSwgb3B0cyksXG5cdFx0XHRcdFx0J1tdPScsXG5cdFx0XHRcdFx0ZW5jb2RlKHZhbHVlLCBvcHRzKVxuXHRcdFx0XHRdLmpvaW4oJycpO1xuXHRcdFx0fTtcblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSBudWxsID8gZW5jb2RlKGtleSwgb3B0cykgOiBbXG5cdFx0XHRcdFx0ZW5jb2RlKGtleSwgb3B0cyksXG5cdFx0XHRcdFx0Jz0nLFxuXHRcdFx0XHRcdGVuY29kZSh2YWx1ZSwgb3B0cylcblx0XHRcdFx0XS5qb2luKCcnKTtcblx0XHRcdH07XG5cdH1cbn1cblxuZnVuY3Rpb24gcGFyc2VyRm9yQXJyYXlGb3JtYXQob3B0cykge1xuXHR2YXIgcmVzdWx0O1xuXG5cdHN3aXRjaCAob3B0cy5hcnJheUZvcm1hdCkge1xuXHRcdGNhc2UgJ2luZGV4Jzpcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpIHtcblx0XHRcdFx0cmVzdWx0ID0gL1xcWyhcXGQqKVxcXSQvLmV4ZWMoa2V5KTtcblxuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvXFxbXFxkKlxcXSQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB7fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV1bcmVzdWx0WzFdXSA9IHZhbHVlO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2JyYWNrZXQnOlxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikge1xuXHRcdFx0XHRyZXN1bHQgPSAvKFxcW1xcXSkkLy5leGVjKGtleSk7XG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFtcXF0kLywgJycpO1xuXG5cdFx0XHRcdGlmICghcmVzdWx0KSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fSBlbHNlIGlmIChhY2N1bXVsYXRvcltrZXldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gW3ZhbHVlXTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gW10uY29uY2F0KGFjY3VtdWxhdG9yW2tleV0sIHZhbHVlKTtcblx0XHRcdH07XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikge1xuXHRcdFx0XHRpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbXS5jb25jYXQoYWNjdW11bGF0b3Jba2V5XSwgdmFsdWUpO1xuXHRcdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiBlbmNvZGUodmFsdWUsIG9wdHMpIHtcblx0aWYgKG9wdHMuZW5jb2RlKSB7XG5cdFx0cmV0dXJuIG9wdHMuc3RyaWN0ID8gc3RyaWN0VXJpRW5jb2RlKHZhbHVlKSA6IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGtleXNTb3J0ZXIoaW5wdXQpIHtcblx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdFx0cmV0dXJuIGlucHV0LnNvcnQoKTtcblx0fSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnKSB7XG5cdFx0cmV0dXJuIGtleXNTb3J0ZXIoT2JqZWN0LmtleXMoaW5wdXQpKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRyZXR1cm4gTnVtYmVyKGEpIC0gTnVtYmVyKGIpO1xuXHRcdH0pLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRyZXR1cm4gaW5wdXRba2V5XTtcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiBpbnB1dDtcbn1cblxuZXhwb3J0cy5leHRyYWN0ID0gZnVuY3Rpb24gKHN0cikge1xuXHRyZXR1cm4gc3RyLnNwbGl0KCc/JylbMV0gfHwgJyc7XG59O1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuXHRvcHRzID0gb2JqZWN0QXNzaWduKHthcnJheUZvcm1hdDogJ25vbmUnfSwgb3B0cyk7XG5cblx0dmFyIGZvcm1hdHRlciA9IHBhcnNlckZvckFycmF5Rm9ybWF0KG9wdHMpO1xuXG5cdC8vIENyZWF0ZSBhbiBvYmplY3Qgd2l0aCBubyBwcm90b3R5cGVcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9xdWVyeS1zdHJpbmcvaXNzdWVzLzQ3XG5cdHZhciByZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5cdGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRzdHIgPSBzdHIudHJpbSgpLnJlcGxhY2UoL14oXFw/fCN8JikvLCAnJyk7XG5cblx0aWYgKCFzdHIpIHtcblx0XHRyZXR1cm4gcmV0O1xuXHR9XG5cblx0c3RyLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcblx0XHR2YXIgcGFydHMgPSBwYXJhbS5yZXBsYWNlKC9cXCsvZywgJyAnKS5zcGxpdCgnPScpO1xuXHRcdC8vIEZpcmVmb3ggKHByZSA0MCkgZGVjb2RlcyBgJTNEYCB0byBgPWBcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3F1ZXJ5LXN0cmluZy9wdWxsLzM3XG5cdFx0dmFyIGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0dmFyIHZhbCA9IHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0cy5qb2luKCc9JykgOiB1bmRlZmluZWQ7XG5cblx0XHQvLyBtaXNzaW5nIGA9YCBzaG91bGQgYmUgYG51bGxgOlxuXHRcdC8vIGh0dHA6Ly93My5vcmcvVFIvMjAxMi9XRC11cmwtMjAxMjA1MjQvI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnNcblx0XHR2YWwgPSB2YWwgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBkZWNvZGVDb21wb25lbnQodmFsKTtcblxuXHRcdGZvcm1hdHRlcihkZWNvZGVDb21wb25lbnQoa2V5KSwgdmFsLCByZXQpO1xuXHR9KTtcblxuXHRyZXR1cm4gT2JqZWN0LmtleXMocmV0KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkge1xuXHRcdHZhciB2YWwgPSByZXRba2V5XTtcblx0XHRpZiAoQm9vbGVhbih2YWwpICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHZhbCkpIHtcblx0XHRcdC8vIFNvcnQgb2JqZWN0IGtleXMsIG5vdCB2YWx1ZXNcblx0XHRcdHJlc3VsdFtrZXldID0ga2V5c1NvcnRlcih2YWwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHRba2V5XSA9IHZhbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbn07XG5cbmV4cG9ydHMuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKG9iaiwgb3B0cykge1xuXHR2YXIgZGVmYXVsdHMgPSB7XG5cdFx0ZW5jb2RlOiB0cnVlLFxuXHRcdHN0cmljdDogdHJ1ZSxcblx0XHRhcnJheUZvcm1hdDogJ25vbmUnXG5cdH07XG5cblx0b3B0cyA9IG9iamVjdEFzc2lnbihkZWZhdWx0cywgb3B0cyk7XG5cblx0dmFyIGZvcm1hdHRlciA9IGVuY29kZXJGb3JBcnJheUZvcm1hdChvcHRzKTtcblxuXHRyZXR1cm4gb2JqID8gT2JqZWN0LmtleXMob2JqKS5zb3J0KCkubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0XHR2YXIgdmFsID0gb2JqW2tleV07XG5cblx0XHRpZiAodmFsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cblx0XHRpZiAodmFsID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZW5jb2RlKGtleSwgb3B0cyk7XG5cdFx0fVxuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xuXG5cdFx0XHR2YWwuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwyKSB7XG5cdFx0XHRcdGlmICh2YWwyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXN1bHQucHVzaChmb3JtYXR0ZXIoa2V5LCB2YWwyLCByZXN1bHQubGVuZ3RoKSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJlc3VsdC5qb2luKCcmJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVuY29kZShrZXksIG9wdHMpICsgJz0nICsgZW5jb2RlKHZhbCwgb3B0cyk7XG5cdH0pLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuXHRcdHJldHVybiB4Lmxlbmd0aCA+IDA7XG5cdH0pLmpvaW4oJyYnKSA6ICcnO1xufTtcbiIsIi8qKiFcbiAqIFNvcnRhYmxlXG4gKiBAYXV0aG9yXHRSdWJhWGEgICA8dHJhc2hAcnViYXhhLm9yZz5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbihmdW5jdGlvbiBzb3J0YWJsZU1vZHVsZShmYWN0b3J5KSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmYWN0b3J5KTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9IFwidW5kZWZpbmVkXCIpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0fVxuXHRlbHNlIHtcblx0XHQvKiBqc2hpbnQgc3ViOnRydWUgKi9cblx0XHR3aW5kb3dbXCJTb3J0YWJsZVwiXSA9IGZhY3RvcnkoKTtcblx0fVxufSkoZnVuY3Rpb24gc29ydGFibGVGYWN0b3J5KCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PSBcInVuZGVmaW5lZFwiIHx8ICF3aW5kb3cuZG9jdW1lbnQpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24gc29ydGFibGVFcnJvcigpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNvcnRhYmxlLmpzIHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtcblx0XHR9O1xuXHR9XG5cblx0dmFyIGRyYWdFbCxcblx0XHRwYXJlbnRFbCxcblx0XHRnaG9zdEVsLFxuXHRcdGNsb25lRWwsXG5cdFx0cm9vdEVsLFxuXHRcdG5leHRFbCxcblx0XHRsYXN0RG93bkVsLFxuXG5cdFx0c2Nyb2xsRWwsXG5cdFx0c2Nyb2xsUGFyZW50RWwsXG5cdFx0c2Nyb2xsQ3VzdG9tRm4sXG5cblx0XHRsYXN0RWwsXG5cdFx0bGFzdENTUyxcblx0XHRsYXN0UGFyZW50Q1NTLFxuXG5cdFx0b2xkSW5kZXgsXG5cdFx0bmV3SW5kZXgsXG5cblx0XHRhY3RpdmVHcm91cCxcblx0XHRwdXRTb3J0YWJsZSxcblxuXHRcdGF1dG9TY3JvbGwgPSB7fSxcblxuXHRcdHRhcEV2dCxcblx0XHR0b3VjaEV2dCxcblxuXHRcdG1vdmVkLFxuXG5cdFx0LyoqIEBjb25zdCAqL1xuXHRcdFJfU1BBQ0UgPSAvXFxzKy9nLFxuXHRcdFJfRkxPQVQgPSAvbGVmdHxyaWdodHxpbmxpbmUvLFxuXG5cdFx0ZXhwYW5kbyA9ICdTb3J0YWJsZScgKyAobmV3IERhdGUpLmdldFRpbWUoKSxcblxuXHRcdHdpbiA9IHdpbmRvdyxcblx0XHRkb2N1bWVudCA9IHdpbi5kb2N1bWVudCxcblx0XHRwYXJzZUludCA9IHdpbi5wYXJzZUludCxcblxuXHRcdCQgPSB3aW4ualF1ZXJ5IHx8IHdpbi5aZXB0byxcblx0XHRQb2x5bWVyID0gd2luLlBvbHltZXIsXG5cblx0XHRjYXB0dXJlTW9kZSA9IGZhbHNlLFxuXG5cdFx0c3VwcG9ydERyYWdnYWJsZSA9ICEhKCdkcmFnZ2FibGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKSxcblx0XHRzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyA9IChmdW5jdGlvbiAoZWwpIHtcblx0XHRcdC8vIGZhbHNlIHdoZW4gSUUxMVxuXHRcdFx0aWYgKCEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudC4qcnZbIDpdPzExXFwuLykpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd4Jyk7XG5cdFx0XHRlbC5zdHlsZS5jc3NUZXh0ID0gJ3BvaW50ZXItZXZlbnRzOmF1dG8nO1xuXHRcdFx0cmV0dXJuIGVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPT09ICdhdXRvJztcblx0XHR9KSgpLFxuXG5cdFx0X3NpbGVudCA9IGZhbHNlLFxuXG5cdFx0YWJzID0gTWF0aC5hYnMsXG5cdFx0bWluID0gTWF0aC5taW4sXG5cblx0XHRzYXZlZElucHV0Q2hlY2tlZCA9IFtdLFxuXHRcdHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMgPSBbXSxcblxuXHRcdF9hdXRvU2Nyb2xsID0gX3Rocm90dGxlKGZ1bmN0aW9uICgvKipFdmVudCovZXZ0LCAvKipPYmplY3QqL29wdGlvbnMsIC8qKkhUTUxFbGVtZW50Ki9yb290RWwpIHtcblx0XHRcdC8vIEJ1ZzogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTA1NTIxXG5cdFx0XHRpZiAocm9vdEVsICYmIG9wdGlvbnMuc2Nyb2xsKSB7XG5cdFx0XHRcdHZhciBfdGhpcyA9IHJvb3RFbFtleHBhbmRvXSxcblx0XHRcdFx0XHRlbCxcblx0XHRcdFx0XHRyZWN0LFxuXHRcdFx0XHRcdHNlbnMgPSBvcHRpb25zLnNjcm9sbFNlbnNpdGl2aXR5LFxuXHRcdFx0XHRcdHNwZWVkID0gb3B0aW9ucy5zY3JvbGxTcGVlZCxcblxuXHRcdFx0XHRcdHggPSBldnQuY2xpZW50WCxcblx0XHRcdFx0XHR5ID0gZXZ0LmNsaWVudFksXG5cblx0XHRcdFx0XHR3aW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLFxuXHRcdFx0XHRcdHdpbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCxcblxuXHRcdFx0XHRcdHZ4LFxuXHRcdFx0XHRcdHZ5LFxuXG5cdFx0XHRcdFx0c2Nyb2xsT2Zmc2V0WCxcblx0XHRcdFx0XHRzY3JvbGxPZmZzZXRZXG5cdFx0XHRcdDtcblxuXHRcdFx0XHQvLyBEZWxlY3Qgc2Nyb2xsRWxcblx0XHRcdFx0aWYgKHNjcm9sbFBhcmVudEVsICE9PSByb290RWwpIHtcblx0XHRcdFx0XHRzY3JvbGxFbCA9IG9wdGlvbnMuc2Nyb2xsO1xuXHRcdFx0XHRcdHNjcm9sbFBhcmVudEVsID0gcm9vdEVsO1xuXHRcdFx0XHRcdHNjcm9sbEN1c3RvbUZuID0gb3B0aW9ucy5zY3JvbGxGbjtcblxuXHRcdFx0XHRcdGlmIChzY3JvbGxFbCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0c2Nyb2xsRWwgPSByb290RWw7XG5cblx0XHRcdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRcdFx0aWYgKChzY3JvbGxFbC5vZmZzZXRXaWR0aCA8IHNjcm9sbEVsLnNjcm9sbFdpZHRoKSB8fFxuXHRcdFx0XHRcdFx0XHRcdChzY3JvbGxFbC5vZmZzZXRIZWlnaHQgPCBzY3JvbGxFbC5zY3JvbGxIZWlnaHQpXG5cdFx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdC8qIGpzaGludCBib3NzOnRydWUgKi9cblx0XHRcdFx0XHRcdH0gd2hpbGUgKHNjcm9sbEVsID0gc2Nyb2xsRWwucGFyZW50Tm9kZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHNjcm9sbEVsKSB7XG5cdFx0XHRcdFx0ZWwgPSBzY3JvbGxFbDtcblx0XHRcdFx0XHRyZWN0ID0gc2Nyb2xsRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdFx0dnggPSAoYWJzKHJlY3QucmlnaHQgLSB4KSA8PSBzZW5zKSAtIChhYnMocmVjdC5sZWZ0IC0geCkgPD0gc2Vucyk7XG5cdFx0XHRcdFx0dnkgPSAoYWJzKHJlY3QuYm90dG9tIC0geSkgPD0gc2VucykgLSAoYWJzKHJlY3QudG9wIC0geSkgPD0gc2Vucyk7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGlmICghKHZ4IHx8IHZ5KSkge1xuXHRcdFx0XHRcdHZ4ID0gKHdpbldpZHRoIC0geCA8PSBzZW5zKSAtICh4IDw9IHNlbnMpO1xuXHRcdFx0XHRcdHZ5ID0gKHdpbkhlaWdodCAtIHkgPD0gc2VucykgLSAoeSA8PSBzZW5zKTtcblxuXHRcdFx0XHRcdC8qIGpzaGludCBleHByOnRydWUgKi9cblx0XHRcdFx0XHQodnggfHwgdnkpICYmIChlbCA9IHdpbik7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGlmIChhdXRvU2Nyb2xsLnZ4ICE9PSB2eCB8fCBhdXRvU2Nyb2xsLnZ5ICE9PSB2eSB8fCBhdXRvU2Nyb2xsLmVsICE9PSBlbCkge1xuXHRcdFx0XHRcdGF1dG9TY3JvbGwuZWwgPSBlbDtcblx0XHRcdFx0XHRhdXRvU2Nyb2xsLnZ4ID0gdng7XG5cdFx0XHRcdFx0YXV0b1Njcm9sbC52eSA9IHZ5O1xuXG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChhdXRvU2Nyb2xsLnBpZCk7XG5cblx0XHRcdFx0XHRpZiAoZWwpIHtcblx0XHRcdFx0XHRcdGF1dG9TY3JvbGwucGlkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRzY3JvbGxPZmZzZXRZID0gdnkgPyB2eSAqIHNwZWVkIDogMDtcblx0XHRcdFx0XHRcdFx0c2Nyb2xsT2Zmc2V0WCA9IHZ4ID8gdnggKiBzcGVlZCA6IDA7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZihzY3JvbGxDdXN0b21GbikpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2Nyb2xsQ3VzdG9tRm4uY2FsbChfdGhpcywgc2Nyb2xsT2Zmc2V0WCwgc2Nyb2xsT2Zmc2V0WSwgZXZ0KTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmIChlbCA9PT0gd2luKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2luLnNjcm9sbFRvKHdpbi5wYWdlWE9mZnNldCArIHNjcm9sbE9mZnNldFgsIHdpbi5wYWdlWU9mZnNldCArIHNjcm9sbE9mZnNldFkpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGVsLnNjcm9sbFRvcCArPSBzY3JvbGxPZmZzZXRZO1xuXHRcdFx0XHRcdFx0XHRcdGVsLnNjcm9sbExlZnQgKz0gc2Nyb2xsT2Zmc2V0WDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgMjQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sIDMwKSxcblxuXHRcdF9wcmVwYXJlR3JvdXAgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdFx0ZnVuY3Rpb24gdG9Gbih2YWx1ZSwgcHVsbCkge1xuXHRcdFx0XHRpZiAodmFsdWUgPT09IHZvaWQgMCB8fCB2YWx1ZSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdHZhbHVlID0gZ3JvdXAubmFtZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICh0bywgZnJvbSkge1xuXHRcdFx0XHRcdFx0dmFyIGZyb21Hcm91cCA9IGZyb20ub3B0aW9ucy5ncm91cC5uYW1lO1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gcHVsbFxuXHRcdFx0XHRcdFx0XHQ/IHZhbHVlXG5cdFx0XHRcdFx0XHRcdDogdmFsdWUgJiYgKHZhbHVlLmpvaW5cblx0XHRcdFx0XHRcdFx0XHQ/IHZhbHVlLmluZGV4T2YoZnJvbUdyb3VwKSA+IC0xXG5cdFx0XHRcdFx0XHRcdFx0OiAoZnJvbUdyb3VwID09IHZhbHVlKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dmFyIGdyb3VwID0ge307XG5cdFx0XHR2YXIgb3JpZ2luYWxHcm91cCA9IG9wdGlvbnMuZ3JvdXA7XG5cblx0XHRcdGlmICghb3JpZ2luYWxHcm91cCB8fCB0eXBlb2Ygb3JpZ2luYWxHcm91cCAhPSAnb2JqZWN0Jykge1xuXHRcdFx0XHRvcmlnaW5hbEdyb3VwID0ge25hbWU6IG9yaWdpbmFsR3JvdXB9O1xuXHRcdFx0fVxuXG5cdFx0XHRncm91cC5uYW1lID0gb3JpZ2luYWxHcm91cC5uYW1lO1xuXHRcdFx0Z3JvdXAuY2hlY2tQdWxsID0gdG9GbihvcmlnaW5hbEdyb3VwLnB1bGwsIHRydWUpO1xuXHRcdFx0Z3JvdXAuY2hlY2tQdXQgPSB0b0ZuKG9yaWdpbmFsR3JvdXAucHV0KTtcblx0XHRcdGdyb3VwLnJldmVydENsb25lID0gb3JpZ2luYWxHcm91cC5yZXZlcnRDbG9uZTtcblxuXHRcdFx0b3B0aW9ucy5ncm91cCA9IGdyb3VwO1xuXHRcdH1cblx0O1xuXG5cblx0LyoqXG5cdCAqIEBjbGFzcyAgU29ydGFibGVcblx0ICogQHBhcmFtICB7SFRNTEVsZW1lbnR9ICBlbFxuXHQgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgIFtvcHRpb25zXVxuXHQgKi9cblx0ZnVuY3Rpb24gU29ydGFibGUoZWwsIG9wdGlvbnMpIHtcblx0XHRpZiAoIShlbCAmJiBlbC5ub2RlVHlwZSAmJiBlbC5ub2RlVHlwZSA9PT0gMSkpIHtcblx0XHRcdHRocm93ICdTb3J0YWJsZTogYGVsYCBtdXN0IGJlIEhUTUxFbGVtZW50LCBhbmQgbm90ICcgKyB7fS50b1N0cmluZy5jYWxsKGVsKTtcblx0XHR9XG5cblx0XHR0aGlzLmVsID0gZWw7IC8vIHJvb3QgZWxlbWVudFxuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgPSBfZXh0ZW5kKHt9LCBvcHRpb25zKTtcblxuXG5cdFx0Ly8gRXhwb3J0IGluc3RhbmNlXG5cdFx0ZWxbZXhwYW5kb10gPSB0aGlzO1xuXG5cdFx0Ly8gRGVmYXVsdCBvcHRpb25zXG5cdFx0dmFyIGRlZmF1bHRzID0ge1xuXHRcdFx0Z3JvdXA6IE1hdGgucmFuZG9tKCksXG5cdFx0XHRzb3J0OiB0cnVlLFxuXHRcdFx0ZGlzYWJsZWQ6IGZhbHNlLFxuXHRcdFx0c3RvcmU6IG51bGwsXG5cdFx0XHRoYW5kbGU6IG51bGwsXG5cdFx0XHRzY3JvbGw6IHRydWUsXG5cdFx0XHRzY3JvbGxTZW5zaXRpdml0eTogMzAsXG5cdFx0XHRzY3JvbGxTcGVlZDogMTAsXG5cdFx0XHRkcmFnZ2FibGU6IC9bdW9dbC9pLnRlc3QoZWwubm9kZU5hbWUpID8gJ2xpJyA6ICc+KicsXG5cdFx0XHRnaG9zdENsYXNzOiAnc29ydGFibGUtZ2hvc3QnLFxuXHRcdFx0Y2hvc2VuQ2xhc3M6ICdzb3J0YWJsZS1jaG9zZW4nLFxuXHRcdFx0ZHJhZ0NsYXNzOiAnc29ydGFibGUtZHJhZycsXG5cdFx0XHRpZ25vcmU6ICdhLCBpbWcnLFxuXHRcdFx0ZmlsdGVyOiBudWxsLFxuXHRcdFx0cHJldmVudE9uRmlsdGVyOiB0cnVlLFxuXHRcdFx0YW5pbWF0aW9uOiAwLFxuXHRcdFx0c2V0RGF0YTogZnVuY3Rpb24gKGRhdGFUcmFuc2ZlciwgZHJhZ0VsKSB7XG5cdFx0XHRcdGRhdGFUcmFuc2Zlci5zZXREYXRhKCdUZXh0JywgZHJhZ0VsLnRleHRDb250ZW50KTtcblx0XHRcdH0sXG5cdFx0XHRkcm9wQnViYmxlOiBmYWxzZSxcblx0XHRcdGRyYWdvdmVyQnViYmxlOiBmYWxzZSxcblx0XHRcdGRhdGFJZEF0dHI6ICdkYXRhLWlkJyxcblx0XHRcdGRlbGF5OiAwLFxuXHRcdFx0Zm9yY2VGYWxsYmFjazogZmFsc2UsXG5cdFx0XHRmYWxsYmFja0NsYXNzOiAnc29ydGFibGUtZmFsbGJhY2snLFxuXHRcdFx0ZmFsbGJhY2tPbkJvZHk6IGZhbHNlLFxuXHRcdFx0ZmFsbGJhY2tUb2xlcmFuY2U6IDAsXG5cdFx0XHRmYWxsYmFja09mZnNldDoge3g6IDAsIHk6IDB9XG5cdFx0fTtcblxuXG5cdFx0Ly8gU2V0IGRlZmF1bHQgb3B0aW9uc1xuXHRcdGZvciAodmFyIG5hbWUgaW4gZGVmYXVsdHMpIHtcblx0XHRcdCEobmFtZSBpbiBvcHRpb25zKSAmJiAob3B0aW9uc1tuYW1lXSA9IGRlZmF1bHRzW25hbWVdKTtcblx0XHR9XG5cblx0XHRfcHJlcGFyZUdyb3VwKG9wdGlvbnMpO1xuXG5cdFx0Ly8gQmluZCBhbGwgcHJpdmF0ZSBtZXRob2RzXG5cdFx0Zm9yICh2YXIgZm4gaW4gdGhpcykge1xuXHRcdFx0aWYgKGZuLmNoYXJBdCgwKSA9PT0gJ18nICYmIHR5cGVvZiB0aGlzW2ZuXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR0aGlzW2ZuXSA9IHRoaXNbZm5dLmJpbmQodGhpcyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2V0dXAgZHJhZyBtb2RlXG5cdFx0dGhpcy5uYXRpdmVEcmFnZ2FibGUgPSBvcHRpb25zLmZvcmNlRmFsbGJhY2sgPyBmYWxzZSA6IHN1cHBvcnREcmFnZ2FibGU7XG5cblx0XHQvLyBCaW5kIGV2ZW50c1xuXHRcdF9vbihlbCwgJ21vdXNlZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuXHRcdF9vbihlbCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRhcFN0YXJ0KTtcblx0XHRfb24oZWwsICdwb2ludGVyZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuXG5cdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRfb24oZWwsICdkcmFnb3ZlcicsIHRoaXMpO1xuXHRcdFx0X29uKGVsLCAnZHJhZ2VudGVyJywgdGhpcyk7XG5cdFx0fVxuXG5cdFx0dG91Y2hEcmFnT3Zlckxpc3RlbmVycy5wdXNoKHRoaXMuX29uRHJhZ092ZXIpO1xuXG5cdFx0Ly8gUmVzdG9yZSBzb3J0aW5nXG5cdFx0b3B0aW9ucy5zdG9yZSAmJiB0aGlzLnNvcnQob3B0aW9ucy5zdG9yZS5nZXQodGhpcykpO1xuXHR9XG5cblxuXHRTb3J0YWJsZS5wcm90b3R5cGUgPSAvKiogQGxlbmRzIFNvcnRhYmxlLnByb3RvdHlwZSAqLyB7XG5cdFx0Y29uc3RydWN0b3I6IFNvcnRhYmxlLFxuXG5cdFx0X29uVGFwU3RhcnQ6IGZ1bmN0aW9uICgvKiogRXZlbnR8VG91Y2hFdmVudCAqL2V2dCkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcyxcblx0XHRcdFx0ZWwgPSB0aGlzLmVsLFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRwcmV2ZW50T25GaWx0ZXIgPSBvcHRpb25zLnByZXZlbnRPbkZpbHRlcixcblx0XHRcdFx0dHlwZSA9IGV2dC50eXBlLFxuXHRcdFx0XHR0b3VjaCA9IGV2dC50b3VjaGVzICYmIGV2dC50b3VjaGVzWzBdLFxuXHRcdFx0XHR0YXJnZXQgPSAodG91Y2ggfHwgZXZ0KS50YXJnZXQsXG5cdFx0XHRcdG9yaWdpbmFsVGFyZ2V0ID0gZXZ0LnRhcmdldC5zaGFkb3dSb290ICYmIChldnQucGF0aCAmJiBldnQucGF0aFswXSkgfHwgdGFyZ2V0LFxuXHRcdFx0XHRmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcixcblx0XHRcdFx0c3RhcnRJbmRleDtcblxuXHRcdFx0X3NhdmVJbnB1dENoZWNrZWRTdGF0ZShlbCk7XG5cblxuXHRcdFx0Ly8gRG9uJ3QgdHJpZ2dlciBzdGFydCBldmVudCB3aGVuIGFuIGVsZW1lbnQgaXMgYmVlbiBkcmFnZ2VkLCBvdGhlcndpc2UgdGhlIGV2dC5vbGRpbmRleCBhbHdheXMgd3Jvbmcgd2hlbiBzZXQgb3B0aW9uLmdyb3VwLlxuXHRcdFx0aWYgKGRyYWdFbCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICgvbW91c2Vkb3dufHBvaW50ZXJkb3duLy50ZXN0KHR5cGUpICYmIGV2dC5idXR0b24gIT09IDAgfHwgb3B0aW9ucy5kaXNhYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47IC8vIG9ubHkgbGVmdCBidXR0b24gb3IgZW5hYmxlZFxuXHRcdFx0fVxuXG5cblx0XHRcdHRhcmdldCA9IF9jbG9zZXN0KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsKTtcblxuXHRcdFx0aWYgKCF0YXJnZXQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobGFzdERvd25FbCA9PT0gdGFyZ2V0KSB7XG5cdFx0XHRcdC8vIElnbm9yaW5nIGR1cGxpY2F0ZSBgZG93bmBcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkcmFnZ2VkIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblx0XHRcdHN0YXJ0SW5kZXggPSBfaW5kZXgodGFyZ2V0LCBvcHRpb25zLmRyYWdnYWJsZSk7XG5cblx0XHRcdC8vIENoZWNrIGZpbHRlclxuXHRcdFx0aWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0aWYgKGZpbHRlci5jYWxsKHRoaXMsIGV2dCwgdGFyZ2V0LCB0aGlzKSkge1xuXHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KF90aGlzLCBvcmlnaW5hbFRhcmdldCwgJ2ZpbHRlcicsIHRhcmdldCwgZWwsIHN0YXJ0SW5kZXgpO1xuXHRcdFx0XHRcdHByZXZlbnRPbkZpbHRlciAmJiBldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRyZXR1cm47IC8vIGNhbmNlbCBkbmRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZmlsdGVyKSB7XG5cdFx0XHRcdGZpbHRlciA9IGZpbHRlci5zcGxpdCgnLCcpLnNvbWUoZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0Y3JpdGVyaWEgPSBfY2xvc2VzdChvcmlnaW5hbFRhcmdldCwgY3JpdGVyaWEudHJpbSgpLCBlbCk7XG5cblx0XHRcdFx0XHRpZiAoY3JpdGVyaWEpIHtcblx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KF90aGlzLCBjcml0ZXJpYSwgJ2ZpbHRlcicsIHRhcmdldCwgZWwsIHN0YXJ0SW5kZXgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoZmlsdGVyKSB7XG5cdFx0XHRcdFx0cHJldmVudE9uRmlsdGVyICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybjsgLy8gY2FuY2VsIGRuZFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvcHRpb25zLmhhbmRsZSAmJiAhX2Nsb3Nlc3Qob3JpZ2luYWxUYXJnZXQsIG9wdGlvbnMuaGFuZGxlLCBlbCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQcmVwYXJlIGBkcmFnc3RhcnRgXG5cdFx0XHR0aGlzLl9wcmVwYXJlRHJhZ1N0YXJ0KGV2dCwgdG91Y2gsIHRhcmdldCwgc3RhcnRJbmRleCk7XG5cdFx0fSxcblxuXHRcdF9wcmVwYXJlRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoLyoqIEV2ZW50ICovZXZ0LCAvKiogVG91Y2ggKi90b3VjaCwgLyoqIEhUTUxFbGVtZW50ICovdGFyZ2V0LCAvKiogTnVtYmVyICovc3RhcnRJbmRleCkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcyxcblx0XHRcdFx0ZWwgPSBfdGhpcy5lbCxcblx0XHRcdFx0b3B0aW9ucyA9IF90aGlzLm9wdGlvbnMsXG5cdFx0XHRcdG93bmVyRG9jdW1lbnQgPSBlbC5vd25lckRvY3VtZW50LFxuXHRcdFx0XHRkcmFnU3RhcnRGbjtcblxuXHRcdFx0aWYgKHRhcmdldCAmJiAhZHJhZ0VsICYmICh0YXJnZXQucGFyZW50Tm9kZSA9PT0gZWwpKSB7XG5cdFx0XHRcdHRhcEV2dCA9IGV2dDtcblxuXHRcdFx0XHRyb290RWwgPSBlbDtcblx0XHRcdFx0ZHJhZ0VsID0gdGFyZ2V0O1xuXHRcdFx0XHRwYXJlbnRFbCA9IGRyYWdFbC5wYXJlbnROb2RlO1xuXHRcdFx0XHRuZXh0RWwgPSBkcmFnRWwubmV4dFNpYmxpbmc7XG5cdFx0XHRcdGxhc3REb3duRWwgPSB0YXJnZXQ7XG5cdFx0XHRcdGFjdGl2ZUdyb3VwID0gb3B0aW9ucy5ncm91cDtcblx0XHRcdFx0b2xkSW5kZXggPSBzdGFydEluZGV4O1xuXG5cdFx0XHRcdHRoaXMuX2xhc3RYID0gKHRvdWNoIHx8IGV2dCkuY2xpZW50WDtcblx0XHRcdFx0dGhpcy5fbGFzdFkgPSAodG91Y2ggfHwgZXZ0KS5jbGllbnRZO1xuXG5cdFx0XHRcdGRyYWdFbC5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICd0cmFuc2Zvcm0nO1xuXG5cdFx0XHRcdGRyYWdTdGFydEZuID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdC8vIERlbGF5ZWQgZHJhZyBoYXMgYmVlbiB0cmlnZ2VyZWRcblx0XHRcdFx0XHQvLyB3ZSBjYW4gcmUtZW5hYmxlIHRoZSBldmVudHM6IHRvdWNobW92ZS9tb3VzZW1vdmVcblx0XHRcdFx0XHRfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKCk7XG5cblx0XHRcdFx0XHQvLyBNYWtlIHRoZSBlbGVtZW50IGRyYWdnYWJsZVxuXHRcdFx0XHRcdGRyYWdFbC5kcmFnZ2FibGUgPSBfdGhpcy5uYXRpdmVEcmFnZ2FibGU7XG5cblx0XHRcdFx0XHQvLyBDaG9zZW4gaXRlbVxuXHRcdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIG9wdGlvbnMuY2hvc2VuQ2xhc3MsIHRydWUpO1xuXG5cdFx0XHRcdFx0Ly8gQmluZCB0aGUgZXZlbnRzOiBkcmFnc3RhcnQvZHJhZ2VuZFxuXHRcdFx0XHRcdF90aGlzLl90cmlnZ2VyRHJhZ1N0YXJ0KGV2dCwgdG91Y2gpO1xuXG5cdFx0XHRcdFx0Ly8gRHJhZyBzdGFydCBldmVudFxuXHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KF90aGlzLCByb290RWwsICdjaG9vc2UnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIERpc2FibGUgXCJkcmFnZ2FibGVcIlxuXHRcdFx0XHRvcHRpb25zLmlnbm9yZS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0X2ZpbmQoZHJhZ0VsLCBjcml0ZXJpYS50cmltKCksIF9kaXNhYmxlRHJhZ2dhYmxlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX29uRHJvcCk7XG5cdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJjYW5jZWwnLCBfdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICdzZWxlY3RzdGFydCcsIF90aGlzKTtcblxuXHRcdFx0XHRpZiAob3B0aW9ucy5kZWxheSkge1xuXHRcdFx0XHRcdC8vIElmIHRoZSB1c2VyIG1vdmVzIHRoZSBwb2ludGVyIG9yIGxldCBnbyB0aGUgY2xpY2sgb3IgdG91Y2hcblx0XHRcdFx0XHQvLyBiZWZvcmUgdGhlIGRlbGF5IGhhcyBiZWVuIHJlYWNoZWQ6XG5cdFx0XHRcdFx0Ly8gZGlzYWJsZSB0aGUgZGVsYXllZCBkcmFnXG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICdwb2ludGVybW92ZScsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXG5cdFx0XHRcdFx0X3RoaXMuX2RyYWdTdGFydFRpbWVyID0gc2V0VGltZW91dChkcmFnU3RhcnRGbiwgb3B0aW9ucy5kZWxheSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZHJhZ1N0YXJ0Rm4oKTtcblx0XHRcdFx0fVxuXG5cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2Rpc2FibGVEZWxheWVkRHJhZzogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdH0sXG5cblx0XHRfdHJpZ2dlckRyYWdTdGFydDogZnVuY3Rpb24gKC8qKiBFdmVudCAqL2V2dCwgLyoqIFRvdWNoICovdG91Y2gpIHtcblx0XHRcdHRvdWNoID0gdG91Y2ggfHwgKGV2dC5wb2ludGVyVHlwZSA9PSAndG91Y2gnID8gZXZ0IDogbnVsbCk7XG5cblx0XHRcdGlmICh0b3VjaCkge1xuXHRcdFx0XHQvLyBUb3VjaCBkZXZpY2Ugc3VwcG9ydFxuXHRcdFx0XHR0YXBFdnQgPSB7XG5cdFx0XHRcdFx0dGFyZ2V0OiBkcmFnRWwsXG5cdFx0XHRcdFx0Y2xpZW50WDogdG91Y2guY2xpZW50WCxcblx0XHRcdFx0XHRjbGllbnRZOiB0b3VjaC5jbGllbnRZXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0dGhpcy5fb25EcmFnU3RhcnQodGFwRXZ0LCAndG91Y2gnKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCF0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHR0aGlzLl9vbkRyYWdTdGFydCh0YXBFdnQsIHRydWUpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdF9vbihkcmFnRWwsICdkcmFnZW5kJywgdGhpcyk7XG5cdFx0XHRcdF9vbihyb290RWwsICdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcblx0XHRcdFx0XHQvLyBUaW1lb3V0IG5lY2Nlc3NhcnkgZm9yIElFOVxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0ZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2RyYWdTdGFydGVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAocm9vdEVsICYmIGRyYWdFbCkge1xuXHRcdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdFx0XHQvLyBBcHBseSBlZmZlY3Rcblx0XHRcdFx0X3RvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5naG9zdENsYXNzLCB0cnVlKTtcblx0XHRcdFx0X3RvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5kcmFnQ2xhc3MsIGZhbHNlKTtcblxuXHRcdFx0XHRTb3J0YWJsZS5hY3RpdmUgPSB0aGlzO1xuXG5cdFx0XHRcdC8vIERyYWcgc3RhcnQgZXZlbnRcblx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnc3RhcnQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fbnVsbGluZygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfZW11bGF0ZURyYWdPdmVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAodG91Y2hFdnQpIHtcblx0XHRcdFx0aWYgKHRoaXMuX2xhc3RYID09PSB0b3VjaEV2dC5jbGllbnRYICYmIHRoaXMuX2xhc3RZID09PSB0b3VjaEV2dC5jbGllbnRZKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5fbGFzdFggPSB0b3VjaEV2dC5jbGllbnRYO1xuXHRcdFx0XHR0aGlzLl9sYXN0WSA9IHRvdWNoRXZ0LmNsaWVudFk7XG5cblx0XHRcdFx0aWYgKCFzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cykge1xuXHRcdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodG91Y2hFdnQuY2xpZW50WCwgdG91Y2hFdnQuY2xpZW50WSksXG5cdFx0XHRcdFx0cGFyZW50ID0gdGFyZ2V0LFxuXHRcdFx0XHRcdGkgPSB0b3VjaERyYWdPdmVyTGlzdGVuZXJzLmxlbmd0aDtcblxuXHRcdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdFx0aWYgKHBhcmVudFtleHBhbmRvXSkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdFx0XHRcdFx0dG91Y2hEcmFnT3Zlckxpc3RlbmVyc1tpXSh7XG5cdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRYOiB0b3VjaEV2dC5jbGllbnRYLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50WTogdG91Y2hFdnQuY2xpZW50WSxcblx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldDogdGFyZ2V0LFxuXHRcdFx0XHRcdFx0XHRcdFx0cm9vdEVsOiBwYXJlbnRcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0YXJnZXQgPSBwYXJlbnQ7IC8vIHN0b3JlIGxhc3QgZWxlbWVudFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cdFx0XHRcdFx0d2hpbGUgKHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghc3VwcG9ydENzc1BvaW50ZXJFdmVudHMpIHtcblx0XHRcdFx0XHRfY3NzKGdob3N0RWwsICdkaXNwbGF5JywgJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0X29uVG91Y2hNb3ZlOiBmdW5jdGlvbiAoLyoqVG91Y2hFdmVudCovZXZ0KSB7XG5cdFx0XHRpZiAodGFwRXZ0KSB7XG5cdFx0XHRcdHZhclx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdFx0XHRmYWxsYmFja1RvbGVyYW5jZSA9IG9wdGlvbnMuZmFsbGJhY2tUb2xlcmFuY2UsXG5cdFx0XHRcdFx0ZmFsbGJhY2tPZmZzZXQgPSBvcHRpb25zLmZhbGxiYWNrT2Zmc2V0LFxuXHRcdFx0XHRcdHRvdWNoID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dCxcblx0XHRcdFx0XHRkeCA9ICh0b3VjaC5jbGllbnRYIC0gdGFwRXZ0LmNsaWVudFgpICsgZmFsbGJhY2tPZmZzZXQueCxcblx0XHRcdFx0XHRkeSA9ICh0b3VjaC5jbGllbnRZIC0gdGFwRXZ0LmNsaWVudFkpICsgZmFsbGJhY2tPZmZzZXQueSxcblx0XHRcdFx0XHR0cmFuc2xhdGUzZCA9IGV2dC50b3VjaGVzID8gJ3RyYW5zbGF0ZTNkKCcgKyBkeCArICdweCwnICsgZHkgKyAncHgsMCknIDogJ3RyYW5zbGF0ZSgnICsgZHggKyAncHgsJyArIGR5ICsgJ3B4KSc7XG5cblx0XHRcdFx0Ly8gb25seSBzZXQgdGhlIHN0YXR1cyB0byBkcmFnZ2luZywgd2hlbiB3ZSBhcmUgYWN0dWFsbHkgZHJhZ2dpbmdcblx0XHRcdFx0aWYgKCFTb3J0YWJsZS5hY3RpdmUpIHtcblx0XHRcdFx0XHRpZiAoZmFsbGJhY2tUb2xlcmFuY2UgJiZcblx0XHRcdFx0XHRcdG1pbihhYnModG91Y2guY2xpZW50WCAtIHRoaXMuX2xhc3RYKSwgYWJzKHRvdWNoLmNsaWVudFkgLSB0aGlzLl9sYXN0WSkpIDwgZmFsbGJhY2tUb2xlcmFuY2Vcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aGlzLl9kcmFnU3RhcnRlZCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gYXMgd2VsbCBhcyBjcmVhdGluZyB0aGUgZ2hvc3QgZWxlbWVudCBvbiB0aGUgZG9jdW1lbnQgYm9keVxuXHRcdFx0XHR0aGlzLl9hcHBlbmRHaG9zdCgpO1xuXG5cdFx0XHRcdG1vdmVkID0gdHJ1ZTtcblx0XHRcdFx0dG91Y2hFdnQgPSB0b3VjaDtcblxuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd3ZWJraXRUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ21velRyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnbXNUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3RyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcblxuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2FwcGVuZEdob3N0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIWdob3N0RWwpIHtcblx0XHRcdFx0dmFyIHJlY3QgPSBkcmFnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG5cdFx0XHRcdFx0Y3NzID0gX2NzcyhkcmFnRWwpLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRcdFx0Z2hvc3RSZWN0O1xuXG5cdFx0XHRcdGdob3N0RWwgPSBkcmFnRWwuY2xvbmVOb2RlKHRydWUpO1xuXG5cdFx0XHRcdF90b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcblx0XHRcdFx0X3RvZ2dsZUNsYXNzKGdob3N0RWwsIG9wdGlvbnMuZmFsbGJhY2tDbGFzcywgdHJ1ZSk7XG5cdFx0XHRcdF90b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmRyYWdDbGFzcywgdHJ1ZSk7XG5cblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAndG9wJywgcmVjdC50b3AgLSBwYXJzZUludChjc3MubWFyZ2luVG9wLCAxMCkpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdsZWZ0JywgcmVjdC5sZWZ0IC0gcGFyc2VJbnQoY3NzLm1hcmdpbkxlZnQsIDEwKSk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3dpZHRoJywgcmVjdC53aWR0aCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2hlaWdodCcsIHJlY3QuaGVpZ2h0KTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnb3BhY2l0eScsICcwLjgnKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAncG9zaXRpb24nLCAnZml4ZWQnKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnekluZGV4JywgJzEwMDAwMCcpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdwb2ludGVyRXZlbnRzJywgJ25vbmUnKTtcblxuXHRcdFx0XHRvcHRpb25zLmZhbGxiYWNrT25Cb2R5ICYmIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ2hvc3RFbCkgfHwgcm9vdEVsLmFwcGVuZENoaWxkKGdob3N0RWwpO1xuXG5cdFx0XHRcdC8vIEZpeGluZyBkaW1lbnNpb25zLlxuXHRcdFx0XHRnaG9zdFJlY3QgPSBnaG9zdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd3aWR0aCcsIHJlY3Qud2lkdGggKiAyIC0gZ2hvc3RSZWN0LndpZHRoKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnaGVpZ2h0JywgcmVjdC5oZWlnaHQgKiAyIC0gZ2hvc3RSZWN0LmhlaWdodCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9vbkRyYWdTdGFydDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQsIC8qKmJvb2xlYW4qL3VzZUZhbGxiYWNrKSB7XG5cdFx0XHR2YXIgZGF0YVRyYW5zZmVyID0gZXZ0LmRhdGFUcmFuc2Zlcixcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdFx0dGhpcy5fb2ZmVXBFdmVudHMoKTtcblxuXHRcdFx0aWYgKGFjdGl2ZUdyb3VwLmNoZWNrUHVsbCh0aGlzLCB0aGlzLCBkcmFnRWwsIGV2dCkpIHtcblx0XHRcdFx0Y2xvbmVFbCA9IF9jbG9uZShkcmFnRWwpO1xuXG5cdFx0XHRcdGNsb25lRWwuZHJhZ2dhYmxlID0gZmFsc2U7XG5cdFx0XHRcdGNsb25lRWwuc3R5bGVbJ3dpbGwtY2hhbmdlJ10gPSAnJztcblxuXHRcdFx0XHRfY3NzKGNsb25lRWwsICdkaXNwbGF5JywgJ25vbmUnKTtcblx0XHRcdFx0X3RvZ2dsZUNsYXNzKGNsb25lRWwsIHRoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpO1xuXG5cdFx0XHRcdHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgZHJhZ0VsKTtcblx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnY2xvbmUnLCBkcmFnRWwpO1xuXHRcdFx0fVxuXG5cdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmRyYWdDbGFzcywgdHJ1ZSk7XG5cblx0XHRcdGlmICh1c2VGYWxsYmFjaykge1xuXHRcdFx0XHRpZiAodXNlRmFsbGJhY2sgPT09ICd0b3VjaCcpIHtcblx0XHRcdFx0XHQvLyBCaW5kIHRvdWNoIGV2ZW50c1xuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCB0aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ3BvaW50ZXJ1cCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gT2xkIGJyd29zZXJcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9sb29wSWQgPSBzZXRJbnRlcnZhbCh0aGlzLl9lbXVsYXRlRHJhZ092ZXIsIDUwKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoZGF0YVRyYW5zZmVyKSB7XG5cdFx0XHRcdFx0ZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG5cdFx0XHRcdFx0b3B0aW9ucy5zZXREYXRhICYmIG9wdGlvbnMuc2V0RGF0YS5jYWxsKHRoaXMsIGRhdGFUcmFuc2ZlciwgZHJhZ0VsKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdF9vbihkb2N1bWVudCwgJ2Ryb3AnLCB0aGlzKTtcblx0XHRcdFx0c2V0VGltZW91dCh0aGlzLl9kcmFnU3RhcnRlZCwgMCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9vbkRyYWdPdmVyOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0dmFyIGVsID0gdGhpcy5lbCxcblx0XHRcdFx0dGFyZ2V0LFxuXHRcdFx0XHRkcmFnUmVjdCxcblx0XHRcdFx0dGFyZ2V0UmVjdCxcblx0XHRcdFx0cmV2ZXJ0LFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRncm91cCA9IG9wdGlvbnMuZ3JvdXAsXG5cdFx0XHRcdGFjdGl2ZVNvcnRhYmxlID0gU29ydGFibGUuYWN0aXZlLFxuXHRcdFx0XHRpc093bmVyID0gKGFjdGl2ZUdyb3VwID09PSBncm91cCksXG5cdFx0XHRcdGlzTW92aW5nQmV0d2VlblNvcnRhYmxlID0gZmFsc2UsXG5cdFx0XHRcdGNhblNvcnQgPSBvcHRpb25zLnNvcnQ7XG5cblx0XHRcdGlmIChldnQucHJldmVudERlZmF1bHQgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0IW9wdGlvbnMuZHJhZ292ZXJCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZHJhZ0VsLmFuaW1hdGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0bW92ZWQgPSB0cnVlO1xuXG5cdFx0XHRpZiAoYWN0aXZlU29ydGFibGUgJiYgIW9wdGlvbnMuZGlzYWJsZWQgJiZcblx0XHRcdFx0KGlzT3duZXJcblx0XHRcdFx0XHQ/IGNhblNvcnQgfHwgKHJldmVydCA9ICFyb290RWwuY29udGFpbnMoZHJhZ0VsKSkgLy8gUmV2ZXJ0aW5nIGl0ZW0gaW50byB0aGUgb3JpZ2luYWwgbGlzdFxuXHRcdFx0XHRcdDogKFxuXHRcdFx0XHRcdFx0cHV0U29ydGFibGUgPT09IHRoaXMgfHxcblx0XHRcdFx0XHRcdChcblx0XHRcdFx0XHRcdFx0KGFjdGl2ZVNvcnRhYmxlLmxhc3RQdWxsTW9kZSA9IGFjdGl2ZUdyb3VwLmNoZWNrUHVsbCh0aGlzLCBhY3RpdmVTb3J0YWJsZSwgZHJhZ0VsLCBldnQpKSAmJlxuXHRcdFx0XHRcdFx0XHRncm91cC5jaGVja1B1dCh0aGlzLCBhY3RpdmVTb3J0YWJsZSwgZHJhZ0VsLCBldnQpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpICYmXG5cdFx0XHRcdChldnQucm9vdEVsID09PSB2b2lkIDAgfHwgZXZ0LnJvb3RFbCA9PT0gdGhpcy5lbCkgLy8gdG91Y2ggZmFsbGJhY2tcblx0XHRcdCkge1xuXHRcdFx0XHQvLyBTbWFydCBhdXRvLXNjcm9sbGluZ1xuXHRcdFx0XHRfYXV0b1Njcm9sbChldnQsIG9wdGlvbnMsIHRoaXMuZWwpO1xuXG5cdFx0XHRcdGlmIChfc2lsZW50KSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGFyZ2V0ID0gX2Nsb3Nlc3QoZXZ0LnRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsKTtcblx0XHRcdFx0ZHJhZ1JlY3QgPSBkcmFnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHRcdFx0aWYgKHB1dFNvcnRhYmxlICE9PSB0aGlzKSB7XG5cdFx0XHRcdFx0cHV0U29ydGFibGUgPSB0aGlzO1xuXHRcdFx0XHRcdGlzTW92aW5nQmV0d2VlblNvcnRhYmxlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChyZXZlcnQpIHtcblx0XHRcdFx0XHRfY2xvbmVIaWRlKGFjdGl2ZVNvcnRhYmxlLCB0cnVlKTtcblx0XHRcdFx0XHRwYXJlbnRFbCA9IHJvb3RFbDsgLy8gYWN0dWFsaXphdGlvblxuXG5cdFx0XHRcdFx0aWYgKGNsb25lRWwgfHwgbmV4dEVsKSB7XG5cdFx0XHRcdFx0XHRyb290RWwuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgY2xvbmVFbCB8fCBuZXh0RWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICghY2FuU29ydCkge1xuXHRcdFx0XHRcdFx0cm9vdEVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHRpZiAoKGVsLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgfHwgKGVsLmNoaWxkcmVuWzBdID09PSBnaG9zdEVsKSB8fFxuXHRcdFx0XHRcdChlbCA9PT0gZXZ0LnRhcmdldCkgJiYgKF9naG9zdElzTGFzdChlbCwgZXZ0KSlcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Ly9hc3NpZ24gdGFyZ2V0IG9ubHkgaWYgY29uZGl0aW9uIGlzIHRydWVcblx0XHRcdFx0XHRpZiAoZWwuY2hpbGRyZW4ubGVuZ3RoICE9PSAwICYmIGVsLmNoaWxkcmVuWzBdICE9PSBnaG9zdEVsICYmIGVsID09PSBldnQudGFyZ2V0KSB7XG5cdFx0XHRcdFx0XHR0YXJnZXQgPSBlbC5sYXN0RWxlbWVudENoaWxkO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICh0YXJnZXQpIHtcblx0XHRcdFx0XHRcdGlmICh0YXJnZXQuYW5pbWF0ZWQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdF9jbG9uZUhpZGUoYWN0aXZlU29ydGFibGUsIGlzT3duZXIpO1xuXG5cdFx0XHRcdFx0aWYgKF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCBldnQpICE9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0aWYgKCFkcmFnRWwuY29udGFpbnMoZWwpKSB7XG5cdFx0XHRcdFx0XHRcdGVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG5cdFx0XHRcdFx0XHRcdHBhcmVudEVsID0gZWw7IC8vIGFjdHVhbGl6YXRpb25cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGhpcy5fYW5pbWF0ZShkcmFnUmVjdCwgZHJhZ0VsKTtcblx0XHRcdFx0XHRcdHRhcmdldCAmJiB0aGlzLl9hbmltYXRlKHRhcmdldFJlY3QsIHRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKHRhcmdldCAmJiAhdGFyZ2V0LmFuaW1hdGVkICYmIHRhcmdldCAhPT0gZHJhZ0VsICYmICh0YXJnZXQucGFyZW50Tm9kZVtleHBhbmRvXSAhPT0gdm9pZCAwKSkge1xuXHRcdFx0XHRcdGlmIChsYXN0RWwgIT09IHRhcmdldCkge1xuXHRcdFx0XHRcdFx0bGFzdEVsID0gdGFyZ2V0O1xuXHRcdFx0XHRcdFx0bGFzdENTUyA9IF9jc3ModGFyZ2V0KTtcblx0XHRcdFx0XHRcdGxhc3RQYXJlbnRDU1MgPSBfY3NzKHRhcmdldC5wYXJlbnROb2RlKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdFx0dmFyIHdpZHRoID0gdGFyZ2V0UmVjdC5yaWdodCAtIHRhcmdldFJlY3QubGVmdCxcblx0XHRcdFx0XHRcdGhlaWdodCA9IHRhcmdldFJlY3QuYm90dG9tIC0gdGFyZ2V0UmVjdC50b3AsXG5cdFx0XHRcdFx0XHRmbG9hdGluZyA9IFJfRkxPQVQudGVzdChsYXN0Q1NTLmNzc0Zsb2F0ICsgbGFzdENTUy5kaXNwbGF5KVxuXHRcdFx0XHRcdFx0XHR8fCAobGFzdFBhcmVudENTUy5kaXNwbGF5ID09ICdmbGV4JyAmJiBsYXN0UGFyZW50Q1NTWydmbGV4LWRpcmVjdGlvbiddLmluZGV4T2YoJ3JvdycpID09PSAwKSxcblx0XHRcdFx0XHRcdGlzV2lkZSA9ICh0YXJnZXQub2Zmc2V0V2lkdGggPiBkcmFnRWwub2Zmc2V0V2lkdGgpLFxuXHRcdFx0XHRcdFx0aXNMb25nID0gKHRhcmdldC5vZmZzZXRIZWlnaHQgPiBkcmFnRWwub2Zmc2V0SGVpZ2h0KSxcblx0XHRcdFx0XHRcdGhhbGZ3YXkgPSAoZmxvYXRpbmcgPyAoZXZ0LmNsaWVudFggLSB0YXJnZXRSZWN0LmxlZnQpIC8gd2lkdGggOiAoZXZ0LmNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcCkgLyBoZWlnaHQpID4gMC41LFxuXHRcdFx0XHRcdFx0bmV4dFNpYmxpbmcgPSB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLFxuXHRcdFx0XHRcdFx0YWZ0ZXIgPSBmYWxzZVxuXHRcdFx0XHRcdDtcblxuXHRcdFx0XHRcdGlmIChmbG9hdGluZykge1xuXHRcdFx0XHRcdFx0dmFyIGVsVG9wID0gZHJhZ0VsLm9mZnNldFRvcCxcblx0XHRcdFx0XHRcdFx0dGdUb3AgPSB0YXJnZXQub2Zmc2V0VG9wO1xuXG5cdFx0XHRcdFx0XHRpZiAoZWxUb3AgPT09IHRnVG9wKSB7XG5cdFx0XHRcdFx0XHRcdGFmdGVyID0gKHRhcmdldC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09PSBkcmFnRWwpICYmICFpc1dpZGUgfHwgaGFsZndheSAmJiBpc1dpZGU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIGlmICh0YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyA9PT0gZHJhZ0VsIHx8IGRyYWdFbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09PSB0YXJnZXQpIHtcblx0XHRcdFx0XHRcdFx0YWZ0ZXIgPSAoZXZ0LmNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcCkgLyBoZWlnaHQgPiAwLjU7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRhZnRlciA9IHRnVG9wID4gZWxUb3A7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCFpc01vdmluZ0JldHdlZW5Tb3J0YWJsZSkge1xuXHRcdFx0XHRcdFx0YWZ0ZXIgPSAobmV4dFNpYmxpbmcgIT09IGRyYWdFbCkgJiYgIWlzTG9uZyB8fCBoYWxmd2F5ICYmIGlzTG9uZztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgbW92ZVZlY3RvciA9IF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCBldnQsIGFmdGVyKTtcblxuXHRcdFx0XHRcdGlmIChtb3ZlVmVjdG9yICE9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0aWYgKG1vdmVWZWN0b3IgPT09IDEgfHwgbW92ZVZlY3RvciA9PT0gLTEpIHtcblx0XHRcdFx0XHRcdFx0YWZ0ZXIgPSAobW92ZVZlY3RvciA9PT0gMSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdF9zaWxlbnQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dChfdW5zaWxlbnQsIDMwKTtcblxuXHRcdFx0XHRcdFx0X2Nsb25lSGlkZShhY3RpdmVTb3J0YWJsZSwgaXNPd25lcik7XG5cblx0XHRcdFx0XHRcdGlmICghZHJhZ0VsLmNvbnRhaW5zKGVsKSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoYWZ0ZXIgJiYgIW5leHRTaWJsaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0YXJnZXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZHJhZ0VsLCBhZnRlciA/IG5leHRTaWJsaW5nIDogdGFyZ2V0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRwYXJlbnRFbCA9IGRyYWdFbC5wYXJlbnROb2RlOyAvLyBhY3R1YWxpemF0aW9uXG5cblx0XHRcdFx0XHRcdHRoaXMuX2FuaW1hdGUoZHJhZ1JlY3QsIGRyYWdFbCk7XG5cdFx0XHRcdFx0XHR0aGlzLl9hbmltYXRlKHRhcmdldFJlY3QsIHRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9hbmltYXRlOiBmdW5jdGlvbiAocHJldlJlY3QsIHRhcmdldCkge1xuXHRcdFx0dmFyIG1zID0gdGhpcy5vcHRpb25zLmFuaW1hdGlvbjtcblxuXHRcdFx0aWYgKG1zKSB7XG5cdFx0XHRcdHZhciBjdXJyZW50UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdFx0XHRpZiAocHJldlJlY3Qubm9kZVR5cGUgPT09IDEpIHtcblx0XHRcdFx0XHRwcmV2UmVjdCA9IHByZXZSZWN0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJ25vbmUnKTtcblx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJ1xuXHRcdFx0XHRcdCsgKHByZXZSZWN0LmxlZnQgLSBjdXJyZW50UmVjdC5sZWZ0KSArICdweCwnXG5cdFx0XHRcdFx0KyAocHJldlJlY3QudG9wIC0gY3VycmVudFJlY3QudG9wKSArICdweCwwKSdcblx0XHRcdFx0KTtcblxuXHRcdFx0XHR0YXJnZXQub2Zmc2V0V2lkdGg7IC8vIHJlcGFpbnRcblxuXHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnYWxsICcgKyBtcyArICdtcycpO1xuXHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgwLDAsMCknKTtcblxuXHRcdFx0XHRjbGVhclRpbWVvdXQodGFyZ2V0LmFuaW1hdGVkKTtcblx0XHRcdFx0dGFyZ2V0LmFuaW1hdGVkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJycpO1xuXHRcdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJycpO1xuXHRcdFx0XHRcdHRhcmdldC5hbmltYXRlZCA9IGZhbHNlO1xuXHRcdFx0XHR9LCBtcyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9vZmZVcEV2ZW50czogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdF9vZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRfb2ZmKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJ1cCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICdwb2ludGVyY2FuY2VsJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3NlbGVjdHN0YXJ0JywgdGhpcyk7XG5cdFx0fSxcblxuXHRcdF9vbkRyb3A6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHR2YXIgZWwgPSB0aGlzLmVsLFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRjbGVhckludGVydmFsKHRoaXMuX2xvb3BJZCk7XG5cdFx0XHRjbGVhckludGVydmFsKGF1dG9TY3JvbGwucGlkKTtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cblx0XHRcdC8vIFVuYmluZCBldmVudHNcblx0XHRcdF9vZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cblx0XHRcdGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHRfb2ZmKGRvY3VtZW50LCAnZHJvcCcsIHRoaXMpO1xuXHRcdFx0XHRfb2ZmKGVsLCAnZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9vZmZVcEV2ZW50cygpO1xuXG5cdFx0XHRpZiAoZXZ0KSB7XG5cdFx0XHRcdGlmIChtb3ZlZCkge1xuXHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdCFvcHRpb25zLmRyb3BCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Z2hvc3RFbCAmJiBnaG9zdEVsLnBhcmVudE5vZGUgJiYgZ2hvc3RFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGdob3N0RWwpO1xuXG5cdFx0XHRcdGlmIChyb290RWwgPT09IHBhcmVudEVsIHx8IFNvcnRhYmxlLmFjdGl2ZS5sYXN0UHVsbE1vZGUgIT09ICdjbG9uZScpIHtcblx0XHRcdFx0XHQvLyBSZW1vdmUgY2xvbmVcblx0XHRcdFx0XHRjbG9uZUVsICYmIGNsb25lRWwucGFyZW50Tm9kZSAmJiBjbG9uZUVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xvbmVFbCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZHJhZ0VsKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdFx0XHRfb2ZmKGRyYWdFbCwgJ2RyYWdlbmQnLCB0aGlzKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfZGlzYWJsZURyYWdnYWJsZShkcmFnRWwpO1xuXHRcdFx0XHRcdGRyYWdFbC5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICcnO1xuXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGNsYXNzJ3Ncblx0XHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCB0aGlzLm9wdGlvbnMuZ2hvc3RDbGFzcywgZmFsc2UpO1xuXHRcdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIHRoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpO1xuXG5cdFx0XHRcdFx0Ly8gRHJhZyBzdG9wIGV2ZW50XG5cdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAndW5jaG9vc2UnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgpO1xuXG5cdFx0XHRcdFx0aWYgKHJvb3RFbCAhPT0gcGFyZW50RWwpIHtcblx0XHRcdFx0XHRcdG5ld0luZGV4ID0gX2luZGV4KGRyYWdFbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuXG5cdFx0XHRcdFx0XHRpZiAobmV3SW5kZXggPj0gMCkge1xuXHRcdFx0XHRcdFx0XHQvLyBBZGQgZXZlbnRcblx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQobnVsbCwgcGFyZW50RWwsICdhZGQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBSZW1vdmUgZXZlbnRcblx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAncmVtb3ZlJywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gZHJhZyBmcm9tIG9uZSBsaXN0IGFuZCBkcm9wIGludG8gYW5vdGhlclxuXHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudChudWxsLCBwYXJlbnRFbCwgJ3NvcnQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnc29ydCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChkcmFnRWwubmV4dFNpYmxpbmcgIT09IG5leHRFbCkge1xuXHRcdFx0XHRcdFx0XHQvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkcmFnZ2VkIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblx0XHRcdFx0XHRcdFx0bmV3SW5kZXggPSBfaW5kZXgoZHJhZ0VsLCBvcHRpb25zLmRyYWdnYWJsZSk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKG5ld0luZGV4ID49IDApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBkcmFnICYgZHJvcCB3aXRoaW4gdGhlIHNhbWUgbGlzdFxuXHRcdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ3VwZGF0ZScsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXHRcdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ3NvcnQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChTb3J0YWJsZS5hY3RpdmUpIHtcblx0XHRcdFx0XHRcdC8qIGpzaGludCBlcW51bGw6dHJ1ZSAqL1xuXHRcdFx0XHRcdFx0aWYgKG5ld0luZGV4ID09IG51bGwgfHwgbmV3SW5kZXggPT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdG5ld0luZGV4ID0gb2xkSW5kZXg7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ2VuZCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXG5cdFx0XHRcdFx0XHQvLyBTYXZlIHNvcnRpbmdcblx0XHRcdFx0XHRcdHRoaXMuc2F2ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX251bGxpbmcoKTtcblx0XHR9LFxuXG5cdFx0X251bGxpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cm9vdEVsID1cblx0XHRcdGRyYWdFbCA9XG5cdFx0XHRwYXJlbnRFbCA9XG5cdFx0XHRnaG9zdEVsID1cblx0XHRcdG5leHRFbCA9XG5cdFx0XHRjbG9uZUVsID1cblx0XHRcdGxhc3REb3duRWwgPVxuXG5cdFx0XHRzY3JvbGxFbCA9XG5cdFx0XHRzY3JvbGxQYXJlbnRFbCA9XG5cblx0XHRcdHRhcEV2dCA9XG5cdFx0XHR0b3VjaEV2dCA9XG5cblx0XHRcdG1vdmVkID1cblx0XHRcdG5ld0luZGV4ID1cblxuXHRcdFx0bGFzdEVsID1cblx0XHRcdGxhc3RDU1MgPVxuXG5cdFx0XHRwdXRTb3J0YWJsZSA9XG5cdFx0XHRhY3RpdmVHcm91cCA9XG5cdFx0XHRTb3J0YWJsZS5hY3RpdmUgPSBudWxsO1xuXG5cdFx0XHRzYXZlZElucHV0Q2hlY2tlZC5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0XHRlbC5jaGVja2VkID0gdHJ1ZTtcblx0XHRcdH0pO1xuXHRcdFx0c2F2ZWRJbnB1dENoZWNrZWQubGVuZ3RoID0gMDtcblx0XHR9LFxuXG5cdFx0aGFuZGxlRXZlbnQ6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHRzd2l0Y2ggKGV2dC50eXBlKSB7XG5cdFx0XHRcdGNhc2UgJ2Ryb3AnOlxuXHRcdFx0XHRjYXNlICdkcmFnZW5kJzpcblx0XHRcdFx0XHR0aGlzLl9vbkRyb3AoZXZ0KTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdkcmFnb3Zlcic6XG5cdFx0XHRcdGNhc2UgJ2RyYWdlbnRlcic6XG5cdFx0XHRcdFx0aWYgKGRyYWdFbCkge1xuXHRcdFx0XHRcdFx0dGhpcy5fb25EcmFnT3ZlcihldnQpO1xuXHRcdFx0XHRcdFx0X2dsb2JhbERyYWdPdmVyKGV2dCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ3NlbGVjdHN0YXJ0Jzpcblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBTZXJpYWxpemVzIHRoZSBpdGVtIGludG8gYW4gYXJyYXkgb2Ygc3RyaW5nLlxuXHRcdCAqIEByZXR1cm5zIHtTdHJpbmdbXX1cblx0XHQgKi9cblx0XHR0b0FycmF5OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgb3JkZXIgPSBbXSxcblx0XHRcdFx0ZWwsXG5cdFx0XHRcdGNoaWxkcmVuID0gdGhpcy5lbC5jaGlsZHJlbixcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdG4gPSBjaGlsZHJlbi5sZW5ndGgsXG5cdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRcdGZvciAoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdGVsID0gY2hpbGRyZW5baV07XG5cdFx0XHRcdGlmIChfY2xvc2VzdChlbCwgb3B0aW9ucy5kcmFnZ2FibGUsIHRoaXMuZWwpKSB7XG5cdFx0XHRcdFx0b3JkZXIucHVzaChlbC5nZXRBdHRyaWJ1dGUob3B0aW9ucy5kYXRhSWRBdHRyKSB8fCBfZ2VuZXJhdGVJZChlbCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBvcmRlcjtcblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBTb3J0cyB0aGUgZWxlbWVudHMgYWNjb3JkaW5nIHRvIHRoZSBhcnJheS5cblx0XHQgKiBAcGFyYW0gIHtTdHJpbmdbXX0gIG9yZGVyICBvcmRlciBvZiB0aGUgaXRlbXNcblx0XHQgKi9cblx0XHRzb3J0OiBmdW5jdGlvbiAob3JkZXIpIHtcblx0XHRcdHZhciBpdGVtcyA9IHt9LCByb290RWwgPSB0aGlzLmVsO1xuXG5cdFx0XHR0aGlzLnRvQXJyYXkoKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCwgaSkge1xuXHRcdFx0XHR2YXIgZWwgPSByb290RWwuY2hpbGRyZW5baV07XG5cblx0XHRcdFx0aWYgKF9jbG9zZXN0KGVsLCB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLCByb290RWwpKSB7XG5cdFx0XHRcdFx0aXRlbXNbaWRdID0gZWw7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpO1xuXG5cdFx0XHRvcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuXHRcdFx0XHRpZiAoaXRlbXNbaWRdKSB7XG5cdFx0XHRcdFx0cm9vdEVsLnJlbW92ZUNoaWxkKGl0ZW1zW2lkXSk7XG5cdFx0XHRcdFx0cm9vdEVsLmFwcGVuZENoaWxkKGl0ZW1zW2lkXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNhdmUgdGhlIGN1cnJlbnQgc29ydGluZ1xuXHRcdCAqL1xuXHRcdHNhdmU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBzdG9yZSA9IHRoaXMub3B0aW9ucy5zdG9yZTtcblx0XHRcdHN0b3JlICYmIHN0b3JlLnNldCh0aGlzKTtcblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBGb3IgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQsIGdldCB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yIGJ5IHRlc3RpbmcgdGhlIGVsZW1lbnQgaXRzZWxmIGFuZCB0cmF2ZXJzaW5nIHVwIHRocm91Z2ggaXRzIGFuY2VzdG9ycyBpbiB0aGUgRE9NIHRyZWUuXG5cdFx0ICogQHBhcmFtICAge0hUTUxFbGVtZW50fSAgZWxcblx0XHQgKiBAcGFyYW0gICB7U3RyaW5nfSAgICAgICBbc2VsZWN0b3JdICBkZWZhdWx0OiBgb3B0aW9ucy5kcmFnZ2FibGVgXG5cdFx0ICogQHJldHVybnMge0hUTUxFbGVtZW50fG51bGx9XG5cdFx0ICovXG5cdFx0Y2xvc2VzdDogZnVuY3Rpb24gKGVsLCBzZWxlY3Rvcikge1xuXHRcdFx0cmV0dXJuIF9jbG9zZXN0KGVsLCBzZWxlY3RvciB8fCB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLmVsKTtcblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBTZXQvZ2V0IG9wdGlvblxuXHRcdCAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcblx0XHQgKiBAcGFyYW0gICB7Kn0gICAgICBbdmFsdWVdXG5cdFx0ICogQHJldHVybnMgeyp9XG5cdFx0ICovXG5cdFx0b3B0aW9uOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcblx0XHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRyZXR1cm4gb3B0aW9uc1tuYW1lXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9wdGlvbnNbbmFtZV0gPSB2YWx1ZTtcblxuXHRcdFx0XHRpZiAobmFtZSA9PT0gJ2dyb3VwJykge1xuXHRcdFx0XHRcdF9wcmVwYXJlR3JvdXAob3B0aW9ucyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBEZXN0cm95XG5cdFx0ICovXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGVsID0gdGhpcy5lbDtcblxuXHRcdFx0ZWxbZXhwYW5kb10gPSBudWxsO1xuXG5cdFx0XHRfb2ZmKGVsLCAnbW91c2Vkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG5cdFx0XHRfb2ZmKGVsLCAndG91Y2hzdGFydCcsIHRoaXMuX29uVGFwU3RhcnQpO1xuXHRcdFx0X29mZihlbCwgJ3BvaW50ZXJkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG5cblx0XHRcdGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHRfb2ZmKGVsLCAnZHJhZ292ZXInLCB0aGlzKTtcblx0XHRcdFx0X29mZihlbCwgJ2RyYWdlbnRlcicsIHRoaXMpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZHJhZ2dhYmxlIGF0dHJpYnV0ZXNcblx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwucXVlcnlTZWxlY3RvckFsbCgnW2RyYWdnYWJsZV0nKSwgZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRcdGVsLnJlbW92ZUF0dHJpYnV0ZSgnZHJhZ2dhYmxlJyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dG91Y2hEcmFnT3Zlckxpc3RlbmVycy5zcGxpY2UodG91Y2hEcmFnT3Zlckxpc3RlbmVycy5pbmRleE9mKHRoaXMuX29uRHJhZ092ZXIpLCAxKTtcblxuXHRcdFx0dGhpcy5fb25Ecm9wKCk7XG5cblx0XHRcdHRoaXMuZWwgPSBlbCA9IG51bGw7XG5cdFx0fVxuXHR9O1xuXG5cblx0ZnVuY3Rpb24gX2Nsb25lSGlkZShzb3J0YWJsZSwgc3RhdGUpIHtcblx0XHRpZiAoc29ydGFibGUubGFzdFB1bGxNb2RlICE9PSAnY2xvbmUnKSB7XG5cdFx0XHRzdGF0ZSA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKGNsb25lRWwgJiYgKGNsb25lRWwuc3RhdGUgIT09IHN0YXRlKSkge1xuXHRcdFx0X2NzcyhjbG9uZUVsLCAnZGlzcGxheScsIHN0YXRlID8gJ25vbmUnIDogJycpO1xuXG5cdFx0XHRpZiAoIXN0YXRlKSB7XG5cdFx0XHRcdGlmIChjbG9uZUVsLnN0YXRlKSB7XG5cdFx0XHRcdFx0aWYgKHNvcnRhYmxlLm9wdGlvbnMuZ3JvdXAucmV2ZXJ0Q2xvbmUpIHtcblx0XHRcdFx0XHRcdHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgbmV4dEVsKTtcblx0XHRcdFx0XHRcdHNvcnRhYmxlLl9hbmltYXRlKGRyYWdFbCwgY2xvbmVFbCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgZHJhZ0VsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y2xvbmVFbC5zdGF0ZSA9IHN0YXRlO1xuXHRcdH1cblx0fVxuXG5cblx0ZnVuY3Rpb24gX2Nsb3Nlc3QoLyoqSFRNTEVsZW1lbnQqL2VsLCAvKipTdHJpbmcqL3NlbGVjdG9yLCAvKipIVE1MRWxlbWVudCovY3R4KSB7XG5cdFx0aWYgKGVsKSB7XG5cdFx0XHRjdHggPSBjdHggfHwgZG9jdW1lbnQ7XG5cblx0XHRcdGRvIHtcblx0XHRcdFx0aWYgKChzZWxlY3RvciA9PT0gJz4qJyAmJiBlbC5wYXJlbnROb2RlID09PSBjdHgpIHx8IF9tYXRjaGVzKGVsLCBzZWxlY3RvcikpIHtcblx0XHRcdFx0XHRyZXR1cm4gZWw7XG5cdFx0XHRcdH1cblx0XHRcdFx0LyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXHRcdFx0fSB3aGlsZSAoZWwgPSBfZ2V0UGFyZW50T3JIb3N0KGVsKSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9nZXRQYXJlbnRPckhvc3QoZWwpIHtcblx0XHR2YXIgcGFyZW50ID0gZWwuaG9zdDtcblxuXHRcdHJldHVybiAocGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSkgPyBwYXJlbnQgOiBlbC5wYXJlbnROb2RlO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfZ2xvYmFsRHJhZ092ZXIoLyoqRXZlbnQqL2V2dCkge1xuXHRcdGlmIChldnQuZGF0YVRyYW5zZmVyKSB7XG5cdFx0XHRldnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG5cdFx0fVxuXHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfb24oZWwsIGV2ZW50LCBmbikge1xuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBjYXB0dXJlTW9kZSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9vZmYoZWwsIGV2ZW50LCBmbikge1xuXHRcdGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBjYXB0dXJlTW9kZSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF90b2dnbGVDbGFzcyhlbCwgbmFtZSwgc3RhdGUpIHtcblx0XHRpZiAoZWwpIHtcblx0XHRcdGlmIChlbC5jbGFzc0xpc3QpIHtcblx0XHRcdFx0ZWwuY2xhc3NMaXN0W3N0YXRlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dmFyIGNsYXNzTmFtZSA9ICgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoUl9TUEFDRSwgJyAnKS5yZXBsYWNlKCcgJyArIG5hbWUgKyAnICcsICcgJyk7XG5cdFx0XHRcdGVsLmNsYXNzTmFtZSA9IChjbGFzc05hbWUgKyAoc3RhdGUgPyAnICcgKyBuYW1lIDogJycpKS5yZXBsYWNlKFJfU1BBQ0UsICcgJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblxuXHRmdW5jdGlvbiBfY3NzKGVsLCBwcm9wLCB2YWwpIHtcblx0XHR2YXIgc3R5bGUgPSBlbCAmJiBlbC5zdHlsZTtcblxuXHRcdGlmIChzdHlsZSkge1xuXHRcdFx0aWYgKHZhbCA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdGlmIChkb2N1bWVudC5kZWZhdWx0VmlldyAmJiBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKSB7XG5cdFx0XHRcdFx0dmFsID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgJycpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKGVsLmN1cnJlbnRTdHlsZSkge1xuXHRcdFx0XHRcdHZhbCA9IGVsLmN1cnJlbnRTdHlsZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBwcm9wID09PSB2b2lkIDAgPyB2YWwgOiB2YWxbcHJvcF07XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKCEocHJvcCBpbiBzdHlsZSkpIHtcblx0XHRcdFx0XHRwcm9wID0gJy13ZWJraXQtJyArIHByb3A7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzdHlsZVtwcm9wXSA9IHZhbCArICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICcnIDogJ3B4Jyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblxuXHRmdW5jdGlvbiBfZmluZChjdHgsIHRhZ05hbWUsIGl0ZXJhdG9yKSB7XG5cdFx0aWYgKGN0eCkge1xuXHRcdFx0dmFyIGxpc3QgPSBjdHguZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSksIGkgPSAwLCBuID0gbGlzdC5sZW5ndGg7XG5cblx0XHRcdGlmIChpdGVyYXRvcikge1xuXHRcdFx0XHRmb3IgKDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdGl0ZXJhdG9yKGxpc3RbaV0sIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBsaXN0O1xuXHRcdH1cblxuXHRcdHJldHVybiBbXTtcblx0fVxuXG5cblxuXHRmdW5jdGlvbiBfZGlzcGF0Y2hFdmVudChzb3J0YWJsZSwgcm9vdEVsLCBuYW1lLCB0YXJnZXRFbCwgZnJvbUVsLCBzdGFydEluZGV4LCBuZXdJbmRleCkge1xuXHRcdHNvcnRhYmxlID0gKHNvcnRhYmxlIHx8IHJvb3RFbFtleHBhbmRvXSk7XG5cblx0XHR2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JyksXG5cdFx0XHRvcHRpb25zID0gc29ydGFibGUub3B0aW9ucyxcblx0XHRcdG9uTmFtZSA9ICdvbicgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHIoMSk7XG5cblx0XHRldnQuaW5pdEV2ZW50KG5hbWUsIHRydWUsIHRydWUpO1xuXG5cdFx0ZXZ0LnRvID0gcm9vdEVsO1xuXHRcdGV2dC5mcm9tID0gZnJvbUVsIHx8IHJvb3RFbDtcblx0XHRldnQuaXRlbSA9IHRhcmdldEVsIHx8IHJvb3RFbDtcblx0XHRldnQuY2xvbmUgPSBjbG9uZUVsO1xuXG5cdFx0ZXZ0Lm9sZEluZGV4ID0gc3RhcnRJbmRleDtcblx0XHRldnQubmV3SW5kZXggPSBuZXdJbmRleDtcblxuXHRcdHJvb3RFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cblx0XHRpZiAob3B0aW9uc1tvbk5hbWVdKSB7XG5cdFx0XHRvcHRpb25zW29uTmFtZV0uY2FsbChzb3J0YWJsZSwgZXZ0KTtcblx0XHR9XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9vbk1vdmUoZnJvbUVsLCB0b0VsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXRFbCwgdGFyZ2V0UmVjdCwgb3JpZ2luYWxFdnQsIHdpbGxJbnNlcnRBZnRlcikge1xuXHRcdHZhciBldnQsXG5cdFx0XHRzb3J0YWJsZSA9IGZyb21FbFtleHBhbmRvXSxcblx0XHRcdG9uTW92ZUZuID0gc29ydGFibGUub3B0aW9ucy5vbk1vdmUsXG5cdFx0XHRyZXRWYWw7XG5cblx0XHRldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0XHRldnQuaW5pdEV2ZW50KCdtb3ZlJywgdHJ1ZSwgdHJ1ZSk7XG5cblx0XHRldnQudG8gPSB0b0VsO1xuXHRcdGV2dC5mcm9tID0gZnJvbUVsO1xuXHRcdGV2dC5kcmFnZ2VkID0gZHJhZ0VsO1xuXHRcdGV2dC5kcmFnZ2VkUmVjdCA9IGRyYWdSZWN0O1xuXHRcdGV2dC5yZWxhdGVkID0gdGFyZ2V0RWwgfHwgdG9FbDtcblx0XHRldnQucmVsYXRlZFJlY3QgPSB0YXJnZXRSZWN0IHx8IHRvRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0ZXZ0LndpbGxJbnNlcnRBZnRlciA9IHdpbGxJbnNlcnRBZnRlcjtcblxuXHRcdGZyb21FbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cblx0XHRpZiAob25Nb3ZlRm4pIHtcblx0XHRcdHJldFZhbCA9IG9uTW92ZUZuLmNhbGwoc29ydGFibGUsIGV2dCwgb3JpZ2luYWxFdnQpO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXRWYWw7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9kaXNhYmxlRHJhZ2dhYmxlKGVsKSB7XG5cdFx0ZWwuZHJhZ2dhYmxlID0gZmFsc2U7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF91bnNpbGVudCgpIHtcblx0XHRfc2lsZW50ID0gZmFsc2U7XG5cdH1cblxuXG5cdC8qKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8ZmFsc2V9ICovXG5cdGZ1bmN0aW9uIF9naG9zdElzTGFzdChlbCwgZXZ0KSB7XG5cdFx0dmFyIGxhc3RFbCA9IGVsLmxhc3RFbGVtZW50Q2hpbGQsXG5cdFx0XHRyZWN0ID0gbGFzdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0Ly8gNSDigJQgbWluIGRlbHRhXG5cdFx0Ly8gYWJzIOKAlCDQvdC10LvRjNC30Y8g0LTQvtCx0LDQstC70Y/RgtGMLCDQsCDRgtC+INCz0LvRjtC60Lgg0L/RgNC4INC90LDQstC10LTQtdC90LjQuCDRgdCy0LXRgNGF0YNcblx0XHRyZXR1cm4gKGV2dC5jbGllbnRZIC0gKHJlY3QudG9wICsgcmVjdC5oZWlnaHQpID4gNSkgfHxcblx0XHRcdChldnQuY2xpZW50WCAtIChyZWN0LmxlZnQgKyByZWN0LndpZHRoKSA+IDUpO1xuXHR9XG5cblxuXHQvKipcblx0ICogR2VuZXJhdGUgaWRcblx0ICogQHBhcmFtICAge0hUTUxFbGVtZW50fSBlbFxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfVxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dlbmVyYXRlSWQoZWwpIHtcblx0XHR2YXIgc3RyID0gZWwudGFnTmFtZSArIGVsLmNsYXNzTmFtZSArIGVsLnNyYyArIGVsLmhyZWYgKyBlbC50ZXh0Q29udGVudCxcblx0XHRcdGkgPSBzdHIubGVuZ3RoLFxuXHRcdFx0c3VtID0gMDtcblxuXHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdHN1bSArPSBzdHIuY2hhckNvZGVBdChpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3VtLnRvU3RyaW5nKDM2KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBpbmRleCBvZiBhbiBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50IGZvciBhIHNlbGVjdGVkIHNldCBvZlxuXHQgKiBlbGVtZW50c1xuXHQgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxcblx0ICogQHBhcmFtICB7c2VsZWN0b3J9IHNlbGVjdG9yXG5cdCAqIEByZXR1cm4ge251bWJlcn1cblx0ICovXG5cdGZ1bmN0aW9uIF9pbmRleChlbCwgc2VsZWN0b3IpIHtcblx0XHR2YXIgaW5kZXggPSAwO1xuXG5cdFx0aWYgKCFlbCB8fCAhZWwucGFyZW50Tm9kZSkge1xuXHRcdFx0cmV0dXJuIC0xO1xuXHRcdH1cblxuXHRcdHdoaWxlIChlbCAmJiAoZWwgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSkge1xuXHRcdFx0aWYgKChlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpICE9PSAnVEVNUExBVEUnKSAmJiAoc2VsZWN0b3IgPT09ICc+KicgfHwgX21hdGNoZXMoZWwsIHNlbGVjdG9yKSkpIHtcblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gaW5kZXg7XG5cdH1cblxuXHRmdW5jdGlvbiBfbWF0Y2hlcygvKipIVE1MRWxlbWVudCovZWwsIC8qKlN0cmluZyovc2VsZWN0b3IpIHtcblx0XHRpZiAoZWwpIHtcblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc3BsaXQoJy4nKTtcblxuXHRcdFx0dmFyIHRhZyA9IHNlbGVjdG9yLnNoaWZ0KCkudG9VcHBlckNhc2UoKSxcblx0XHRcdFx0cmUgPSBuZXcgUmVnRXhwKCdcXFxccygnICsgc2VsZWN0b3Iuam9pbignfCcpICsgJykoPz1cXFxccyknLCAnZycpO1xuXG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQodGFnID09PSAnJyB8fCBlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09IHRhZykgJiZcblx0XHRcdFx0KCFzZWxlY3Rvci5sZW5ndGggfHwgKCgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLm1hdGNoKHJlKSB8fCBbXSkubGVuZ3RoID09IHNlbGVjdG9yLmxlbmd0aClcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gX3Rocm90dGxlKGNhbGxiYWNrLCBtcykge1xuXHRcdHZhciBhcmdzLCBfdGhpcztcblxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoYXJncyA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0XHRcdF90aGlzID0gdGhpcztcblxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoX3RoaXMsIGFyZ3NbMF0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjay5hcHBseShfdGhpcywgYXJncyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJncyA9IHZvaWQgMDtcblx0XHRcdFx0fSwgbXMpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBfZXh0ZW5kKGRzdCwgc3JjKSB7XG5cdFx0aWYgKGRzdCAmJiBzcmMpIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBzcmMpIHtcblx0XHRcdFx0aWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0ZHN0W2tleV0gPSBzcmNba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkc3Q7XG5cdH1cblxuXHRmdW5jdGlvbiBfY2xvbmUoZWwpIHtcblx0XHRyZXR1cm4gJFxuXHRcdFx0PyAkKGVsKS5jbG9uZSh0cnVlKVswXVxuXHRcdFx0OiAoUG9seW1lciAmJiBQb2x5bWVyLmRvbVxuXHRcdFx0XHQ/IFBvbHltZXIuZG9tKGVsKS5jbG9uZU5vZGUodHJ1ZSlcblx0XHRcdFx0OiBlbC5jbG9uZU5vZGUodHJ1ZSlcblx0XHRcdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBfc2F2ZUlucHV0Q2hlY2tlZFN0YXRlKHJvb3QpIHtcblx0XHR2YXIgaW5wdXRzID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTtcblx0XHR2YXIgaWR4ID0gaW5wdXRzLmxlbmd0aDtcblxuXHRcdHdoaWxlIChpZHgtLSkge1xuXHRcdFx0dmFyIGVsID0gaW5wdXRzW2lkeF07XG5cdFx0XHRlbC5jaGVja2VkICYmIHNhdmVkSW5wdXRDaGVja2VkLnB1c2goZWwpO1xuXHRcdH1cblx0fVxuXG5cdC8vIEZpeGVkICM5NzM6IFxuXHRfb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZXZ0KSB7XG5cdFx0aWYgKFNvcnRhYmxlLmFjdGl2ZSkge1xuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9KTtcblxuXHR0cnkge1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRjYXB0dXJlTW9kZSA9IHtcblx0XHRcdFx0XHRjYXB0dXJlOiBmYWxzZSxcblx0XHRcdFx0XHRwYXNzaXZlOiBmYWxzZVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH0pKTtcblx0fSBjYXRjaCAoZXJyKSB7fVxuXG5cdC8vIEV4cG9ydCB1dGlsc1xuXHRTb3J0YWJsZS51dGlscyA9IHtcblx0XHRvbjogX29uLFxuXHRcdG9mZjogX29mZixcblx0XHRjc3M6IF9jc3MsXG5cdFx0ZmluZDogX2ZpbmQsXG5cdFx0aXM6IGZ1bmN0aW9uIChlbCwgc2VsZWN0b3IpIHtcblx0XHRcdHJldHVybiAhIV9jbG9zZXN0KGVsLCBzZWxlY3RvciwgZWwpO1xuXHRcdH0sXG5cdFx0ZXh0ZW5kOiBfZXh0ZW5kLFxuXHRcdHRocm90dGxlOiBfdGhyb3R0bGUsXG5cdFx0Y2xvc2VzdDogX2Nsb3Nlc3QsXG5cdFx0dG9nZ2xlQ2xhc3M6IF90b2dnbGVDbGFzcyxcblx0XHRjbG9uZTogX2Nsb25lLFxuXHRcdGluZGV4OiBfaW5kZXhcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgc29ydGFibGUgaW5zdGFuY2Vcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gIGVsXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIFtvcHRpb25zXVxuXHQgKi9cblx0U29ydGFibGUuY3JlYXRlID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIG5ldyBTb3J0YWJsZShlbCwgb3B0aW9ucyk7XG5cdH07XG5cblxuXHQvLyBFeHBvcnRcblx0U29ydGFibGUudmVyc2lvbiA9ICcxLjYuMSc7XG5cdHJldHVybiBTb3J0YWJsZTtcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC9bIScoKSpdL2csIGZ1bmN0aW9uIChjKSB7XG5cdFx0cmV0dXJuICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcblx0fSk7XG59O1xuIiwiY29uc3QgeyB3cmFwLCBpbml0IH0gPSByZXF1aXJlKCcuL3V0aWwnKTtcbmNvbnN0IHQgPSByZXF1aXJlKCcuLy4uL3RyYW5zbGF0b3InKS50cmFuc2xhdGUoJ2Jsb2Nrcy5iaWd0ZXh0LicpO1xuXG5mdW5jdGlvbiBnZXRDb2RlKCkge1xuICByZXR1cm4gYDxkaXYgY2xhc3M9XCJjZWxsXCI+PHAgY2xhc3M9XCJkZXNjXCI+JHt0KCdkZXNjcmlwdGlvbicpfTwvcD48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjZWxsXCI+PHRleHRhcmVhIGNsYXNzPVwiaW4gbmFtZSB0ZXh0XCI+PC90ZXh0YXJlYT48L2Rpdj5gO1xufVxuXG5mdW5jdGlvbiBhc3NlbWJsZSgpIHtcbiAgY29uc3QgYmxvY2sgPSB3cmFwKCdiaWd0ZXh0JywgZ2V0Q29kZSgpKTtcbiAgaW5pdChibG9jayk7XG4gIHJldHVybiBibG9jaztcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYXNzZW1ibGUgfTtcbiIsImNvbnN0IHsgd3JhcCwgaW5pdCB9ID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCB7IHJlYWQsIHdyaXRlIH0gPSByZXF1aXJlKCcuLy4uL2ZpZWxkcy9maWVsZHMnKTtcbmNvbnN0IHQgPSByZXF1aXJlKCcuLy4uL3RyYW5zbGF0b3InKS50cmFuc2xhdGUoJ2Jsb2Nrcy5jb3VudGxpc3QuJyk7XG5cbmZ1bmN0aW9uIHVwZGF0ZShlbCkge1xuICBjb25zdCByb3dzID0gW10uc2xpY2UuY2FsbChlbC5xdWVyeVNlbGVjdG9yQWxsKCcucm93JykpO1xuICBjb25zdCB0b3RhbCA9IHJvd3MucmVkdWNlKChhY2MsIHJvdykgPT4ge1xuICAgIGNvbnN0IHVuaXRzID0gcmVhZChyb3cucXVlcnlTZWxlY3RvcignLnVuaXRzJykpO1xuICAgIHJldHVybiBhY2MgKyB1bml0cztcbiAgfSwgMCk7XG4gIHdyaXRlKGVsLnF1ZXJ5U2VsZWN0b3IoJy50b3RhbCcpLCB0b3RhbCk7XG4gIGhpZGVFbXB0eShlbC5xdWVyeVNlbGVjdG9yQWxsKCcuY291bnRsaXN0LWl0ZW0nKSk7XG59XG5cbmZ1bmN0aW9uIGhpZGVFbXB0eShpdGVtcykge1xuICBsZXQgbGFzdEVtcHR5ID0gZmFsc2U7XG4gIFtdLnNsaWNlLmNhbGwoaXRlbXMpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSBpdGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XG4gICAgY29uc3QgZW1wdHkgPSB2YWx1ZXNbMF0udmFsdWUgPT09ICcnICYmIHZhbHVlc1sxXS52YWx1ZSA9PT0gJyc7XG4gICAgaWYgKGxhc3RFbXB0eSAmJiBlbXB0eSkge1xuICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgfVxuICAgIGxhc3RFbXB0eSA9IGVtcHR5O1xuICB9KTtcbn1cblxuY29uc3QgaGVhZGVyID0gYDxkaXYgY2xhc3M9XCJjZWxsXCI+PGRpdiBjbGFzcz1cImNvdW50bGlzdC1oZWFkZXIgZ3JpZC14XCI+XG4gICAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTEwXCI+PHAgY2xhc3M9XCJkZXNjXCI+JHt0KCd1bml0Jyl9PC9wPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjZWxsIG1lZGl1bS0yXCI+PHAgY2xhc3M9XCJkZXNjXCI+JHt0KCdjb3VudCcpfTwvcD48L2Rpdj5cbiAgPC9kaXY+PC9kaXY+YDtcbmNvbnN0IHJvdyA9IGA8ZGl2IGNsYXNzPVwicm93IGdyaWQteCBjb3VudGxpc3QtaXRlbVwiPlxuICAgIDxkaXYgY2xhc3M9XCJjZWxsIG1lZGl1bS0xMFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW4gdGV4dFwiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjZWxsIG1lZGl1bS0yXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJpbiBudW1iZXIgdW5pdHNcIj48L2Rpdj5cbiAgPC9kaXY+YDtcbmNvbnN0IHRvdGFscyA9IGA8ZGl2IGNsYXNzPVwidG90YWxzIGdyaWQteFwiPlxuICAgIDxkaXYgY2xhc3M9XCJjZWxsIG1lZGl1bS0xMFwiPjxwIGNsYXNzPVwiZGVzY1wiPiR7dCgndG90YWwnKX08L3A+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTJcIj48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm91dCBuYW1lIG51bWJlciB0b3RhbFwiPjwvZGl2PlxuICA8L2Rpdj5gO1xuXG5mdW5jdGlvbiBhc3NlbWJsZSgpIHtcbiAgY29uc3QgYmxvY2sgPSB3cmFwKCdjb3VudGxpc3QnLCBgJHtoZWFkZXJ9IDxkaXYgY2xhc3M9XCJjZWxsXCI+JHtyb3cucmVwZWF0KDEwKX0gJHt0b3RhbHN9PC9kaXY+YCk7XG4gIGluaXQoYmxvY2ssIHVwZGF0ZSk7XG4gIHJldHVybiBibG9jaztcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYXNzZW1ibGUsIHVwZGF0ZSB9O1xuIiwiY29uc3QgeyB3cmFwLCBpbml0IH0gPSByZXF1aXJlKCcuL3V0aWwnKTtcbmNvbnN0IHQgPSByZXF1aXJlKCcuLy4uL3RyYW5zbGF0b3InKS50cmFuc2xhdGUoJ2Jsb2Nrcy5kYXRlaW5wdXQuJyk7XG5cbmZ1bmN0aW9uIGdldENvZGUoKSB7XG4gIHJldHVybiBgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTNcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJpbiBuYW1lIGRhdGVcIj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTlcIj5cbiAgICAgICAgPHAgY2xhc3M9XCJkZXNjXCI+JHt0KCdkZXNjcmlwdGlvbicpfTwvcD5cbiAgICAgIDwvZGl2PmA7XG59XG5cbmZ1bmN0aW9uIGFzc2VtYmxlKCkge1xuICBjb25zdCBibG9jayA9IHdyYXAoJ2RhdGVpbnB1dCcsIGdldENvZGUoKSk7XG4gIGluaXQoYmxvY2spO1xuICByZXR1cm4gYmxvY2s7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7IGFzc2VtYmxlIH07XG4iLCJjb25zdCB7IHdyYXAsIGluaXQgfSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuY29uc3QgdCA9IHJlcXVpcmUoJy4vLi4vdHJhbnNsYXRvcicpLnRyYW5zbGF0ZSgnYmxvY2tzLmRhdGVvdXRwdXQuJyk7XG5cbmZ1bmN0aW9uIGdldENvZGUoKSB7XG4gIGNvbnN0IHRvZG8gPSBgPGRpdiBjbGFzcz1cImdyaWQteCB0b2RvXCI+XG4gICAgPGRpdiBjbGFzcz1cImNlbGwgc21hbGwtMVwiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjZWxsIHNtYWxsLTExXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj5cbiAgICAgICAgPGxhYmVsIGNsYXNzPVwiaW5wdXQtZ3JvdXAtbGFiZWxcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJpbiBjaGVja2JveFwiPjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5wdXQtZ3JvdXAtZmllbGQgaW4gdGV4dFwiPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PmA7XG5cbiAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiY2VsbCBtZWRpdW0tM1wiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm91dCBmb3JtdWxhIGRhdGVcIj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTlcIj5cbiAgICAgICAgPHAgY2xhc3M9XCJkZXNjXCI+JHt0KCdkZXNjcmlwdGlvbicpfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNlbGxcIj5cbiAgICAgICAgJHt0b2RvLnJlcGVhdCgxMCl9XG4gICAgICA8L2Rpdj5gO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoZWwpIHtcbiAgaGlkZUVtcHR5KGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy50b2RvJykpO1xufVxuXG5mdW5jdGlvbiBoaWRlRW1wdHkoaXRlbXMpIHtcbiAgbGV0IGxhc3RFbXB0eSA9IGZhbHNlO1xuICBbXS5zbGljZS5jYWxsKGl0ZW1zKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgY29uc3QgZW1wdHkgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwidGV4dFwiXScpLnZhbHVlID09PSAnJztcbiAgICBpZiAobGFzdEVtcHR5ICYmIGVtcHR5KSB7XG4gICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB9XG4gICAgbGFzdEVtcHR5ID0gZW1wdHk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhc3NlbWJsZSgpIHtcbiAgY29uc3QgYmxvY2sgPSB3cmFwKCdkYXRlb3V0cHV0JywgZ2V0Q29kZSgpKTtcbiAgaW5pdChibG9jaywgdXBkYXRlKTtcbiAgcmV0dXJuIGJsb2NrO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0geyBhc3NlbWJsZSB9O1xuIiwiY29uc3QgeyB3cmFwLCBpbml0IH0gPSByZXF1aXJlKCcuL3V0aWwnKTtcbmNvbnN0IHQgPSByZXF1aXJlKCcuLy4uL3RyYW5zbGF0b3InKS50cmFuc2xhdGUoJ2Jsb2Nrcy5kb3VibGV0ZXh0LicpO1xuXG5mdW5jdGlvbiBnZXRDb2RlKCkge1xuICByZXR1cm4gYDxkaXYgY2xhc3M9XCJjZWxsIG1lZGl1bS02XCI+XG4gICAgICA8cCBjbGFzcz1cImRlc2NcIj4ke3QoJ2Rlc2NyaXB0aW9uJyl9PC9wPlxuICAgICAgPHRleHRhcmVhIGNsYXNzPVwiaW4gbmFtZSB0ZXh0XCI+PC90ZXh0YXJlYT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2VsbCBtZWRpdW0tNlwiPlxuICAgICAgPHAgY2xhc3M9XCJkZXNjXCI+JHt0KCdkZXNjcmlwdGlvbicpfTwvcD5cbiAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImluIG5hbWUgdGV4dFwiPjwvdGV4dGFyZWE+XG4gICAgPC9kaXY+YDtcbn1cblxuZnVuY3Rpb24gYXNzZW1ibGUoKSB7XG4gIGNvbnN0IGJsb2NrID0gd3JhcCgnZG91YmxldGV4dCcsIGdldENvZGUoKSk7XG4gIGluaXQoYmxvY2spO1xuICByZXR1cm4gYmxvY2s7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7IGFzc2VtYmxlIH07XG4iLCJjb25zdCB7IHdyYXAsIGluaXQgfSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBnZXRDb2RlKCkge1xuICByZXR1cm4gJzxkaXYgY2xhc3M9XCJjZWxsXCI+PHAgc3R5bGU9XCJoZWlnaHQ6IDFyZW1cIj4mbmJzcDs8L3A+PC9kaXY+Jztcbn1cblxuZnVuY3Rpb24gYXNzZW1ibGUoKSB7XG4gIGNvbnN0IGJsb2NrID0gd3JhcCgnZmluYWwnLCBnZXRDb2RlKCkpO1xuICBpbml0KGJsb2NrKTtcbiAgcmV0dXJuIGJsb2NrO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0geyBhc3NlbWJsZSB9O1xuIiwiY29uc3QgeyB3cmFwLCBpbml0IH0gPSByZXF1aXJlKCcuL3V0aWwnKTtcbmNvbnN0IHQgPSByZXF1aXJlKCcuLy4uL3RyYW5zbGF0b3InKS50cmFuc2xhdGUoJ2Jsb2Nrcy5oZWFkZXIuJyk7XG5cbmZ1bmN0aW9uIGdldENvZGUoKSB7XG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTYgY2FyZC1pbmZvXCI+XG4gICAgICA8aDQgY2xhc3M9XCJkZXNjIGNhcmQtbmFtZVwiPiR7dCgndGl0bGUnKX08L2g0PlxuICAgICAgPHAgY2xhc3M9XCJkZXNjXCI+JHt0KCdzaG9ydCcpfTwvcD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2VsbCBtZWRpdW0tNiBjYXJkLWluZm9cIj5cbiAgICAgIDxoND4ke3QoJ2F1dGhvckhlYWRpbmcnKX08L2g0PlxuICAgICAgPHAgY2xhc3M9XCJkZXNjXCI+JHt0KCdhdXRob3InKX08L3A+XG4gICAgICA8aDQ+JHt0KCdsaWNlbnNlSGVhZGluZycpfTwvaDQ+XG4gICAgICA8cCBjbGFzcz1cImRlc2NcIj4ke3QoJ2xpY2Vuc2UnKX08L3A+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNlbGxcIj5cbiAgICAgIDxwPjxsYWJlbCBjbGFzcz1cImRlc2NcIj4ke3QoJ2FjdGl2aXR5TmFtZScpfTwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCBuYW1lPVwiX2FjdGl2aXR5LW5hbWVcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW4gdGV4dFwiPlxuICAgICAgPC9sYWJlbD48L3A+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTZcIj5cbiAgICAgIDxwPjxsYWJlbD5cbiAgICAgICAgJHt0KCdnb2FsJyl9PGJyPlxuICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJpbiB0ZXh0XCI+PC90ZXh0YXJlYT5cbiAgICAgIDwvbGFiZWw+PC9wPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjZWxsIG1lZGl1bS02XCI+XG4gICAgICA8cD48bGFiZWw+XG4gICAgICAgICR7dCgnbm90ZXMnKX08YnI+XG4gICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImluIHRleHRcIj48L3RleHRhcmVhPlxuICAgICAgPC9sYWJlbD48L3A+XG4gICAgPC9kaXY+YDtcbn1cblxuZnVuY3Rpb24gYXNzZW1ibGUoKSB7XG4gIGNvbnN0IGJsb2NrID0gd3JhcCgnaGVhZGVyJywgZ2V0Q29kZSgpKTtcbiAgaW5pdChibG9jayk7XG4gIHJldHVybiBibG9jaztcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYXNzZW1ibGUgfTtcbiIsImNvbnN0IHsgd3JhcCwgaW5pdCB9ID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCB7IHJlYWQgfSA9IHJlcXVpcmUoJy4vLi4vZmllbGRzL2ZpZWxkcycpO1xuY29uc3QgdCA9IHJlcXVpcmUoJy4vLi4vdHJhbnNsYXRvcicpLnRyYW5zbGF0ZSgnYmxvY2tzLmluZGljYXRvci4nKTtcblxuZnVuY3Rpb24gdXBkYXRlKGVsKSB7XG4gIGlmIChyZWFkKGVsLnF1ZXJ5U2VsZWN0b3IoJy5ib29sJykpKSB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZCgndHJ1ZScpO1xuICB9IGVsc2Uge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RydWUnKTtcbiAgfVxufVxuXG5jb25zdCBjb2RlID0gYFxuPGRpdiBjbGFzcz1cImNlbGwgaXMtdHJ1ZVwiPlxuICA8cCBjbGFzcz1cImljb25cIj48aSBjbGFzcz1cImZhIGZhLWNoZWNrXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvcD5cbiAgPHAgY2xhc3M9XCJkZXNjXCI+JHt0KCdpc1RydWUnKX08L3A+XG48L2Rpdj5cbjxkaXYgY2xhc3M9XCJjZWxsIGlzLWZhbHNlXCI+XG4gIDxwIGNsYXNzPVwiaWNvblwiPjxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9wPlxuICA8cCBjbGFzcz1cImRlc2NcIj4ke3QoJ2lzRmFsc2UnKX08L3A+XG48L2Rpdj5cbjxkaXYgY2xhc3M9XCJjZWxsIGhpZGUtaW4tZmlsbC1tb2RlXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJvdXQgbmFtZSBmb3JtdWxhIGJvb2xcIj48L2Rpdj5gO1xuXG5mdW5jdGlvbiBhc3NlbWJsZSgpIHtcbiAgY29uc3QgYmxvY2sgPSB3cmFwKCdpbmRpY2F0b3InLCBgJHtjb2RlfWApO1xuICBpbml0KGJsb2NrLCB1cGRhdGUpO1xuICByZXR1cm4gYmxvY2s7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7IGFzc2VtYmxlLCB1cGRhdGUgfTtcbiIsImNvbnN0IHsgd3JhcCwgaW5pdCB9ID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCB0ID0gcmVxdWlyZSgnLi8uLi90cmFuc2xhdG9yJykudHJhbnNsYXRlKCdibG9ja3Mubm90ZS4nKTtcblxuZnVuY3Rpb24gZ2V0Q29kZSgpIHtcbiAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiY2VsbFwiPjxwIGNsYXNzPVwiZGVzY1wiPiR7dCgndGV4dCcpfTwvcD48L2Rpdj5gO1xufVxuXG5mdW5jdGlvbiBhc3NlbWJsZSgpIHtcbiAgY29uc3QgYmxvY2sgPSB3cmFwKCdub3RlJywgZ2V0Q29kZSgpKTtcbiAgaW5pdChibG9jayk7XG4gIHJldHVybiBibG9jaztcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYXNzZW1ibGUgfTtcbiIsImNvbnN0IHsgd3JhcCwgaW5pdCB9ID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCB0ID0gcmVxdWlyZSgnLi8uLi90cmFuc2xhdG9yJykudHJhbnNsYXRlKCdibG9ja3MubnVtYmVyLicpO1xuXG5mdW5jdGlvbiBnZXRDb2RlKCkge1xuICByZXR1cm4gYDxkaXYgY2xhc3M9XCJjZWxsIG1lZGl1bS0zXCI+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJpbiBuYW1lIG51bWJlclwiPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTlcIj5cbiAgICA8cCBjbGFzcz1cImRlc2NcIj4ke3QoJ2Rlc2NyaXB0aW9uJyl9PC9wPlxuICA8L2Rpdj5cbiAgYDtcbn1cblxuZnVuY3Rpb24gYXNzZW1ibGUoKSB7XG4gIGNvbnN0IGJsb2NrID0gd3JhcCgnbnVtYmVyJywgZ2V0Q29kZSgpKTtcbiAgaW5pdChibG9jayk7XG4gIHJldHVybiBibG9jaztcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYXNzZW1ibGUgfTtcbiIsImNvbnN0IHsgd3JhcCwgaW5pdCB9ID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCB7IHJlYWQsIHdyaXRlIH0gPSByZXF1aXJlKCcuLy4uL2ZpZWxkcy9maWVsZHMnKTtcbmNvbnN0IHQgPSByZXF1aXJlKCcuLy4uL3RyYW5zbGF0b3InKS50cmFuc2xhdGUoJ2Jsb2Nrcy5wcmljZWxpc3QuJyk7XG5cbmZ1bmN0aW9uIHVwZGF0ZShlbCkge1xuICBjb25zdCByb3dzID0gW10uc2xpY2UuY2FsbChlbC5xdWVyeVNlbGVjdG9yQWxsKCcucm93JykpO1xuICBjb25zdCB0b3RhbCA9IHJvd3MucmVkdWNlKChhY2MsIHJvdykgPT4ge1xuICAgIGNvbnN0IHByaWNlID0gcmVhZChyb3cucXVlcnlTZWxlY3RvcignLnByaWNlJykpO1xuICAgIGNvbnN0IHVuaXRzID0gcmVhZChyb3cucXVlcnlTZWxlY3RvcignLnVuaXRzJykpO1xuICAgIHdyaXRlKHJvdy5xdWVyeVNlbGVjdG9yKCcuc3VidG90YWwnKSwgcHJpY2UgKiB1bml0cyk7XG4gICAgcmV0dXJuIGFjYyArIChwcmljZSAqIHVuaXRzKTtcbiAgfSwgMCk7XG4gIHdyaXRlKGVsLnF1ZXJ5U2VsZWN0b3IoJy50b3RhbCcpLCB0b3RhbCk7XG4gIGhpZGVFbXB0eShlbC5xdWVyeVNlbGVjdG9yQWxsKCcucHJpY2VsaXN0LWl0ZW0nKSk7XG59XG5cbmZ1bmN0aW9uIGhpZGVFbXB0eShpdGVtcykge1xuICBsZXQgbGFzdEVtcHR5ID0gZmFsc2U7XG4gIFtdLnNsaWNlLmNhbGwoaXRlbXMpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSBpdGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XG4gICAgY29uc3QgZW1wdHkgPSB2YWx1ZXNbMF0udmFsdWUgPT09ICcnICYmIHZhbHVlc1sxXS52YWx1ZSA9PT0gJycgJiYgdmFsdWVzWzJdLnZhbHVlID09PSAnJztcbiAgICBpZiAobGFzdEVtcHR5ICYmIGVtcHR5KSB7XG4gICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB9XG4gICAgbGFzdEVtcHR5ID0gZW1wdHk7XG4gIH0pO1xufVxuY29uc3QgaGVhZGVyID0gYDxkaXYgY2xhc3M9XCJjZWxsXCI+PGRpdiBjbGFzcz1cInByaWNlbGlzdC1oZWFkZXIgZ3JpZC14XCI+XG4gICAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTZcIj48cCBjbGFzcz1cImRlc2NcIj4ke3QoJ2l0ZW0nKX08L3A+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTJcIj48cCBjbGFzcz1cImRlc2NcIj4ke3QoJ3ByaWNlJyl9PC9wPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjZWxsIG1lZGl1bS0yXCI+PHAgY2xhc3M9XCJkZXNjXCI+JHt0KCdjb3VudCcpfTwvcD48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2VsbCBtZWRpdW0tMlwiPjxwIGNsYXNzPVwiZGVzY1wiPiR7dCgndG90YWwnKX08L3A+PC9kaXY+XG4gIDwvZGl2PjwvZGl2PmA7XG5jb25zdCByb3cgPSBgPGRpdiBjbGFzcz1cInJvdyBncmlkLXggcHJpY2VsaXN0LWl0ZW1cIj5cbiAgICA8ZGl2IGNsYXNzPVwiY2VsbCBtZWRpdW0tNlwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW4gdGV4dFwiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjZWxsIG1lZGl1bS0yXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJpbiBudW1iZXIgcHJpY2VcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2VsbCBtZWRpdW0tMlwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW4gbnVtYmVyIHVuaXRzXCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTJcIj48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm91dCBudW1iZXIgc3VidG90YWxcIj48L2Rpdj5cbiAgPC9kaXY+YDtcbmNvbnN0IHRvdGFscyA9IGA8ZGl2IGNsYXNzPVwidG90YWxzIGdyaWQteFwiPlxuICAgIDxkaXYgY2xhc3M9XCJjZWxsIG1lZGl1bS02XCI+PHAgY2xhc3M9XCJkZXNjXCI+JHt0KCd0b3RhbCcpfTwvcD48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2VsbCBtZWRpdW0tNlwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwib3V0IG5hbWUgbnVtYmVyIHRvdGFsXCI+PC9kaXY+XG4gIDwvZGl2PmA7XG5cbmZ1bmN0aW9uIGFzc2VtYmxlKCkge1xuICBjb25zdCBibG9jayA9IHdyYXAoJ3ByaWNlbGlzdCcsIGAke2hlYWRlcn0gPGRpdiBjbGFzcz1cImNlbGxcIj4ke3Jvdy5yZXBlYXQoMTApfSAke3RvdGFsc308L2Rpdj5gKTtcbiAgaW5pdChibG9jaywgdXBkYXRlKTtcbiAgcmV0dXJuIGJsb2NrO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0geyBhc3NlbWJsZSwgdXBkYXRlIH07XG4iLCJjb25zdCB7IHdyYXAgfSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBhc3NlbWJsZSgpIHtcbiAgcmV0dXJuIHdyYXAoJ3NlcGFyYXRvcicsICc8ZGl2IGNsYXNzPVwiY2VsbFwiPjxocj48L2Rpdj4nKTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYXNzZW1ibGUgfTtcbiIsImNvbnN0IHsgd3JhcCwgaW5pdCB9ID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCB0ID0gcmVxdWlyZSgnLi8uLi90cmFuc2xhdG9yJykudHJhbnNsYXRlKCdibG9ja3Muc3ViaGVhZC4nKTtcblxuZnVuY3Rpb24gZ2V0Q29kZSgpIHtcbiAgcmV0dXJuIGBcbiAgICA8ZGl2IGNsYXNzPVwiY2VsbFwiPlxuICAgICAgPGg0IGNsYXNzPVwiZGVzYyBjYXJkLW5hbWVcIj4ke3QoJ3RleHQnKX08L2g0PlxuICAgIDwvZGl2PmA7XG59XG5cbmZ1bmN0aW9uIGFzc2VtYmxlKCkge1xuICBjb25zdCBibG9jayA9IHdyYXAoJ3N1YmhlYWQnLCBnZXRDb2RlKCkpO1xuICBpbml0KGJsb2NrKTtcbiAgcmV0dXJuIGJsb2NrO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0geyBhc3NlbWJsZSB9O1xuIiwiY29uc3QgeyB3cmFwLCBpbml0IH0gPSByZXF1aXJlKCcuL3V0aWwnKTtcbmNvbnN0IHQgPSByZXF1aXJlKCcuLy4uL3RyYW5zbGF0b3InKS50cmFuc2xhdGUoJ2Jsb2Nrcy5zdW0uJyk7XG5cbmZ1bmN0aW9uIGdldENvZGUoKSB7XG4gIHJldHVybiBgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTZcIj5cbiAgICA8cCBjbGFzcz1cImRlc2NcIj4ke3QoJ2Rlc2NyaXB0aW9uJyl9PC9wPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cImNlbGwgbWVkaXVtLTZcIj5cbiAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm91dCBuYW1lIGZvcm11bGEgbnVtYmVyXCI+XG4gIDwvZGl2PmA7XG59XG5cbmZ1bmN0aW9uIGFzc2VtYmxlKCkge1xuICBjb25zdCBibG9jayA9IHdyYXAoJ3N1bScsIGdldENvZGUoKSk7XG4gIGluaXQoYmxvY2spO1xuICByZXR1cm4gYmxvY2s7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7IGFzc2VtYmxlIH07XG4iLCJjb25zdCB7IGFsbEFycmF5IH0gPSByZXF1aXJlKCcuLy4uL3V0aWwuanMnKTtcbmNvbnN0IGZpZWxkcyA9IHJlcXVpcmUoJy4vLi4vZmllbGRzL2ZpZWxkcycpO1xuY29uc3QgYXV0b3NpemUgPSByZXF1aXJlKCdhdXRvc2l6ZScpO1xuXG5jb25zdCBiaWd0ZXh0ID0gcmVxdWlyZSgnLi9fYmlndGV4dCcpO1xuY29uc3QgY291bnRsaXN0ID0gcmVxdWlyZSgnLi9fY291bnRsaXN0Jyk7XG5jb25zdCBkYXRlaW5wdXQgPSByZXF1aXJlKCcuL19kYXRlaW5wdXQnKTtcbmNvbnN0IGRhdGVvdXRwdXQgPSByZXF1aXJlKCcuL19kYXRlb3V0cHV0Jyk7XG5jb25zdCBkb3VibGV0ZXh0ID0gcmVxdWlyZSgnLi9fZG91YmxldGV4dCcpO1xuY29uc3QgZmluYWwgPSByZXF1aXJlKCcuL19maW5hbCcpO1xuY29uc3QgaGVhZGVyID0gcmVxdWlyZSgnLi9faGVhZGVyJyk7XG5jb25zdCBpbmRpY2F0b3IgPSByZXF1aXJlKCcuL19pbmRpY2F0b3InKTtcbmNvbnN0IHByaWNlbGlzdCA9IHJlcXVpcmUoJy4vX3ByaWNlbGlzdCcpO1xuY29uc3Qgbm90ZSA9IHJlcXVpcmUoJy4vX25vdGUnKTtcbmNvbnN0IG51bWJlciA9IHJlcXVpcmUoJy4vX251bWJlcicpO1xuY29uc3Qgc2VwYXJhdG9yID0gcmVxdWlyZSgnLi9fc2VwYXJhdG9yJyk7XG5jb25zdCBzdWJoZWFkID0gcmVxdWlyZSgnLi9fc3ViaGVhZCcpO1xuY29uc3Qgc3VtID0gcmVxdWlyZSgnLi9fc3VtJyk7XG5cbmNvbnN0IGFsbCA9IHtcbiAgYmlndGV4dCxcbiAgY291bnRsaXN0LFxuICBkYXRlaW5wdXQsXG4gIGRhdGVvdXRwdXQsXG4gIGRvdWJsZXRleHQsXG4gIGZpbmFsLFxuICBoZWFkZXIsXG4gIGluZGljYXRvcixcbiAgcHJpY2VsaXN0LFxuICBub3RlLFxuICBudW1iZXIsXG4gIHNlcGFyYXRvcixcbiAgc3ViaGVhZCxcbiAgc3VtLFxufTtcblxuY29uc3QgbmF2ID0ge1xuICB0ZXh0OiBbXG4gICAgJ2JpZ3RleHQnLFxuICAgICdkb3VibGV0ZXh0JyxcbiAgICAnLS0tJyxcbiAgICAnbnVtYmVyJyxcbiAgICAnc3VtJyxcbiAgICAnLS0tJyxcbiAgICAnZGF0ZWlucHV0JyxcbiAgICAnZGF0ZW91dHB1dCcsXG4gIF0sXG4gIGxpc3Q6IFtcbiAgICAnY291bnRsaXN0JyxcbiAgICAncHJpY2VsaXN0JyxcbiAgXSxcbiAgY29udGV4dDogW1xuICAgICdzdWJoZWFkJyxcbiAgICAnbm90ZScsXG4gICAgJ3NlcGFyYXRvcicsXG4gICAgJy0tLScsXG4gICAgJ2luZGljYXRvcicsXG4gIF0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGUodHlwZSwgZGF0YSkge1xuICBjb25zdCBibG9jayA9IGFsbFt0eXBlXS5hc3NlbWJsZSgpO1xuICBpZiAoZGF0YSkgZmlsbChibG9jaywgZGF0YSk7XG4gIGlmIChhbGxbdHlwZV0udXBkYXRlKSBhbGxbdHlwZV0udXBkYXRlKGJsb2NrKTtcbiAgYXV0b3NpemUoYmxvY2sucXVlcnlTZWxlY3RvckFsbCgndGV4dGFyZWEnKSk7XG4gIHJldHVybiBibG9jaztcbn1cblxuZnVuY3Rpb24gcG9sbCh3cmFwcGVyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogd3JhcHBlci5kYXRhc2V0LnR5cGUsXG4gICAgZGF0YToge1xuICAgICAgaW5wdXRzOiBwb2xsRmllbGRUeXBlKHdyYXBwZXIsICcuaW4nKSxcbiAgICAgIGRlc2NyaXB0aW9uczogcG9sbEZpZWxkVHlwZSh3cmFwcGVyLCAnLmRlc2MnKSxcbiAgICAgIG5hbWVzOiBwb2xsTmFtZXMod3JhcHBlciksXG4gICAgICBmb3JtdWxhczogcG9sbEZvcm11bGFzKHdyYXBwZXIpLFxuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBvbGxGaWVsZFR5cGUod3JhcHBlciwgZmllbGROYW1lKSB7XG4gIHJldHVybiBhbGxBcnJheSh3cmFwcGVyLCBmaWVsZE5hbWUpLm1hcChlbCA9PiBmaWVsZHMucmVhZChlbCkpO1xufVxuXG5mdW5jdGlvbiBwb2xsTmFtZXMod3JhcHBlcikge1xuICByZXR1cm4gYWxsQXJyYXkod3JhcHBlciwgJy5uYW1lLXNldHRlcicpLm1hcChlbCA9PiBlbC52YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHBvbGxGb3JtdWxhcyh3cmFwcGVyKSB7XG4gIHJldHVybiBhbGxBcnJheSh3cmFwcGVyLCAnLmZvcm11bGEtc2V0dGVyJykubWFwKGVsID0+IGVsLnZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZmlsbCh3cmFwcGVyLCBkYXRhKSB7XG4gIGZpbGxGaWVsZFR5cGUod3JhcHBlciwgJy5pbicsIGRhdGEuaW5wdXRzKTtcbiAgZmlsbEZpZWxkVHlwZSh3cmFwcGVyLCAnLmRlc2MnLCBkYXRhLmRlc2NyaXB0aW9ucyk7XG4gIGZpbGxOYW1lcyh3cmFwcGVyLCBkYXRhLm5hbWVzKTtcbiAgZmlsbEZvcm11bGFzKHdyYXBwZXIsIGRhdGEuZm9ybXVsYXMpO1xufVxuXG5mdW5jdGlvbiBmaWxsRmllbGRUeXBlKHdyYXBwZXIsIGZpZWxkTmFtZSwgZGF0YSkge1xuICBpZiAoZGF0YSkge1xuICAgIGFsbEFycmF5KHdyYXBwZXIsIGZpZWxkTmFtZSkuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoZGF0YVtpbmRleF0pIGZpZWxkcy53cml0ZShlbCwgZGF0YVtpbmRleF0pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbGxOYW1lcyh3cmFwcGVyLCBkYXRhKSB7XG4gIGlmIChkYXRhKSB7XG4gICAgYWxsQXJyYXkod3JhcHBlciwgJy5uYW1lLXNldHRlcicpLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGRhdGFbaW5kZXhdKSB7XG4gICAgICAgIGVsLnZhbHVlID0gZGF0YVtpbmRleF07XG4gICAgICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaWxsRm9ybXVsYXMod3JhcHBlciwgZGF0YSkge1xuICBpZiAoZGF0YSkge1xuICAgIGFsbEFycmF5KHdyYXBwZXIsICcuZm9ybXVsYS1zZXR0ZXInKS5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChkYXRhW2luZGV4XSkge1xuICAgICAgICBlbC52YWx1ZSA9IGRhdGFbaW5kZXhdO1xuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlLFxuICBwb2xsLFxuICBmaWxsLFxuICBhbGwsXG4gIG5hdixcbn07XG4iLCJjb25zdCB7IGFsbEFycmF5IH0gPSByZXF1aXJlKCcuLy4uL3V0aWwuanMnKTtcbmNvbnN0IGZpZWxkcyA9IHJlcXVpcmUoJy4vLi4vZmllbGRzL2ZpZWxkcycpO1xuY29uc3QgdCA9IHJlcXVpcmUoJy4vLi4vdHJhbnNsYXRvcicpLnRyYW5zbGF0ZTtcblxuZnVuY3Rpb24gd3JhcCh0eXBlLCBodG1sKSB7XG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdncmlkLXgnKTtcbiAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdncmlkLW1hcmdpbi14Jyk7XG4gIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnYmxvY2snKTtcbiAgd3JhcHBlci5kYXRhc2V0LnR5cGUgPSB0eXBlO1xuICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoYGJsb2NrLSR7dHlwZX1gKTtcbiAgd3JhcHBlci5pbm5lckhUTUwgPSBodG1sO1xuICBjb25zdCB0b29scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuICB0b29scy5jbGFzc0xpc3QuYWRkKCdjZWxsJyk7XG4gIHRvb2xzLmNsYXNzTGlzdC5hZGQoJ2Jsb2NrLXRvb2xzJyk7XG4gIHRvb2xzLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwiZXh0ZXJuYWwtdG9vbHNcIj5cbiAgICAgIDxhIGNsYXNzPVwiYWRkLWJsb2NrIHRvb2xcIj48aSBjbGFzcz1cImZhIGZhLXBsdXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9hPlxuICAgIDwvZGl2PlxuICAgIDxwIGNsYXNzPVwiaW50ZXJuYWwtdG9vbHNcIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiYmxvY2staGFuZGxlXCI+XG4gICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtYmFyc1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgJHt0KCdibG9ja3MnLCB0eXBlLCAnbmFtZScpfVxuICAgICAgPC9zcGFuPlxuICAgICAgPGEgY2xhc3M9XCJyZW1vdmUtYmxvY2sgdG9vbFwiPlxuICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXRpbWVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgPC9hPlxuICAgIDwvcD5gO1xuICB3cmFwcGVyLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIHRvb2xzKTtcbiAgcmV0dXJuIHdyYXBwZXI7XG59XG5cbmZ1bmN0aW9uIGluaXQod3JhcHBlciwgdXBkYXRlKSB7XG4gIE9iamVjdC5rZXlzKGZpZWxkcy5hbGwpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGFsbEFycmF5KHdyYXBwZXIsIGAuJHtrZXl9YCkuZm9yRWFjaChlbCA9PiBmaWVsZHMuYWxsW2tleV0uaW5pdChlbCkpO1xuICB9KTtcbiAgd3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdleHRlcm5hbFVwZGF0ZScsICgpID0+IHtcbiAgICBpZiAodXBkYXRlKSB1cGRhdGUod3JhcHBlcik7XG4gIH0pO1xuICBhbGxBcnJheSh3cmFwcGVyLCAnLmluJykuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBpZiAodXBkYXRlKSB1cGRhdGUod3JhcHBlcik7XG4gIH0pKTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgd3JhcCwgaW5pdCB9O1xuIiwiY29uc3Qgc29ydGFibGUgPSByZXF1aXJlKCdzb3J0YWJsZWpzJyk7XG5jb25zdCBhdXRvc2l6ZSA9IHJlcXVpcmUoJ2F1dG9zaXplJyk7XG5jb25zdCBmaWVsZHMgPSByZXF1aXJlKCcuL2ZpZWxkcy9maWVsZHMnKTtcbmNvbnN0IHBhcnNlciA9IHJlcXVpcmUoJ2V4cHItZXZhbCcpLlBhcnNlcjtcblxuY29uc3Qgc3RvcmUgPSByZXF1aXJlKCcuL3N0b3JlJyk7XG5jb25zdCBibG9ja3MgPSByZXF1aXJlKCcuL2Jsb2Nrcy9ibG9ja3MnKTtcbmNvbnN0IHdvcmtzcGFjZSA9IHJlcXVpcmUoJy4vd29ya3NwYWNlJyk7XG5jb25zdCB0ID0gcmVxdWlyZSgnLi90cmFuc2xhdG9yJykudHJhbnNsYXRlO1xuY29uc3Qge1xuICBhbGxBcnJheSxcbiAgZmluZEFuY2VzdG9yLFxuICBzZXRDbGFzc2VzLFxufSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5jb25zdCBjYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQnKTtcblxuY29uc3QgYXV0b3NhdmVJbnRlcnZhbCA9IDUwMDA7XG5sZXQgYXV0b3NhdmVUaW1lcjtcblxuY29uc3QgdXBkYXRlSW50ZXJ2YWwgPSAxODA7XG5sZXQgdXBkYXRlVGltZXI7XG5cbmxldCBibG9ja1NvcnQ7XG5cblxuZnVuY3Rpb24gZ2V0TmFtZSgpIHtcbiAgY29uc3QgbmFtZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9XCJfYWN0aXZpdHktbmFtZVwiXScpO1xuICByZXR1cm4gKG5hbWVFbCAmJiBuYW1lRWwudmFsdWUpID8gbmFtZUVsLnZhbHVlIDogJ2thcnRhJztcbn1cblxuZnVuY3Rpb24gZ2V0VGVtcGxhdGVOYW1lKCkge1xuICBjb25zdCBuYW1lRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1uYW1lJyk7XG4gIHJldHVybiAobmFtZUVsICYmIG5hbWVFbC5pbm5lckhUTUwpID8gbmFtZUVsLmlubmVySFRNTCA6ICfFoWFibG9uYSc7XG59XG5cbmNvbnN0IGJsb2NrQWN0aW9ucyA9IHtcbiAgJ3N3YXAtYmxvY2tzJzogKGJ1dHRvbikgPT4ge1xuICAgIGNvbnN0IGJsb2NrID0gZmluZEFuY2VzdG9yKGJ1dHRvbiwgJ2Jsb2NrJyk7XG4gICAgY29uc3QgcHJldmlvdXMgPSBibG9jay5wcmV2aW91c1NpYmxpbmc7XG4gICAgaWYgKHByZXZpb3VzKSBibG9jay5wYXJlbnROb2RlLmluc2VydEJlZm9yZShibG9jaywgcHJldmlvdXMpO1xuICB9LFxuICAncmVtb3ZlLWJsb2NrJzogKGJ1dHRvbikgPT4ge1xuICAgIGNvbnN0IGJsb2NrID0gZmluZEFuY2VzdG9yKGJ1dHRvbiwgJ2Jsb2NrJyk7XG4gICAgYmxvY2sucmVtb3ZlKCk7XG4gIH0sXG4gICdhZGQtYmxvY2snOiAoYnV0dG9uKSA9PiB7XG4gICAgaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ29wZW5lZCcpKSB7XG4gICAgICBmaW5kQW5jZXN0b3IoYnV0dG9uLCAnYmxvY2stdG9vbHMnKS5xdWVyeVNlbGVjdG9yKCcuYWRkLWJsb2NrLXRvb2wnKS5yZW1vdmUoKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdG9vbHMgPSBmaW5kQW5jZXN0b3IoYnV0dG9uLCAnYmxvY2stdG9vbHMnKTtcbiAgICAgIHRvb2xzLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlZW5kJywgY3JlYXRlQWRkQmxvY2tUb29sKCkpO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ29wZW5lZCcpO1xuICAgIH1cbiAgfSxcbiAgJ2FkZC1ibG9jay10eXBlJzogKGJ1dHRvbikgPT4ge1xuICAgIGNvbnN0IGJsb2NrID0gZmluZEFuY2VzdG9yKGJ1dHRvbiwgJ2Jsb2NrJyk7XG4gICAgY29uc3QgbmV3QmxvY2sgPSBibG9ja3MuY3JlYXRlKGJ1dHRvbi5kYXRhc2V0LnR5cGUpO1xuICAgIGJsb2NrLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBuZXdCbG9jayk7XG4gICAgYWxsQXJyYXkobmV3QmxvY2ssICcuZGVzYycpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsICd0cnVlJyk7XG4gICAgfSk7XG4gICAgZmluZEFuY2VzdG9yKGJ1dHRvbiwgJ2Jsb2NrLXRvb2xzJykucXVlcnlTZWxlY3RvcignLmFkZC1ibG9jaycpLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW5lZCcpO1xuICAgIGZpbmRBbmNlc3RvcihidXR0b24sICdhZGQtYmxvY2stdG9vbCcpLnJlbW92ZSgpO1xuICB9LFxufTtcblxuZnVuY3Rpb24gdHJpZ2dlckJsb2NrVG9vbEFjdGlvbihlKSB7XG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndG9vbCcpXG4gICAgPyBlLnRhcmdldFxuICAgIDogZS50YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3Rvb2wnKVxuICAgICAgPyBlLnRhcmdldC5wYXJlbnROb2RlXG4gICAgICA6IG51bGw7XG5cbiAgaWYgKHRhcmdldCkge1xuICAgIE9iamVjdC5rZXlzKGJsb2NrQWN0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhrZXkpKSBibG9ja0FjdGlvbnNba2V5XSh0YXJnZXQpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFkZEJsb2NrVG9vbCgpIHtcbiAgY29uc3QgYWRkQmxvY2tUb29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XG4gIGFkZEJsb2NrVG9vbC5jbGFzc0xpc3QuYWRkKCdhZGQtYmxvY2stdG9vbCcpO1xuICBhZGRCbG9ja1Rvb2wuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJhcnJvdy11cFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJjb250ZW50IGdyaWQteCBncmlkLW1hcmdpbi14XCI+PC9kaXY+JztcbiAgY29uc3QgY29udGVudCA9IGFkZEJsb2NrVG9vbC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpO1xuXG4gIE9iamVjdC5rZXlzKGJsb2Nrcy5uYXYpLmZvckVhY2goKG5hdkdyb3VwKSA9PiB7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgY29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKTtcblxuICAgIHNldENsYXNzZXMoc2VjdGlvbiwgWydjZWxsJywgJ21lZGl1bS00J10pO1xuICAgIHNlY3Rpb24uaW5uZXJIVE1MID0gYDxwPiR7dCgnYmxvY2tOYXYnLCBuYXZHcm91cCl9PC9wPmA7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoc2VjdGlvbik7XG5cbiAgICBibG9ja3MubmF2W25hdkdyb3VwXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmIChrZXkgPT09ICctLS0nKSB7XG4gICAgICAgIHNlY3Rpb24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSFInKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBibG9ja0xpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdBJyk7XG4gICAgICAgIHNldENsYXNzZXMoYmxvY2tMaW5rLCBbJ3Rvb2wnLCAnYWRkLWJsb2NrLXR5cGUnXSk7XG4gICAgICAgIGJsb2NrTGluay5kYXRhc2V0LnR5cGUgPSBrZXk7XG4gICAgICAgIGJsb2NrTGluay5pbm5lckhUTUwgPSB0KCdibG9ja3MnLCBrZXksICduYW1lJyk7XG4gICAgICAgIHNlY3Rpb24uYXBwZW5kQ2hpbGQoYmxvY2tMaW5rKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICB9KTtcblxuICByZXR1cm4gYWRkQmxvY2tUb29sO1xufVxuXG5mdW5jdGlvbiBwb2xsRGF0YShlbXB0eSkge1xuICBjb25zdCBjYXJkRXhwb3J0ID0gW107XG4gIGFsbEFycmF5KGNhcmQsICcuYmxvY2snKS5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgIGNvbnN0IGluZm8gPSBibG9ja3MucG9sbChibG9jayk7XG4gICAgaWYgKGVtcHR5KSBpbmZvLmRhdGEuaW5wdXRzID0gW107XG4gICAgY2FyZEV4cG9ydC5wdXNoKGluZm8pO1xuICB9KTtcbiAgcmV0dXJuIGNhcmRFeHBvcnQ7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0QXV0b3NhdmUoKSB7XG4gIGNsZWFySW50ZXJ2YWwoYXV0b3NhdmVUaW1lcik7XG4gIGF1dG9zYXZlVGltZXIgPSBzZXRJbnRlcnZhbChzYXZlLCBhdXRvc2F2ZUludGVydmFsKTtcbn1cblxuZnVuY3Rpb24gc3RvcEF1dG9zYXZlKCkge1xuICBjbGVhckludGVydmFsKGF1dG9zYXZlVGltZXIpO1xufVxuXG5cbmZ1bmN0aW9uIGRvd25sb2FkKCkge1xuICBzdG9yZS5leHBvcnRDYXJkKGdldE5hbWUoKSwgcG9sbERhdGEoKSk7XG59XG5cbmZ1bmN0aW9uIGRvd25sb2FkVGVtcGxhdGUoKSB7XG4gIHN0b3JlLmV4cG9ydENhcmQoZ2V0VGVtcGxhdGVOYW1lKCksIHBvbGxEYXRhKHRydWUpKTtcbn1cblxuZnVuY3Rpb24gZmlsZUltcG9ydChmaWxlcywgY2FsbGJhY2spIHtcbiAgc3RvcmUuaW1wb3J0RnJvbUZpbGUoZmlsZXMsIGNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gdXJsSW1wb3J0KHF1ZXJ5LCBjYWxsYmFjaykge1xuICBpZiAocXVlcnkuY2FyZHVybCkge1xuICAgIHN0b3JlLmltcG9ydEZyb21VcmwocXVlcnkuY2FyZHVybCwgY2FsbGJhY2spO1xuICB9IGVsc2UgaWYgKHF1ZXJ5LmNhcmRqc29uKSB7XG4gICAgc3RvcmUuaW1wb3J0RnJvbUVuY29kZWRTdHJpbmcocXVlcnkuY2FyZGpzb24sIGNhbGxiYWNrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBsb2FkKGRhdGEpIHtcbiAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIGRhdGEuZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChibG9ja3MuY3JlYXRlKGJsb2NrLnR5cGUsIGJsb2NrLmRhdGEpKTtcbiAgfSk7XG4gIGNhcmQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICB1cGRhdGUoKTtcbiAgc3RhcnRBdXRvc2F2ZSgpO1xuXG4gIGlmIChibG9ja1NvcnQpIGJsb2NrU29ydC5kZXN0cm95KCk7XG4gIGJsb2NrU29ydCA9IHNvcnRhYmxlLmNyZWF0ZShjYXJkLCB7XG4gICAgYW5pbWF0aW9uOiAxNTAsXG4gICAgaGFuZGxlOiAnLmJsb2NrLWhhbmRsZScsXG4gICAgZHJhZ2dhYmxlOiAnLmJsb2NrJyxcbiAgICBmaWx0ZXI6ICcuYmxvY2staGVhZGVyLCAuYmxvY2stZmluYWwnLFxuICAgIHByZXZlbnRPbkZpbHRlcjogZmFsc2UsXG4gICAgZ2hvc3RDbGFzczogJ3NvcnRhYmxlLWdob3N0JyxcbiAgICBjaG9zZW5DbGFzczogJ3NvcnRhYmxlLWNob3NlbicsXG4gICAgZHJhZ0NsYXNzOiAnc29ydGFibGUtZHJhZycsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjbG9zZSgpIHtcbiAgc3RvcEF1dG9zYXZlKCk7XG4gIHNhdmUoKTtcbiAgd29ya3NwYWNlLmNsb3NlKCk7XG5cbiAgY2FyZC5pbm5lckhUTUwgPSAnJztcbn1cblxuZnVuY3Rpb24gc2F2ZSgpIHtcbiAgd29ya3NwYWNlLnNhdmUocG9sbERhdGEoKSwgZ2V0VGVtcGxhdGVOYW1lKCksIGdldE5hbWUoKSk7XG59XG5cblxuY29uc3QgY3VzdG9tRnVuY3Rpb25zID0ge1xuICBkYXlzQWZ0ZXI6IChkYXRlLCBkYXlzKSA9PiBkYXRlLmNsb25lKCkuYWRkKGRheXMsICdkYXlzJyksXG4gIGRheXNCZWZvcmU6IChkYXRlLCBkYXlzKSA9PiBkYXRlLmNsb25lKCkuc3VidHJhY3QoZGF5cywgJ2RheXMnKSxcbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgY29uc3QgdmFyaWFibGVzID0gT2JqZWN0LmFzc2lnbih7fSwgY29sbGVjdFZhcmlhYmxlcygpLCBjdXN0b21GdW5jdGlvbnMpO1xuICB1cGRhdGVGb3JtdWxhUmVzdWx0cyh2YXJpYWJsZXMpO1xuICBhdXRvc2l6ZS51cGRhdGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGV4dGFyZWEnKSk7XG59XG5cbmZ1bmN0aW9uIHNvZnRVcGRhdGUoKSB7XG4gIGNsZWFyVGltZW91dCh1cGRhdGVUaW1lcik7XG4gIHVwZGF0ZVRpbWVyID0gc2V0VGltZW91dCh1cGRhdGUsIHVwZGF0ZUludGVydmFsKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRm9ybXVsYVJlc3VsdHModmFyaWFibGVzKSB7XG4gIGFsbEFycmF5KGNhcmQsICcuZm9ybXVsYScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgaWYgKGVsLmRhdGFzZXQuZm9ybXVsYSkge1xuICAgICAgZmllbGRzLndyaXRlKGVsLCBwYXJzZXIuZXZhbHVhdGUoZWwuZGF0YXNldC5mb3JtdWxhLCB2YXJpYWJsZXMpKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZmluZEFuY2VzdG9yKGVsLCAnYmxvY2snKTtcbiAgICAgIGJsb2NrLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdleHRlcm5hbFVwZGF0ZScpKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0VmFyaWFibGVzKCkge1xuICByZXR1cm4gYWxsQXJyYXkoY2FyZCwgJ1tuYW1lXScpLnJlZHVjZSgoYWNjLCBlbCkgPT4ge1xuICAgIGFjY1tlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKV0gPSBmaWVsZHMucmVhZChlbCk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBsb2FkLFxuICBjbG9zZSxcbiAgdXJsSW1wb3J0LFxuICBmaWxlSW1wb3J0LFxuICBkb3dubG9hZCxcbiAgZG93bmxvYWRUZW1wbGF0ZSxcbiAgdHJpZ2dlckJsb2NrVG9vbEFjdGlvbixcbiAgdXBkYXRlLFxuICBzb2Z0VXBkYXRlLFxufTtcbiIsImNvbnN0IHsgYWN0aXZhdGUgfSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBpbml0KGVsKSB7XG4gIGFjdGl2YXRlKGVsLCAnYm9vbCcpO1xufVxuXG5mdW5jdGlvbiByZWFkKGVsKSB7XG4gIHJldHVybiBlbC52YWx1ZSA9PT0gJ3RydWUnO1xufVxuXG5mdW5jdGlvbiB3cml0ZShlbCwgdmFsKSB7XG4gIGVsLnZhbHVlID0gdmFsO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0geyBpbml0LCByZWFkLCB3cml0ZSB9O1xuIiwiY29uc3QgeyBhY3RpdmF0ZSB9ID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmZ1bmN0aW9uIGluaXQoZWwpIHtcbiAgYWN0aXZhdGUoZWwsICdjaGVja2JveCcpO1xufVxuXG5mdW5jdGlvbiByZWFkKGVsKSB7XG4gIHJldHVybiBlbC5jaGVja2VkO1xufVxuXG5mdW5jdGlvbiB3cml0ZShlbCwgdmFsKSB7XG4gIGVsLmNoZWNrZWQgPSB2YWw7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7IGluaXQsIHJlYWQsIHdyaXRlIH07XG4iLCJjb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbmNvbnN0IFBpa2FkYXkgPSByZXF1aXJlKCdwaWthZGF5Jyk7XG5cbmNvbnN0IHsgYWN0aXZhdGUgfSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuY29uc3QgdCA9IHJlcXVpcmUoJy4vLi4vdHJhbnNsYXRvcicpLnRyYW5zbGF0ZTtcblxuZnVuY3Rpb24gaW5pdChlbCkge1xuICBhY3RpdmF0ZShlbCwgJ2RhdGUnKTtcbiAgZGVjb3JhdGUoZWwpO1xufVxuXG5mdW5jdGlvbiBkZWNvcmF0ZShlbCkge1xuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbicpKSB7XG4gICAgbmV3IFBpa2FkYXkoe1xuICAgICAgZmllbGQ6IGVsLFxuICAgICAgZm9ybWF0OiB0KCdkYXRlRm9ybWF0JyksXG4gICAgICBmaXJzdERheTogMSxcbiAgICAgIG9uU2VsZWN0OiAoKSA9PiBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSksXG4gICAgICBpMThuOiB0KCdwaWthZGF5TmFtZXMnKSxcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWFkKGVsKSB7XG4gIHJldHVybiBtb21lbnQoZWwudmFsdWUsIHQoJ2RhdGVGb3JtYXQnKSk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlKGVsLCB2YWwpIHtcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgZWwudmFsdWUgPSBtb21lbnQodmFsKS5mb3JtYXQodCgnZGF0ZUZvcm1hdCcpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwuZm9ybWF0ID09PSBtb21lbnQucHJvdG90eXBlLmZvcm1hdCkge1xuICAgIGVsLnZhbHVlID0gdmFsLmZvcm1hdCh0KCdkYXRlRm9ybWF0JykpO1xuICB9XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7IGluaXQsIHJlYWQsIHdyaXRlIH07XG4iLCJmdW5jdGlvbiBpbml0KGVsKSB7XG4gIGVsLmRhdGFzZXQuZmllbGROYW1lID0gJ2Rlc2MnO1xufVxuXG5mdW5jdGlvbiByZWFkKGVsKSB7XG4gIHJldHVybiBlbC5pbm5lckhUTUw7XG59XG5cbmZ1bmN0aW9uIHdyaXRlKGVsLCB2YWwpIHtcbiAgZWwuaW5uZXJIVE1MID0gdmFsO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0geyBpbml0LCByZWFkLCB3cml0ZSB9O1xuIiwiY29uc3QgeyBhY3RpdmF0ZSB9ID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmZ1bmN0aW9uIGluaXQoZWwpIHtcbiAgZWwuZGF0YXNldC5pc0Zsb2F0ID0gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdmbG9hdCcpID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgYWN0aXZhdGUoZWwsICdudW1iZXInKTtcbn1cblxuZnVuY3Rpb24gcmVhZChlbCkge1xuICByZXR1cm4gcGFyc2VOdW1iZXIoZWwsIGVsLnZhbHVlKTtcbn1cblxuZnVuY3Rpb24gd3JpdGUoZWwsIHZhbCkge1xuICBlbC52YWx1ZSA9IHBhcnNlTnVtYmVyKGVsLCB2YWwpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU51bWJlcihlbCwgdmFsKSB7XG4gIGNvbnN0IG51bWVyaWMgPSBlbC5kYXRhc2V0LmlzRmxvYXQgPT09ICd0cnVlJ1xuICAgID8gcGFyc2VGbG9hdCh2YWwsIDEwKVxuICAgIDogcGFyc2VJbnQodmFsLCAxMCk7XG4gIHJldHVybiBOdW1iZXIuaXNOYU4obnVtZXJpYykgPyAwIDogbnVtZXJpYztcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgaW5pdCwgcmVhZCwgd3JpdGUgfTtcbiIsImNvbnN0IHsgYWN0aXZhdGUgfSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBpbml0KGVsKSB7XG4gIGFjdGl2YXRlKGVsLCAndGV4dCcpO1xufVxuXG5mdW5jdGlvbiByZWFkKGVsKSB7XG4gIHJldHVybiBlbC52YWx1ZTtcbn1cblxuZnVuY3Rpb24gd3JpdGUoZWwsIHZhbCkge1xuICBlbC52YWx1ZSA9IHZhbDtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgaW5pdCwgcmVhZCwgd3JpdGUgfTtcbiIsImNvbnN0IGJvb2wgPSByZXF1aXJlKCcuL19ib29sJyk7XG5jb25zdCBkYXRlID0gcmVxdWlyZSgnLi9fZGF0ZScpO1xuY29uc3QgZGVzYyA9IHJlcXVpcmUoJy4vX2Rlc2MnKTtcbmNvbnN0IG51bWJlciA9IHJlcXVpcmUoJy4vX251bWJlcicpO1xuY29uc3QgdGV4dCA9IHJlcXVpcmUoJy4vX3RleHQnKTtcbmNvbnN0IGNoZWNrYm94ID0gcmVxdWlyZSgnLi9fY2hlY2tib3gnKTtcblxuY29uc3QgYWxsID0ge1xuICBib29sLFxuICBkYXRlLFxuICBkZXNjLFxuICBudW1iZXIsXG4gIHRleHQsXG4gIGNoZWNrYm94LFxufTtcblxuZnVuY3Rpb24gcmVhZChhY3RpdmVGaWVsZCkge1xuICByZXR1cm4gYWxsW2FjdGl2ZUZpZWxkLmRhdGFzZXQuZmllbGROYW1lXS5yZWFkKGFjdGl2ZUZpZWxkKTtcbn1cblxuZnVuY3Rpb24gd3JpdGUoYWN0aXZlRmllbGQsIHZhbCkge1xuICBhbGxbYWN0aXZlRmllbGQuZGF0YXNldC5maWVsZE5hbWVdLndyaXRlKGFjdGl2ZUZpZWxkLCB2YWwpO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0geyByZWFkLCB3cml0ZSwgYWxsIH07XG4iLCJjb25zdCB0ID0gcmVxdWlyZSgnLi8uLi90cmFuc2xhdG9yJykudHJhbnNsYXRlKCdmaWVsZHMudXRpbC4nKTtcblxuZnVuY3Rpb24gYWN0aXZhdGUoZWwsIGZpZWxkTmFtZSkge1xuICBlbC5kYXRhc2V0LmZpZWxkTmFtZSA9IGZpZWxkTmFtZTtcblxuICBjb25zdCBzaG93c091dHB1dCA9IGVsLmNsYXNzTGlzdC5jb250YWlucygnb3V0JykgfHwgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdmb3JtdWxhJyk7XG4gIGlmIChzaG93c091dHB1dCkgZWwuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICdyZWFkb25seScpO1xuXG4gIGNvbnN0IGRlc2NyaXB0b3JzID0gY3JlYXRlRGVzY3JpcHRvcnMoZWwpO1xuICBpZiAoZGVzY3JpcHRvcnMpIGVsLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBkZXNjcmlwdG9ycyk7XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlRGVzY3JpcHRvcnMoZWwpIHtcbiAgbGV0IG5hbWU7XG4gIGxldCBmb3JtdWxhO1xuXG4gIGNvbnN0IGRlc2NyaXB0b3JzID0gY3JlYXRlRWxlbWVudCgnRElWJywgWydkZXNjcmlwdG9ycyddKTtcblxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduYW1lJykpIHtcbiAgICBuYW1lID0gY3JlYXRlRGVzY3JpcHRvcignbmFtZScsICc8aSBjbGFzcz1cImZhIGZhLXRhZ1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nLCBuYW1lSW5wdXQsIGVsKTtcbiAgICBkZXNjcmlwdG9ycy5hcHBlbmRDaGlsZChuYW1lKTtcbiAgfVxuXG4gIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm11bGEnKSkge1xuICAgIGZvcm11bGEgPSBjcmVhdGVEZXNjcmlwdG9yKCdmb3JtdWxhJywgJyZmbm9mOz0nLCBhcHBlbmRGb3JtdWxhLCBlbCk7XG4gICAgZGVzY3JpcHRvcnMuYXBwZW5kQ2hpbGQoZm9ybXVsYSk7XG4gIH1cblxuICByZXR1cm4gKGZvcm11bGEgfHwgbmFtZSkgPyBkZXNjcmlwdG9ycyA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlc2NyaXB0b3IodHlwZSwgbGFiZWxIdG1sLCBsaXN0ZW5lciwgaW5wdXQpIHtcbiAgY29uc3QgZGVzY3JpcHRvciA9IGNyZWF0ZUVsZW1lbnQoJ1NQQU4nLCBbJ2Rlc2NyaXB0b3InLCBgJHt0eXBlfS1kZXNjcmlwdG9yYF0pO1xuXG4gIGNvbnN0IGxhYmVsID0gY3JlYXRlRWxlbWVudCgnU1BBTicsIFsnZGVzY3JpcHRvci1sYWJlbCddLCBsYWJlbEh0bWwpO1xuICBkZXNjcmlwdG9yLmFwcGVuZENoaWxkKGxhYmVsKTtcblxuICBjb25zdCBmaWVsZCA9IGNyZWF0ZUVsZW1lbnQoJ0lOUFVUJywgWydkZXNjcmlwdG9yLXZhbHVlJywgYCR7dHlwZX0tc2V0dGVyYF0pO1xuICBmaWVsZC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IGxpc3RlbmVyKGlucHV0LCBmaWVsZC52YWx1ZSkpO1xuICBmaWVsZC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgdCh0eXBlKSk7XG4gIGRlc2NyaXB0b3IuYXBwZW5kQ2hpbGQoZmllbGQpO1xuXG4gIHJldHVybiBkZXNjcmlwdG9yO1xufVxuXG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQobmFtZSwgY2xhc3NOYW1lcywgaHRtbCkge1xuICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG4gIGlmIChjbGFzc05hbWVzKSBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xhc3NOYW1lcy5qb2luKCcgJykpO1xuICBpZiAoaHRtbCkgZWwuaW5uZXJIVE1MID0gaHRtbDtcbiAgcmV0dXJuIGVsO1xufVxuXG5mdW5jdGlvbiBuYW1lSW5wdXQoZWwsIG5hbWUpIHtcbiAgZWwuc2V0QXR0cmlidXRlKCduYW1lJywgbmFtZSk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZEZvcm11bGEoZWwsIGZvcm11bGEpIHtcbiAgZWwuZGF0YXNldC5mb3JtdWxhID0gZm9ybXVsYTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYWN0aXZhdGUgfTtcbiIsImNvbnN0IHVpID0gcmVxdWlyZSgnLi91aScpO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBydW4oKTtcbn0pO1xuXG5mdW5jdGlvbiBydW4oKSB7XG4gIHByZXZlbnRTdWJtaXQoKTtcblxuICB1aS5pbml0KCk7XG59XG5cbmZ1bmN0aW9uIHByZXZlbnRTdWJtaXQoKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkJykuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xufVxuIiwiY29uc3QgZmlsZVNhdmVyID0gcmVxdWlyZSgnZmlsZS1zYXZlcicpO1xuY29uc3QgbHpzID0gcmVxdWlyZSgnbHotc3RyaW5nJyk7XG5jb25zdCB0ID0gcmVxdWlyZSgnLi90cmFuc2xhdG9yJykudHJhbnNsYXRlO1xuXG5mdW5jdGlvbiB3cmFwRXhwb3J0KHRpdGxlLCBkYXRhKSB7XG4gIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgY29uc3QgZW5jb2RlZEpzb24gPSBsenMuY29tcHJlc3NUb0VuY29kZWRVUklDb21wb25lbnQoanNvbik7XG4gIGNvbnN0IHVybCA9ICdodHRwczovL2phbi1tYXJ0aW5lay5naXRodWIuaW8vcGxhbmNhcmRzLyc7XG4gIHJldHVybiBgPCFET0NUWVBFIGh0bWw+XG4gIDxodG1sPlxuICA8aGVhZD5cbiAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cbiAgICA8dGl0bGU+JHt0KCdleHBvcnQuc3RvcmVkQ2FyZCcpfSDigJ4ke3RpdGxlfeKAnDwvdGl0bGU+XG5cbiAgICA8c3R5bGU+XG4gICAgICBib2R5LCBodG1sIHtcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICB9XG4gICAgICBoMSwgaDIsIHAge1xuICAgICAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgIH1cbiAgICAgIGgxLCBoMiB7IG1hcmdpbjogMnJlbSAwIDAuNXJlbTsgfVxuICAgICAgcCB7IG1hcmdpbjogMCAwIDFyZW07IH1cbiAgICAgIC53cmFwcGVyIHtcbiAgICAgICAgbWFyZ2luOiAxMDBweCBhdXRvO1xuICAgICAgICBtYXgtd2lkdGg6IDQ1MHB4O1xuICAgICAgfVxuICAgICAgLmJveCB7XG4gICAgICAgIHBhZGRpbmc6IDJyZW07XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNhYWE7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmYWZhZmE7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgPC9oZWFkPlxuICA8Ym9keT5cbiAgICA8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxuICAgICAgPGgxPiR7dGl0bGV9PC9oMT5cbiAgICAgIDxwPiR7dCgnZXhwb3J0LnN0b3JlZENhcmRMb25nJyl9PC9wPlxuICAgICAgPGRpdiBjbGFzcz1cImJveFwiPlxuICAgICAgICA8cD5cbiAgICAgICAgICAke3QoJ2V4cG9ydC51c2FnZScpfVxuICAgICAgICAgIDxhIGhyZWY9XCIke3VybH0/ZW50cnk9c2F2ZWRDYXJkXCI+JHt0KCdleHBvcnQudXNhZ2VMb2MnKX08L2E+LlxuICAgICAgICA8L3A+XG5cbiAgICAgICAgPGRpdiBpZD1cInF1aWNrTGlua1wiPlxuICAgICAgICAgIDxoMj4ke3QoJ2V4cG9ydC5xdWlja0xpbmsnKX08L2gyPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgJHt0KCdleHBvcnQubHVjaycpfVxuICAgICAgICAgICAgPGEgaHJlZj1cIiR7dXJsfT9jYXJkanNvbj0ke2VuY29kZWRKc29ufVwiPiR7dCgnZXhwb3J0LmNsaWNrJyl9PC9hPi5cbiAgICAgICAgICAgICR7dCgnZXhwb3J0LmRlcGVuZHMnKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8c2NyaXB0PlxuICAgICAgLy8gbG9uZyBsaW5rcyBkbyBub3Qgd29yayBhdCBhbGwgaW4gSUVcbiAgICAgIC8vIG90aGVyIGJyb3dzZXJzIGdlbmVyYWxseSBhY2NlcHQgPiA4MGsgY2hhcnNcbiAgICAgIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICAgICAgaWYgKHVhLmluZGV4T2YoJ01TSUUgJykgPiAwIHx8IHVhLmluZGV4T2YoJ1RyaWRlbnQvJykgPiAwKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja0xpbmsnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIDwvc2NyaXB0PlxuXG5cbiAgICA8IS0tICEhISR7anNvbn0hISEgLS0+XG4gIDwvYm9keT5cbiAgPC9odG1sPmA7XG59XG5cbmZ1bmN0aW9uIHVud3JhcEV4cG9ydChodG1sKSB7XG4gIGNvbnN0IG1hdGNoZXMgPSAvPCEtLSAhISEoW1xcU1xcc10rKSEhISAtLT4vLmV4ZWMoaHRtbCk7XG4gIGlmIChtYXRjaGVzKSByZXR1cm4gSlNPTi5wYXJzZShtYXRjaGVzWzFdKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBleHBvcnRDYXJkKHRpdGxlLCBkYXRhKSB7XG4gIGNvbnN0IHRpdGxlRmFsbGJhY2sgPSB0KCdleHBvcnQucXVpY2tMaW5rJyk7XG4gIGNvbnN0IGNvbnRlbnRzID0gd3JhcEV4cG9ydCh0aXRsZSB8fCB0aXRsZUZhbGxiYWNrLCBkYXRhKTtcbiAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtjb250ZW50c10sIHsgdHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD11dGYtOCcgfSk7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gIGZpbGVTYXZlci5zYXZlQXMoYmxvYiwgYCR7dGl0bGUgfHwgdGl0bGVGYWxsYmFja30tJHt0b2RheX0uaHRtbGApO1xufVxuXG5mdW5jdGlvbiBleHBvcnRUZW1wbGF0ZSh0aXRsZSwgZGF0YSkge1xuICBleHBvcnRDYXJkKHRpdGxlIHx8IHQoJ2V4cG9ydC50ZW1wbGF0ZScpLCBkYXRhKTtcbn1cblxuZnVuY3Rpb24gaW1wb3J0RnJvbUZpbGUoZmlsZSwgY2FsbGJhY2spIHtcbiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gIHJlYWRlci5vbmxvYWQgPSBlID0+IGNhbGxiYWNrKHVud3JhcEV4cG9ydChlLnRhcmdldC5yZXN1bHQpKTtcbn1cblxuZnVuY3Rpb24gaW1wb3J0RnJvbVVybCh1cmwsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICByZXF1ZXN0LnNlbmQoKTtcbiAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgaWYgKHJlcXVlc3QucmVhZHlTdGF0ZSA9PT0gNCAmJiByZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBjYWxsYmFjayh1bndyYXBFeHBvcnQocmVxdWVzdC5yZXNwb25zZVRleHQpKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGltcG9ydEZyb21FbmNvZGVkU3RyaW5nKHN0cmluZywgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2soSlNPTi5wYXJzZShsenMuZGVjb21wcmVzc0Zyb21FbmNvZGVkVVJJQ29tcG9uZW50KHN0cmluZykpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGltcG9ydEZyb21GaWxlLFxuICBpbXBvcnRGcm9tVXJsLFxuICBpbXBvcnRGcm9tRW5jb2RlZFN0cmluZyxcbiAgZXhwb3J0Q2FyZCxcbiAgZXhwb3J0VGVtcGxhdGUsXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGxhbmc6ICfEjWVza3knLFxuICBkYXRlRm9ybWF0OiAnRC4gTS4gWVlZWScsXG4gIGFwcDoge1xuICAgIHBsYW5jYXJkczogJ1Bsw6Fub3ZhY8OtIGthcnR5JyxcbiAgICBlZGl0Q2FyZDogJ3VwcmF2aXQga2FydHUnLFxuICAgIGVkaXRpbmdOb3c6ICfDunByYXZ5IGthcnR5JyxcbiAgICBkb3dubG9hZDogJ3N0w6Fobm91dCcsXG4gICAgdGVtcGxhdGVEb3dubG9hZDogJ3N0w6Fobm91dCDFoWFibG9udScsXG4gICAgc2F2ZUFuZENsb3NlOiAndWxvxb5pdCBhIHphdsWZw610JyxcbiAgfSxcbiAgaG9tZToge1xuICAgIG5vdGU6ICdaYXpuYW1lbsOhdmVqdGUgc3bDqSBwb3N0dXB5JyxcbiAgICBpbXByb3ZlOiAnWmxlcMWhdWp0ZSBzdm91IHByw6FjaScsXG4gICAgc2hhcmU6ICdTZMOtbGVqdGUgZG9icm91IHByYXhpJyxcbiAgICB0aXBzOiAnVGlweScsXG4gICAgcHVycG9zZTogJ05hIHTDqXRvIHN0csOhbmNlIG3Fr8W+ZXRlIHZ5cGzFiG92YXQgYSB1cHJhdm92YXQgc3bDqSBwbMOhbm92YWPDrSBrYXJ0eS4nLFxuICAgIHByaXZhY3k6ICdWxaFlY2hueSBpbmZvcm1hY2UganNvdSB1bG/FvmVueSB2ZSB2YcWhZW0gcG/EjcOtdGHEjWkgYSBuaWthbSBzZSBuZW9kZXPDrWxhasOtLCBuZXphcG9tZcWIdGUgdsWhYWsgc3bDqSBrYXJ0eSBwcm90byB1a2zDoWRhdC4nLFxuICAgIHNoYXJlSG93OiAnVnl0dm/FmWVuw6kga2FydHkgbcWvxb5ldGUgc2TDrWxldCBzIG9zdGF0bsOtbWkg4oCUIHBvxaFsZXRlIGplIG1haWxlbSwgc2TDrWxlanRlIGplIG5hIGludGVybmV0dS4nLFxuICAgIG9wZW46ICdPdGV2xZnDrXQga2FydHUnLFxuICAgIG9wZW5CdXR0b246ICdPdGV2xZnDrXQnLFxuICAgIHdvcmtzcGFjZTogJ1JvenByYWNvdmFuw6kga2FydHknLFxuICAgIG5vbmVPcGVuZWQ6ICdOZW3DoXRlIHJvenByYWNvdmFuw6kgxb7DoWRuw6kga2FydHkuJyxcbiAgICBvcGVuRnJvbUZpbGU6ICdOYWhyw6F0IHplIHNvdWJvcnUnLFxuICAgIG9wZW5Gcm9tRmlsZUhsOiAnVWxvxb5lbsO9IHNvdWJvciB2eWJlcnRlIHpkZTonLFxuICAgIG9wZW5Gcm9tVXJsOiAnT3RldsWZw610IHBvbW9jw60gb2RrYXp1JyxcbiAgICBvcGVuRnJvbVVybFBsYWNlaG9sZGVyOiAnb2RrYXonLFxuICAgIGJhc2ljOiAnWsOha2xhZG7DrSDFoWFibG9ueScsXG4gICAgZm9vdGVyOiAnVnl2aW51dG8gdiByw6FtY2kgcHJvamVrdHUgUHJvZmVzaW9uYWxpemFjZSA8YSBocmVmPVwiaHR0cDovL3d3dy5yYW5hcGVjZXpsaW4uY3pcIj5TdMWZZWRpc2thIHJhbsOpIHDDqcSNZSBFRFVDTyBabMOtbiB6LnMuPC9hPiwga3RlcsO9IGJ5bCBwb2Rwb8WZZW4geiBFdnJvcHNrw6lobyBzb2Npw6FsbsOtaG8gZm9uZHUuIFJlZ2lzdHJhxI1uw60gxI3DrXNsbyBwcm9qZWt0dTogQ1ouMDMuMy42MC8wLjAvMC4wLzE1XzAzMS8wMDAxODY2LicsXG4gICAgcGFydG5lcnM6ICdQYXJ0bmVyeSBwcm9qZWt0dSBqc291IDxhIGhyZWY9XCJodHRwOi8vZnVuZHJhaXNpbmcuY3pcIj7EjGVza8OpIGNlbnRydW0gZnVuZHJhaXNpbmd1PC9hPiBhIDxhIGhyZWY9XCJodHRwOi8vbXVuaS5jelwiPk1hc2FyeWtvdmEgdW5pdmVyeml0YTwvYT4uJyxcbiAgfSxcbiAgcGlrYWRheU5hbWVzOiB7XG4gICAgcHJldmlvdXNNb250aDogJ1DFmWVkY2hvesOtIG3Em3PDrWMnLFxuICAgIG5leHRNb250aDogJ07DoXNsZWR1asOtY8OtIG3Em3PDrWMnLFxuICAgIG1vbnRoczogWydsZWRlbicsICfDum5vcicsICdixZllemVuJywgJ2R1YmVuJywgJ2t2xJt0ZW4nLCAnxI1lcnZlbicsICfEjWVydmVuZWMnLCAnc3JwZW4nLCAnesOhxZnDrScsICfFmcOtamVuJywgJ2xpc3RvcGFkJywgJ3Byb3NpbmVjJ10sXG4gICAgd2Vla2RheXM6IFsnTmVkxJtsZScsICdQb25kxJtsw60nLCAnw5p0ZXLDvScsICdTdMWZZWRhJywgJ8SMdHZydGVrJywgJ1DDoXRlaycsICdTb2JvdGEnXSxcbiAgICB3ZWVrZGF5c1Nob3J0OiBbJ05lJywgJ1BvJywgJ8OadCcsICdTdCcsICfEjHQnLCAnUMOhJywgJ1NvJ10sXG4gIH0sXG4gIGJsb2Nrczoge1xuICAgIGJpZ3RleHQ6IHtcbiAgICAgIG5hbWU6ICdWZWxrw6kgdGV4dG92w6kgcG9sZScsXG4gICAgICBkZXNjcmlwdGlvbjogJ1BvcGlzJyxcbiAgICB9LFxuICAgIGNvdW50bGlzdDoge1xuICAgICAgbmFtZTogJ1BvbG/FvmtvdsO9IHNlem5hbSAoa3MpJyxcbiAgICAgIHVuaXQ6ICdQb2xvxb5rYScsXG4gICAgICBjb3VudDogJ1BvxI1ldCcsXG4gICAgICB0b3RhbDogJ0NlbGtlbScsXG4gICAgfSxcbiAgICBkYXRlaW5wdXQ6IHtcbiAgICAgIG5hbWU6ICdUZXJtw61uJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnUG9waXMnLFxuICAgIH0sXG4gICAgZGF0ZW91dHB1dDoge1xuICAgICAgbmFtZTogJ01pbG7DrWsgcyDDumtvbHknLFxuICAgICAgZGVzY3JpcHRpb246ICdQb3BpcycsXG4gICAgfSxcbiAgICBkb3VibGV0ZXh0OiB7XG4gICAgICBuYW1lOiAnRHbEmyB0ZXh0b3bDoSBwb2xlJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnUG9waXMnLFxuICAgIH0sXG4gICAgZmluYWw6IHtcbiAgICAgIG5hbWU6ICdaw6F2xJtyZcSNbsO9IHBhbmVsJyxcbiAgICB9LFxuICAgIGhlYWRlcjoge1xuICAgICAgbmFtZTogJ0hsYXZpxI1rYScsXG4gICAgICBzaG9ydDogJ0tyw6F0Y2UgcG9wacWhdGUsIGsgxI1lbXUgc2UgdGF0byBrYXJ0YSBob2TDrS4nLFxuICAgICAgYXV0aG9ySGVhZGluZzogJ0F1dG9yL2thIGthcnR5JyxcbiAgICAgIGF1dGhvcjogJ0ptw6lubyBQxZnDrWptZW7DrSwgam1lbm8ucHJpam1lbmlAZW1haWwuY3onLFxuICAgICAgbGljZW5zZUhlYWRpbmc6ICdMaWNlbmNlIChwcmF2aWRsYSBwcm8gc2TDrWxlbsOtKScsXG4gICAgICBsaWNlbnNlOiBgWmRlIGtyw6F0Y2UgcG9wacWhdGUsIHpkYSBrYXJ0dSBzZMOtbMOtdGUgdm9sbsSbIG5lYm8gemRhXG4gICAgICAgIMW+w6Fkw6F0ZSBvIGRvZHLFvmVuw60gbsSbamFrw71jaCBwcmF2aWRlbCAobmFwxZkuIHBvbmVjaMOhbsOtIGtvbnRha3R1XG4gICAgICAgIG5hIHDFr3ZvZG7DrWhvIGF1dG9yYSBhdHAuIE3Fr8W+ZXRlIHVyxI1pdCBpIGtvbmtyw6l0bsOtIGxpY2VuY2lcbiAgICAgICAgKG5hcMWZw61rbGFkIENyZWF0aXZlIENvbW1vbnMpLmAsXG4gICAgICBhY3Rpdml0eU5hbWU6ICdOw6F6ZXYgYWt0aXZpdHknLFxuICAgICAgZ29hbDogJ0PDrWwgYWt0aXZpdHkgdiBqZWRuw6kgdsSbdMSbJyxcbiAgICAgIG5vdGVzOiAnUG96bsOhbWt5JyxcbiAgICB9LFxuICAgIGluZGljYXRvcjoge1xuICAgICAgbmFtZTogJ0luZGlrw6F0b3IgKGFuby9uZSknLFxuICAgICAgaXNUcnVlOiAnVGV4dCwgcG9rdWQgamUgcG9kbcOtbmthIHNwbG7Em25hJyxcbiAgICAgIGlzRmFsc2U6ICdUZXh0LCBwb2t1ZCBwb2Rtw61ua2EgbmVuw60gc3BsbsSbbmEnLFxuICAgIH0sXG4gICAgcHJpY2VsaXN0OiB7XG4gICAgICBuYW1lOiAnUG9sb8W+a292w70gc2V6bmFtIChjZW5hL2tzKScsXG4gICAgICBpdGVtOiAnUG9sb8W+a2EnLFxuICAgICAgcHJpY2U6ICdDZW5hJyxcbiAgICAgIGNvdW50OiAnUG/EjWV0JyxcbiAgICAgIHRvdGFsOiAnQ2Vsa2VtJyxcbiAgICB9LFxuICAgIG5vdGU6IHtcbiAgICAgIG5hbWU6ICdQb3puw6Fta2EnLFxuICAgICAgdGV4dDogJ1RleHQgcG96bsOhbWt5JyxcbiAgICB9LFxuICAgIG51bWJlcjoge1xuICAgICAgbmFtZTogJ8SMw61zZWxuw6EgcG9sb8W+a2EnLFxuICAgICAgZGVzY3JpcHRpb246ICdQb3BpcyDEjcOtc2VsbsOpIGhvZG5vdHknLFxuICAgIH0sXG4gICAgc2VwYXJhdG9yOiB7XG4gICAgICBuYW1lOiAnT2RkxJtsb3ZhxI0nLFxuICAgIH0sXG4gICAgc3ViaGVhZDoge1xuICAgICAgbmFtZTogJ01leml0aXR1bGVrJyxcbiAgICAgIHRleHQ6ICdNZXppdGl0dWxlaycsXG4gICAgfSxcbiAgICBzdW06IHtcbiAgICAgIG5hbWU6ICdWw71wb8SNZXQnLFxuICAgICAgZGVzY3JpcHRpb246ICdQb3BpcycsXG4gICAgfSxcbiAgfSxcbiAgZmllbGRzOiB7XG4gICAgdXRpbDoge1xuICAgICAgbmFtZTogJ27DoXpldicsXG4gICAgICBmb3JtdWxhOiAndnpvcmVjJyxcbiAgICB9LFxuICB9LFxuICBibG9ja05hdjoge1xuICAgIHRleHQ6ICdQb2zDrcSNa2EnLFxuICAgIGxpc3Q6ICdTZXpuYW15JyxcbiAgICBjb250ZXh0OiAnUG9waXNreScsXG4gIH0sXG4gIGV4cG9ydDoge1xuICAgIGNhcmQ6ICdrYXJ0YScsXG4gICAgdGVtcGxhdGU6ICfFoWFibG9uYScsXG4gICAgc3RvcmVkQ2FyZDogJ1Vsb8W+ZW7DoSBrYXJ0YScsXG4gICAgc3RvcmVkQ2FyZExvbmc6ICdVbG/FvmVuw6Ega2FydGEgeiBhcGxpa2FjZSDigJ5QbMOhbm92YWPDrSBrYXJ0eeKAnC4nLFxuICAgIHVzYWdlOiAnT2JzYWgga2FydHkgbcWvxb5ldGUgb3RldsWZw610IGEgdXByYXZvdmF0JyxcbiAgICB1c2FnZUxvYzogJ25hIHdlYnUgUGzDoW5vdmFjw61jaCBrYXJldCcsXG4gICAgcXVpY2tMaW5rOiAnUnljaGzDvSBvZGtheicsXG4gICAgbHVjazogJ1MgdHJvY2hvdSDFoXTEm3N0w60gc3RhxI3DrScsXG4gICAgY2xpY2s6ICdrbGlrbm91dCBuYSBvZGtheicsXG4gICAgZGVwZW5kczogJ05lbsOtIG5pY23DqW7EmyBmdW5rxI1uw60gdsW+ZHkg4oCUIHrDoWxlxb7DrSB0byBuYSBwcm9obMOtxb5lxI1pIGEgbW5vxb5zdHbDrSBvYnNhaHUgdiBrYXJ0xJsuJyxcbiAgfSxcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgbGFuZzogJ2VuZ2xpc2gnLFxuICBkYXRlRm9ybWF0OiAnTS9EL1lZWVknLFxuICBhcHA6IHtcbiAgICBwbGFuY2FyZHM6ICdQbGFuQ2FyZHMnLFxuICAgIGVkaXRDYXJkOiAnZWRpdCBjYXJkJyxcbiAgICBlZGl0aW5nTm93OiAnZWRpdGluZyBjYXJkJyxcbiAgICBkb3dubG9hZDogJ2Rvd25sb2FkJyxcbiAgICB0ZW1wbGF0ZURvd25sb2FkOiAnZG93bmxvYWQgdGVtcGxhdGUnLFxuICAgIHNhdmVBbmRDbG9zZTogJ3NhdmUgYW5kIGNsb3NlJyxcbiAgfSxcbiAgaG9tZToge1xuICAgIG5vdGU6ICdLZWVwIG5vdGVzIGFib3V0IHJlcGVhdGluZyB0YXNrcycsXG4gICAgaW1wcm92ZTogJ0ltcHJvdmUgc29sdXRpb25zIG92ZXIgdGltZScsXG4gICAgc2hhcmU6ICdTaGFyZSBiZXN0IHByYWN0aWNlcycsXG4gICAgdGlwczogJ1RpcHMnLFxuICAgIHB1cnBvc2U6ICdVc2UgdGhpcyB3ZWIgYXBwIHRvIGNyZWF0ZSBhbmQgZWRpdCB5b3VyIHBsYW4gY2FyZHPigJwuJyxcbiAgICBwcml2YWN5OiAnRXZlcnl0aGluZyBpcyBzdG9yZWQgaW4geW91ciBicm93c2VyLiBFeHBvcnQgY2FyZHMgaW50byBhIGZpbGUgdG8gc3RvcmUgaXQgc2FmZWx5IGZvciBhIGxvbmcgdGltZS4nLFxuICAgIHNoYXJlSG93OiAnU2hhcmUgY2FyZHMgd2l0aCBvdGhlciBwZW9wbGUg4oCUIHVzZSBlLW1haWwgb3IgdXBsb2FkIHRoZW0gb24gdGhlIHdlYi4nLFxuICAgIG9wZW46ICdPcGVuIGNhcmQnLFxuICAgIG9wZW5CdXR0b246ICdPcGVuJyxcbiAgICB3b3Jrc3BhY2U6ICdPcGVuZWQgY2FyZHMnLFxuICAgIG5vbmVPcGVuZWQ6ICdZb3UgaGF2ZSBubyBjdXJyZW50bHkgb3BlbmVkIGNhcmRzLicsXG4gICAgb3BlbkZyb21GaWxlOiAnTG9hZCBmcm9tIGZpbGUnLFxuICAgIG9wZW5Gcm9tRmlsZUhsOiAnU2VsZWN0IGEgZmlsZSBmcm9tIGRyaXZlOicsXG4gICAgb3BlbkZyb21Vcmw6ICdMb2FkIGZyb20gYSB3ZWIgbGluayAoVVJMKScsXG4gICAgb3BlbkZyb21VcmxQbGFjZWhvbGRlcjogJ3dlYiBsaW5rJyxcbiAgICBiYXNpYzogJ0Jhc2ljIHRlbXBsYXRlcycsXG4gICAgZm9vdGVyOiAnRGV2ZWxvcGVkIGFzIHBhcnQgb2YgYSBwcm9qZWN0IFByb2Zlc2lvbmFsaXphdGlvbiBvZiA8YSBocmVmPVwiaHR0cDovL3d3dy5yYW5hcGVjZXpsaW4uY3pcIj5FYXJseSBJbnRlcnZlbnRpb24gQ2VudHJlIFpsaW4gby5wLnMuPC9hPiwgc3VwcG9ydGVkIGJ5IEV1cm9wZWFuIFNvY2lhbCBGdW5kLiBQcm9qZWN0IElEOiBDWi4wMy4zLjYwLzAuMC8wLjAvMTVfMDMxLzAwMDE4NjYuJyxcbiAgICBwYXJ0bmVyczogJ1Byb2plY3TigJlzIHBhcnRuZXJzIGFyZSA8YSBocmVmPVwiaHR0cDovL2Z1bmRyYWlzaW5nLmN6XCI+Q3plY2ggRnVuZHJhaXNpbmcgQ2VudGVyPC9hPiBhbmQgPGEgaHJlZj1cImh0dHA6Ly9tdW5pLmN6XCI+TWFzYXJ5ayBVbml2ZXJzaXR5PC9hPi4nLFxuICB9LFxuICBwaWthZGF5TmFtZXM6IHtcbiAgICBwcmV2aW91c01vbnRoOiAnUHJldmlvdXMgbW9udGgnLFxuICAgIG5leHRNb250aDogJ05leHQgbW9udGgnLFxuICAgIG1vbnRoczogWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYyddLFxuICAgIHdlZWtkYXlzOiBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J10sXG4gICAgd2Vla2RheXNTaG9ydDogWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXSxcbiAgfSxcbiAgYmxvY2tzOiB7XG4gICAgYmlndGV4dDoge1xuICAgICAgbmFtZTogJ0xhcmdlIHRleHQgZmllbGQnLFxuICAgICAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbicsXG4gICAgfSxcbiAgICBjb3VudGxpc3Q6IHtcbiAgICAgIG5hbWU6ICdJdGVtIGxpc3QnLFxuICAgICAgdW5pdDogJ0l0ZW0nLFxuICAgICAgY291bnQ6ICdDb3VudCcsXG4gICAgICB0b3RhbDogJ1RvdGFsJyxcbiAgICB9LFxuICAgIGRhdGVpbnB1dDoge1xuICAgICAgbmFtZTogJ0RhdGUnLFxuICAgICAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbicsXG4gICAgfSxcbiAgICBkYXRlb3V0cHV0OiB7XG4gICAgICBuYW1lOiAnTWlsZXN0b25lIHdpdGggdG9kb3MnLFxuICAgICAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbicsXG4gICAgfSxcbiAgICBkb3VibGV0ZXh0OiB7XG4gICAgICBuYW1lOiAnVHdvIHRleHQgZmllbGRzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24nLFxuICAgIH0sXG4gICAgZmluYWw6IHtcbiAgICAgIG5hbWU6ICdGaW5hbCBwYW5lbCcsXG4gICAgfSxcbiAgICBoZWFkZXI6IHtcbiAgICAgIG5hbWU6ICdIZWFkZXInLFxuICAgICAgc2hvcnQ6ICdBIGZldyB3b3JkcyBhYm91dCB0aGUgcHVycG9zZSBvZiB0aGlzIGNhcmQuJyxcbiAgICAgIGF1dGhvckhlYWRpbmc6ICdDYXJk4oCZcyBhdXRob3InLFxuICAgICAgYXV0aG9yOiAnTmFtZSBTdXJuYW1lLCBuYW1lLnN1cm5hbWVAbWFpbGJveC54eXonLFxuICAgICAgbGljZW5zZUhlYWRpbmc6ICdMaWNlbnNlIChydWxlcyBmb3Igc2hhcmluZyknLFxuICAgICAgbGljZW5zZTogYElzIHRoaXMgY2FyZCBzaGFyZWQgZnJlZWx5IG9yIGRvIHlvdSB3YW50IHNvbWVcbiAgICAgIHJ1bGVzIHRvIGJlIGtlcHQgKGUuIGcuIGxlYXZpbmcgeW91ciBjb250YWN0IGludGFjdCk/XG4gICAgICBZb3UgY2FuIHVzZSBhIHNwZWNpZmljIGxpY2Vuc2UsIHN1Y2ggYXMgQ3JlYXRpdmUgQ29tbW9ucy5gLFxuICAgICAgYWN0aXZpdHlOYW1lOiAnQWN0aXZpdHkgbmFtZScsXG4gICAgICBnb2FsOiAnR29hbHMgKGluIG9uZSBzZW50ZW5jZSknLFxuICAgICAgbm90ZXM6ICdOb3RlcycsXG4gICAgfSxcbiAgICBpbmRpY2F0b3I6IHtcbiAgICAgIG5hbWU6ICdJbmRpY2F0b3IgKHllcy9ubyknLFxuICAgICAgaXNUcnVlOiAnVGV4dCBkaXNwbGF5ZWQsIHdoZW4gdGhlIGNvbmRpdGlvbiBpcyBzYXRpc2ZpZWQnLFxuICAgICAgaXNGYWxzZTogJ1RleHQgZGlzcGxheWVkLCB3aGVuIHRoZSBjb25kaXRpb24gaXNu4oCZdCBzYXRpc2ZpZWQnLFxuICAgIH0sXG4gICAgcHJpY2VsaXN0OiB7XG4gICAgICBuYW1lOiAnUHJpY2VsaXN0IChwcmljZS91bml0KScsXG4gICAgICBpdGVtOiAnSXRlbScsXG4gICAgICBwcmljZTogJ1ByaWNlJyxcbiAgICAgIGNvdW50OiAnQ291bnQnLFxuICAgICAgdG90YWw6ICdUb3RhbCcsXG4gICAgfSxcbiAgICBub3RlOiB7XG4gICAgICBuYW1lOiAnTm90ZScsXG4gICAgICB0ZXh0OiAnTm90ZeKAmXMgY29udGVudCcsXG4gICAgfSxcbiAgICBudW1iZXI6IHtcbiAgICAgIG5hbWU6ICdOdW1lcmljIGlucHV0JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24gb2YgdGhlIG51bWJlcicsXG4gICAgfSxcbiAgICBzZXBhcmF0b3I6IHtcbiAgICAgIG5hbWU6ICdTZXBhcmF0b3InLFxuICAgIH0sXG4gICAgc3ViaGVhZDoge1xuICAgICAgbmFtZTogJ1N1YnRpdGxlJyxcbiAgICAgIHRleHQ6ICdTdWJ0aXRsZScsXG4gICAgfSxcbiAgICBzdW06IHtcbiAgICAgIG5hbWU6ICdTdW0nLFxuICAgICAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbicsXG4gICAgfSxcbiAgfSxcbiAgZmllbGRzOiB7XG4gICAgdXRpbDoge1xuICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgZm9ybXVsYTogJ2Zvcm11bGEnLFxuICAgIH0sXG4gIH0sXG4gIGJsb2NrTmF2OiB7XG4gICAgdGV4dDogJ0ZpZWxkcycsXG4gICAgbGlzdDogJ0xpc3RzJyxcbiAgICBjb250ZXh0OiAnU3RydWN0dXJlJyxcbiAgfSxcbiAgZXhwb3J0OiB7XG4gICAgY2FyZDogJ2NhcmQnLFxuICAgIHRlbXBsYXRlOiAndGVtcGxhdGUnLFxuICAgIHN0b3JlZENhcmQ6ICdTYXZlZCBjYXJkJyxcbiAgICBzdG9yZWRDYXJkTG9uZzogJ0EgY2FyZCBzYXZlZCBpbiB0aGUgd2ViIGFwcCDigJ5QbGFuIENhcmRz4oCcLicsXG4gICAgdXNhZ2U6ICdZb3UgY2FuIHZpZXcgYW5kIGVkaXQgdGhlIGNvbnRlbnRzIG9mIHRoaXMgY2FyZCBvbiB0aGUnLFxuICAgIHVzYWdlTG9jOiAnUGxhbkNhcmRzIHdlYnNpdGUnLFxuICAgIHF1aWNrTGluazogJ1F1aWNrIExpbmsnLFxuICAgIGx1Y2s6ICdXaXRoIGEgbGl0dGxlIGJpdCBvZiBsdWNrLCBpdCBtaWdodCBiZSBlbm91Z2gnLFxuICAgIGNsaWNrOiAndG8ganVzdCBjbGljayB0aGlzIGxpbmsnLFxuICAgIGRlcGVuZHM6ICdJdCBkb2VzIG5vdCB3b3JrIGFsbCB0aGUgdGltZSDigJTCoGl0IGRlcGVuZHMgb24geW91ciBicm93c2VyIGFuZCB0aGUgY29udGVudCBvZiB0aGUgY2FyZC4nLFxuICB9LFxufTtcbiIsImNvbnN0IGNzID0gcmVxdWlyZSgnLi90cmFuc2xhdGlvbnMvY3MnKTtcbmNvbnN0IGVuID0gcmVxdWlyZSgnLi90cmFuc2xhdGlvbnMvZW4nKTtcbmNvbnN0IGNvb2tpZXMgPSByZXF1aXJlKCdkb2MtY29va2llcycpO1xuY29uc3QgeyBhbGxBcnJheSB9ID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmNvbnN0IGRpY3Rpb25hcmllcyA9IHtcbiAgZW4sXG4gIGNzLFxufTtcblxubGV0IGRpY3Rpb25hcnkgPSBkaWN0aW9uYXJpZXNbZ2V0TGFuZygpXTtcblxuZnVuY3Rpb24gZ2V0TGFuZygpIHtcbiAgY29uc3Qgc2F2ZWQgPSBjb29raWVzLmhhc0l0ZW0oJ2xhbmcnKSAmJiBkaWN0aW9uYXJpZXNbY29va2llcy5nZXRJdGVtKCdsYW5nJyldO1xuICByZXR1cm4gc2F2ZWQgPyBjb29raWVzLmdldEl0ZW0oJ2xhbmcnKSA6ICdlbic7XG59XG5cbmZ1bmN0aW9uIHNldExhbmcobGFuZykge1xuICBpZiAoZGljdGlvbmFyaWVzW2xhbmddKSB7XG4gICAgY29va2llcy5zZXRJdGVtKCdsYW5nJywgbGFuZyk7XG4gICAgZGljdGlvbmFyeSA9IGRpY3Rpb25hcmllc1tsYW5nXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRMYW5ndWFnZXMoKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhkaWN0aW9uYXJpZXMpLm1hcChzaG9ydCA9PiAoeyBzaG9ydCwgbmFtZTogZGljdGlvbmFyaWVzW3Nob3J0XS5sYW5nIH0pKTtcbn1cblxuZnVuY3Rpb24gdHJhbnNsYXRlKGtleXMpIHtcbiAgaWYgKGtleXMubWF0Y2goL1xcLiQvKSkge1xuICAgIHJldHVybiBzdWJrZXkgPT4gdHJhbnNsYXRlKGtleXMgKyBzdWJrZXkpO1xuICB9XG5cbiAgY29uc3Qga2V5bGlzdCA9IChhcmd1bWVudHMubGVuZ3RoID4gMSkgPyBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykgOiBrZXlzLnNwbGl0KCcuJyk7XG4gIHJldHVybiBrZXlsaXN0LnJlZHVjZSgocHJldiwgY3VycikgPT4gKHByZXYgPyBwcmV2W2N1cnJdIDogdW5kZWZpbmVkKSwgZGljdGlvbmFyeSk7XG59XG5cbmZ1bmN0aW9uIHJlZnJlc2hUcmFuc2xhdGlvbnMoKSB7XG4gIGNvbnN0IGN1cnJlbnRMYW5nID0gZ2V0TGFuZygpO1xuXG4gIGFsbEFycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKSwgJ1tkYXRhLXBocmFzZV0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGlmIChlbC5kYXRhc2V0LmN1cnJlbnRMYW5nICE9PSBjdXJyZW50TGFuZykge1xuICAgICAgZWwuZGF0YXNldC5jdXJyZW50TGFuZyA9IGN1cnJlbnRMYW5nO1xuICAgICAgaWYgKGVsLmRhdGFzZXQudHQpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGVsLmRhdGFzZXQudHQsIHRyYW5zbGF0ZShlbC5kYXRhc2V0LnBocmFzZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gdHJhbnNsYXRlKGVsLmRhdGFzZXQucGhyYXNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXRMYW5nLFxuICBnZXRMYW5nLFxuICBnZXRMYW5ndWFnZXMsXG4gIHRyYW5zbGF0ZSxcbiAgcmVmcmVzaFRyYW5zbGF0aW9ucyxcbn07XG4iLCJjb25zdCBxdWVyeVN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5LXN0cmluZycpO1xuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbmNvbnN0IGNhcmQgPSByZXF1aXJlKCcuL2NhcmQnKTtcbmNvbnN0IHdvcmtzcGFjZSA9IHJlcXVpcmUoJy4vd29ya3NwYWNlJyk7XG5jb25zdCB0cmFuc2xhdG9yID0gcmVxdWlyZSgnLi90cmFuc2xhdG9yJyk7XG5jb25zdCB7XG4gIGFsbEFycmF5LFxuICBmaW5kQW5jZXN0b3IsXG4gIHJlbW92ZVVybFBhcmFtcyxcbiAgc2V0Q2xhc3NlcyxcbiAgc2hvdyxcbiAgaGlkZSxcbn0gPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuY29uc3QgdCA9IHRyYW5zbGF0b3IudHJhbnNsYXRlO1xuXG5mdW5jdGlvbiBpbml0KCkge1xuICBiaW5kQWN0aW9ucygpO1xuICBpbml0SW1wb3J0KCk7XG4gIHVwZGF0ZUxhbmdTZWxlY3RvcigpO1xuICBzaG93RGFzaGJvYXJkKCk7XG59XG5cblxuLy8gR2VuZXJhbFxuZnVuY3Rpb24gdXBkYXRlTGFuZ1NlbGVjdG9yKCkge1xuICBjb25zdCBsYW5ncyA9IHRyYW5zbGF0b3IuZ2V0TGFuZ3VhZ2VzKCk7XG4gIGNvbnN0IGN1cnJlbnQgPSB0cmFuc2xhdG9yLmdldExhbmcoKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFuZy1zZWxlY3RvcicpLmlubmVySFRNTCA9IGxhbmdzXG4gICAgLm1hcChsYW5nID0+IGA8YSBocmVmPVwiI1wiXG4gICAgICAgIGRhdGEtbGFuZz1cIiR7bGFuZy5zaG9ydH1cIlxuICAgICAgICAke2N1cnJlbnQgPT09IGxhbmcuc2hvcnQgPyAnY2xhc3M9XCJjdXJyZW50XCInIDogJyd9XG4gICAgICA+JHtsYW5nLm5hbWV9PC9hPmApXG4gICAgLmpvaW4oJyAmbWlkZG90OyAnKTtcbn1cblxuZnVuY3Rpb24gYmluZEFjdGlvbnMoKSB7XG4gIGNvbnN0IGNsaWNrQWN0aW9ucyA9IHtcbiAgICAnLm1vZGUtdG9nZ2xlJzogdG9nZ2xlTW9kZSxcbiAgICAnI2Nsb3NlJzogY2xvc2VDYXJkLFxuICAgICcjc2F2ZSc6IGNhcmQuZG93bmxvYWQsXG4gICAgJyNzYXZlVGVtcGxhdGUnOiBjYXJkLmRvd25sb2FkVGVtcGxhdGUsXG4gICAgJyNjYXJkJzogY2FyZC50cmlnZ2VyQmxvY2tUb29sQWN0aW9uLFxuICAgICcjd29ya3NwYWNlJzogdHJpZ2dlcldvcmtzcGFjZUFjdGlvbixcbiAgfTtcblxuICBPYmplY3Qua2V5cyhjbGlja0FjdGlvbnMpLmZvckVhY2goKGVsSWQpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsSWQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY2xpY2tBY3Rpb25zW2VsSWRdKGV2ZW50KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxhbmctc2VsZWN0b3IgYScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0cmFuc2xhdG9yLnNldExhbmcoZWwuZGF0YXNldC5sYW5nKTtcbiAgICAgIHRyYW5zbGF0b3IucmVmcmVzaFRyYW5zbGF0aW9ucygpO1xuICAgICAgdXBkYXRlTGFuZ1NlbGVjdG9yKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBjYXJkLnNvZnRVcGRhdGUoKSk7XG59XG5cblxuLy8gQXBwIG1vZGVcbmZ1bmN0aW9uIHNob3dEYXNoYm9hcmQoKSB7XG4gIHNob3coJ2Rhc2hib2FyZCcpO1xuICBoaWRlKCdjYXJkJywgJ3Rvb2xiYXInKTtcblxuICByZWZyZXNoV29ya3NwYWNlKCk7XG4gIHRyYW5zbGF0b3IucmVmcmVzaFRyYW5zbGF0aW9ucygpO1xufVxuXG5mdW5jdGlvbiBvcGVuQ2FyZChkYXRhKSB7XG4gIGhpZGUoJ2Rhc2hib2FyZCcpO1xuICBzaG93KCdjYXJkJywgJ3Rvb2xiYXInKTtcblxuICBjYXJkLmxvYWQoZGF0YSk7XG4gIHNldEZpbGxNb2RlKCk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlQ2FyZCgpIHtcbiAgY2FyZC5jbG9zZSgpO1xuICBzaG93RGFzaGJvYXJkKCk7XG59XG5cblxuLy8gQ2FyZCBlZGl0aW5nIG1vZGVcbmZ1bmN0aW9uIHNldEVkaXRNb2RlKCkge1xuICBzZXRDbGFzc2VzKGRvY3VtZW50LmJvZHksIFsnZWRpdC1tb2RlJ10sIFsnZmlsbC1tb2RlJ10pO1xuICBhbGxBcnJheShkb2N1bWVudC5ib2R5LCAnLmRlc2MnKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgJ3RydWUnKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldEZpbGxNb2RlKCkge1xuICBzZXRDbGFzc2VzKGRvY3VtZW50LmJvZHksIFsnZmlsbC1tb2RlJ10sIFsnZWRpdC1tb2RlJ10pO1xuICBhbGxBcnJheShkb2N1bWVudC5ib2R5LCAnLmRlc2MnKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJyk7XG4gIH0pO1xuICBjYXJkLnVwZGF0ZSgpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVNb2RlKCkge1xuICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpbGwtbW9kZScpKSBzZXRFZGl0TW9kZSgpO1xuICBlbHNlIHNldEZpbGxNb2RlKCk7XG59XG5cblxuLy8gRGFzaGJvYXJkXG5mdW5jdGlvbiBpbml0SW1wb3J0KCkge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZEZyb21GaWxlJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICBjYXJkLmZpbGVJbXBvcnQoZS50YXJnZXQuZmlsZXNbMF0sIG9wZW5DYXJkKTtcbiAgfSk7XG5cbiAgY29uc3QgcXVlcnkgPSBxdWVyeVN0cmluZy5wYXJzZSh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgaWYgKHF1ZXJ5LmVudHJ5ICYmIHF1ZXJ5LmVudHJ5ID09PSAnc2F2ZWRDYXJkJykge1xuICAgIGhpZ2hsaWdodEZpbGVJbXBvcnQoKTtcbiAgICByZW1vdmVVcmxQYXJhbXMoKTtcbiAgfSBlbHNlIGlmIChxdWVyeS5jYXJkanNvbiB8fCBxdWVyeS5jYXJkdXJsKSB7XG4gICAgY2FyZC51cmxJbXBvcnQocXVlcnksIG9wZW5DYXJkKTtcbiAgICByZW1vdmVVcmxQYXJhbXMoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoaWdobGlnaHRGaWxlSW1wb3J0KCkge1xuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkRnJvbUZpbGUnKTtcbiAgY29uc3QgbGFiZWwgPSBmaW5kQW5jZXN0b3IoaW5wdXQsICdjYWxsb3V0Jyk7XG4gIGxhYmVsLmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHt0KCdvcGVuRnJvbUZpbGVIbCcpfSBgKSwgaW5wdXQpO1xuICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdsYWJlbEhpZ2hsaWdodCcpO1xufVxuXG5mdW5jdGlvbiB0cmlnZ2VyV29ya3NwYWNlQWN0aW9uKGUpIHtcbiAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZC1saW5rJykpIHtcbiAgICBvcGVuQ2FyZCh3b3Jrc3BhY2Uub3BlbihlLnRhcmdldC5kYXRhc2V0LmlkKS5jYXJkKTtcbiAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmQtcmVtb3ZlJykpIHtcbiAgICB3b3Jrc3BhY2UucmVtb3ZlKGUudGFyZ2V0LmRhdGFzZXQuaWQpO1xuICAgIHJlZnJlc2hXb3Jrc3BhY2UoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWZyZXNoV29ya3NwYWNlKCkge1xuICBjb25zdCBsaXN0ID0gd29ya3NwYWNlLmxpc3QoKTtcbiAgY29uc3Qgd29ya3NwYWNlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29ya3NwYWNlJyk7XG4gIHdvcmtzcGFjZUVsLmlubmVySFRNTCA9ICcnO1xuXG4gIGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBsaXN0LmZvckVhY2goKG9wZW5lZENhcmQpID0+IHtcbiAgICAgIGNvbnN0IGRhdGUgPSBtb21lbnQob3BlbmVkQ2FyZC5tdGltZSkuZm9ybWF0KHQoJ2RhdGVGb3JtYXQnKSk7XG4gICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnTEknKTtcbiAgICAgIGl0ZW0uaW5uZXJIVE1MID0gYDxwPlxuICAgICAgICA8YSBjbGFzcz1cImNhcmQtbGlua1wiIGRhdGEtaWQ9XCIke29wZW5lZENhcmQuaWR9XCI+JHtvcGVuZWRDYXJkLmNhcmROYW1lfTwvYT5cbiAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS10aW1lcyBjYXJkLXJlbW92ZVwiIGRhdGEtaWQ9XCIke29wZW5lZENhcmQuaWR9XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICA8YnI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWxcIj4ke29wZW5lZENhcmQudGVtcGxhdGVOYW1lfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJsYWJlbFwiPiR7ZGF0ZX08L3NwYW4+XG4gICAgICA8L3A+YDtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgIH0pO1xuICAgIHdvcmtzcGFjZUVsLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICBoaWRlKCdub25lLW9wZW5lZCcpO1xuICB9IGVsc2Uge1xuICAgIHNob3coJ25vbmUtb3BlbmVkJyk7XG4gIH1cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgaW5pdCB9O1xuIiwiZnVuY3Rpb24gbWFrZUFycmF5KG5vZGVsaXN0KSB7XG4gIHJldHVybiBbXS5zbGljZS5jYWxsKG5vZGVsaXN0KTtcbn1cblxuZnVuY3Rpb24gYWxsQXJyYXkoZWwsIHF1ZXJ5KSB7XG4gIHJldHVybiBtYWtlQXJyYXkoZWwucXVlcnlTZWxlY3RvckFsbChxdWVyeSkpO1xufVxuXG5mdW5jdGlvbiBmaW5kQW5jZXN0b3IoZWwsIGNsYXNzTmFtZSkge1xuICBjb25zdCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50O1xuXG4gIGlmIChwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHJldHVybiBwYXJlbnQ7XG4gIHJldHVybiBmaW5kQW5jZXN0b3IocGFyZW50LCBjbGFzc05hbWUpO1xufVxuXG5mdW5jdGlvbiBzZXRDbGFzc2VzKGVsLCBhZGQsIHJlbW92ZSkge1xuICBpZiAoYWRkICYmIGFkZC5sZW5ndGggPiAwKSB7XG4gICAgYWRkLmZvckVhY2goY2xhc3NOYW1lID0+IGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKSk7XG4gIH1cbiAgaWYgKHJlbW92ZSAmJiByZW1vdmUubGVuZ3RoID4gMCkge1xuICAgIHJlbW92ZS5mb3JFYWNoKGNsYXNzTmFtZSA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSkpO1xuICB9XG59XG5cblxuY29uc3QgZGlzcGxheVZhbHVlcyA9IHtcbiAgY2FyZDogeyBzaG93bjogJ2Jsb2NrJywgaGlkZGVuOiAnbm9uZScgfSxcbiAgdG9vbGJhcjogeyBzaG93bjogJ2ZsZXgnLCBoaWRkZW46ICdub25lJyB9LFxuICBkYXNoYm9hcmQ6IHsgc2hvd246ICdmbGV4JywgaGlkZGVuOiAnbm9uZScgfSxcbiAgJ25vbmUtb3BlbmVkJzogeyBzaG93bjogJ2Jsb2NrJywgaGlkZGVuOiAnbm9uZScgfSxcbn07XG5cbmZ1bmN0aW9uIHNob3coKSB7XG4gIFtdLmZvckVhY2guY2FsbChhcmd1bWVudHMsIChpZCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheVZhbHVlc1tpZF0uc2hvd247XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoaWRlKCkge1xuICBbXS5mb3JFYWNoLmNhbGwoYXJndW1lbnRzLCAoaWQpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXlWYWx1ZXNbaWRdLmhpZGRlbjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVVybFBhcmFtcygpIHtcbiAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIGAke3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZX1gKTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYWxsQXJyYXksXG4gIGZpbmRBbmNlc3RvcixcbiAgc2V0Q2xhc3NlcyxcbiAgc2hvdyxcbiAgaGlkZSxcbiAgcmVtb3ZlVXJsUGFyYW1zLFxufTtcbiIsImxldCBjdXJyZW50SWQ7XG5cbmZ1bmN0aW9uIHNhdmUoZGF0YSwgdGVtcGxhdGVOYW1lLCBjYXJkTmFtZSkge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgaWYgKCFjdXJyZW50SWQpIGN1cnJlbnRJZCA9IGBjYXJkJHtub3d9YDtcblxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShjdXJyZW50SWQsIEpTT04uc3RyaW5naWZ5KHtcbiAgICBpZDogY3VycmVudElkLFxuICAgIHRlbXBsYXRlTmFtZSxcbiAgICBjYXJkTmFtZSxcbiAgICBtdGltZTogbm93LFxuICAgIGNhcmQ6IGRhdGEsXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gbG9hZChpZCkge1xuICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpZCkpO1xufVxuXG5mdW5jdGlvbiBvcGVuKGlkKSB7XG4gIGN1cnJlbnRJZCA9IGlkO1xuICByZXR1cm4gbG9hZChpZCk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlKCkge1xuICBjdXJyZW50SWQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiByZW1vdmUoaWQpIHtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaWQpO1xufVxuXG5mdW5jdGlvbiBsaXN0KCkge1xuICByZXR1cm4gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKVxuICAgIC5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaCgvXmNhcmRcXGQrJC8pKVxuICAgIC5tYXAoa2V5ID0+IGxvYWQoa2V5KSlcbiAgICAuc29ydCgoYSwgYikgPT4gYi5tdGltZSAtIGEubXRpbWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2F2ZSxcbiAgbG9hZCxcbiAgb3BlbixcbiAgY2xvc2UsXG4gIHJlbW92ZSxcbiAgbGlzdCxcbn07XG4iXX0=\n"]}